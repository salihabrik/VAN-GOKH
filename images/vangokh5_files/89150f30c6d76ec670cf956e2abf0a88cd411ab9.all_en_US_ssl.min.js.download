var requirejs,require,define;!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){var n=[],r=n.slice,i=n.concat,o=n.push,a=n.indexOf,s={},u=s.toString,l=s.hasOwnProperty,c={},d="1.11.2",f=function(e,t){return new f.fn.init(e,t)},p=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,h=/^-ms-/,m=/-([\da-z])/gi,g=function(e,t){return t.toUpperCase()};function v(e){var t=e.length,n=f.type(e);return"function"!==n&&!f.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}f.fn=f.prototype={jquery:d,constructor:f,selector:"",length:0,toArray:function(){return r.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:r.call(this)},pushStack:function(e){var t=f.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return f.each(this,e,t)},map:function(e){return this.pushStack(f.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:o,sort:n.sort,splice:n.splice},f.extend=f.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||f.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(i=arguments[s]))for(r in i)e=a[r],a!==(n=i[r])&&(l&&n&&(f.isPlainObject(n)||(t=f.isArray(n)))?(t?(t=!1,o=e&&f.isArray(e)?e:[]):o=e&&f.isPlainObject(e)?e:{},a[r]=f.extend(l,o,n)):void 0!==n&&(a[r]=n));return a},f.extend({expando:"jQuery"+(d+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===f.type(e)},isArray:Array.isArray||function(e){return"array"===f.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!f.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==f.type(e)||e.nodeType||f.isWindow(e))return!1;try{if(e.constructor&&!l.call(e,"constructor")&&!l.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(c.ownLast)for(t in e)return l.call(e,t);for(t in e);return void 0===t||l.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?s[u.call(e)]||"object":typeof e},globalEval:function(t){t&&f.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(h,"ms-").replace(m,g)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r=0,i=e.length,o=v(e);if(n){if(o)for(;r<i&&!1!==t.apply(e[r],n);r++);else for(r in e)if(!1===t.apply(e[r],n))break}else if(o)for(;r<i&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(p,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(v(Object(e))?f.merge(n,"string"==typeof e?[e]:e):o.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(a)return a.call(t,e,n);for(r=t.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;)e[i++]=t[r++];if(n!=n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,o=0,a=e.length,s=[];if(v(e))for(;o<a;o++)null!=(r=t(e[o],o,n))&&s.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&s.push(r);return i.apply([],s)},guid:1,proxy:function(e,t){var n,i,o;if("string"==typeof t&&(o=e[t],t=e,e=o),f.isFunction(e))return n=r.call(arguments,2),i=function(){return e.apply(t||this,n.concat(r.call(arguments)))},i.guid=e.guid=e.guid||f.guid++,i},now:function(){return+new Date},support:c}),f.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){s["[object "+t+"]"]=t.toLowerCase()});var y=function(e){var t,n,r,i,o,a,s,u,l,c,d,f,p,h,m,g,v,y,b,x="sizzle"+1*new Date,w=e.document,T=0,E=0,C=ae(),k=ae(),N=ae(),S=function(e,t){return e===t&&(d=!0),0},q=1<<31,j={}.hasOwnProperty,A=[],D=A.pop,L=A.push,M=A.push,O=A.slice,H=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},_="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",P="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",F=R.replace("w","w#"),B="\\["+P+"*("+R+")(?:"+P+"*([*^$|!~]?=)"+P+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+P+"*\\]",W=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",$=new RegExp(P+"+","g"),z=new RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g"),I=new RegExp("^"+P+"*,"+P+"*"),U=new RegExp("^"+P+"*([>+~]|"+P+")"+P+"*"),X=new RegExp("="+P+"*([^\\]'\"]*?)"+P+"*\\]","g"),Q=new RegExp(W),V=new RegExp("^"+F+"$"),G={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R.replace("w","w*")+")"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+W),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),bool:new RegExp("^(?:"+_+")$","i"),needsContext:new RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},J=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=/'|\\/g,ne=new RegExp("\\\\([\\da-f]{1,6}"+P+"?|("+P+")|.)","ig"),re=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},ie=function(){f()};try{M.apply(A=O.call(w.childNodes),w.childNodes),A[w.childNodes.length].nodeType}catch(e){M={apply:A.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function oe(e,t,r,i){var o,s,l,c,d,h,v,y,T,E;if((t?t.ownerDocument||t:w)!==p&&f(t),r=r||[],c=(t=t||p).nodeType,"string"!=typeof e||!e||1!==c&&9!==c&&11!==c)return r;if(!i&&m){if(11!==c&&(o=Z.exec(e)))if(l=o[1]){if(9===c){if(!(s=t.getElementById(l))||!s.parentNode)return r;if(s.id===l)return r.push(s),r}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(l))&&b(t,s)&&s.id===l)return r.push(s),r}else{if(o[2])return M.apply(r,t.getElementsByTagName(e)),r;if((l=o[3])&&n.getElementsByClassName)return M.apply(r,t.getElementsByClassName(l)),r}if(n.qsa&&(!g||!g.test(e))){if(y=v=x,T=t,E=1!==c&&e,1===c&&"object"!==t.nodeName.toLowerCase()){for(h=a(e),(v=t.getAttribute("id"))?y=v.replace(te,"\\$&"):t.setAttribute("id",y),y="[id='"+y+"'] ",d=h.length;d--;)h[d]=y+ge(h[d]);T=ee.test(e)&&he(t.parentNode)||t,E=h.join(",")}if(E)try{return M.apply(r,T.querySelectorAll(E)),r}catch(e){}finally{v||t.removeAttribute("id")}}}return u(e.replace(z,"$1"),t,r,i)}function ae(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function se(e){return e[x]=!0,e}function ue(e){var t=p.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){for(var n=e.split("|"),i=e.length;i--;)r.attrHandle[n[i]]=t}function ce(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||q)-(~e.sourceIndex||q);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function de(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function fe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function pe(e){return se(function(t){return t=+t,se(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function he(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=oe.support={},o=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},f=oe.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:w;return a!==p&&9===a.nodeType&&a.documentElement?(p=a,h=a.documentElement,(i=a.defaultView)&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",ie,!1):i.attachEvent&&i.attachEvent("onunload",ie)),m=!o(a),n.attributes=ue(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ue(function(e){return e.appendChild(a.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=K.test(a.getElementsByClassName),n.getById=ue(function(e){return h.appendChild(e).id=x,!a.getElementsByName||!a.getElementsByName(x).length}),n.getById?(r.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},r.filter.ID=function(e){var t=e.replace(ne,re);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(ne,re);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(m)return t.getElementsByClassName(e)},v=[],g=[],(n.qsa=K.test(a.querySelectorAll))&&(ue(function(e){h.appendChild(e).innerHTML="<a id='"+x+"'></a><select id='"+x+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+P+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+P+"*(?:value|"+_+")"),e.querySelectorAll("[id~="+x+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+x+"+*").length||g.push(".#.+[+~]")}),ue(function(e){var t=a.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+P+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(n.matchesSelector=K.test(y=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ue(function(e){n.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),v.push("!=",W)}),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=K.test(h.compareDocumentPosition),b=t||K.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},S=t?function(e,t){if(e===t)return d=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===a||e.ownerDocument===w&&b(w,e)?-1:t===a||t.ownerDocument===w&&b(w,t)?1:c?H(c,e)-H(c,t):0:4&r?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],u=[t];if(!i||!o)return e===a?-1:t===a?1:i?-1:o?1:c?H(c,e)-H(c,t):0;if(i===o)return ce(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;s[r]===u[r];)r++;return r?ce(s[r],u[r]):s[r]===w?-1:u[r]===w?1:0},a):p},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&f(e),t=t.replace(X,"='$1']"),n.matchesSelector&&m&&(!v||!v.test(t))&&(!g||!g.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return oe(t,p,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==p&&f(e),b(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==p&&f(e);var i=r.attrHandle[t.toLowerCase()],o=i&&j.call(r.attrHandle,t.toLowerCase())?i(e,t,!m):void 0;return void 0!==o?o:n.attributes||!m?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,r=[],i=0,o=0;if(d=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(S),d){for(;t=e[o++];)t===e[o]&&(i=r.push(o));for(;i--;)e.splice(r[i],1)}return c=null,e},i=oe.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},r=oe.selectors={cacheLength:50,createPseudo:se,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ne,re),e[3]=(e[3]||e[4]||e[5]||"").replace(ne,re),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&Q.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ne,re).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=C[e+" "];return t||(t=new RegExp("(^|"+P+")"+e+"("+P+"|$)"))&&C(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=oe.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace($," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,d,f,p,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(p=(l=(c=g[x]||(g[x]={}))[e]||[])[0]===T&&l[1],f=l[0]===T&&l[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(f=p=0)||h.pop();)if(1===d.nodeType&&++f&&d===t){c[e]=[T,p,f];break}}else if(y&&(l=(t[x]||(t[x]={}))[e])&&l[0]===T)f=l[1];else for(;(d=++p&&d&&d[m]||(f=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(y&&((d[x]||(d[x]={}))[e]=[T,f]),d!==t)););return(f-=i)===r||f%r==0&&f/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return i[x]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,n){for(var r,o=i(e,t),a=o.length;a--;)e[r=H(e,o[a])]=!(n[r]=o[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:se(function(e){var t=[],n=[],r=s(e.replace(z,"$1"));return r[x]?se(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:se(function(e){return function(t){return oe(e,t).length>0}}),contains:se(function(e){return e=e.replace(ne,re),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:se(function(e){return V.test(e||"")||oe.error("unsupported lang: "+e),e=e.replace(ne,re).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return Y.test(e.nodeName)},input:function(e){return J.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:pe(function(){return[0]}),last:pe(function(e,t){return[t-1]}),eq:pe(function(e,t,n){return[n<0?n+t:n]}),even:pe(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:pe(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:pe(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:pe(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},r.pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=de(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=fe(t);function me(){}function ge(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ve(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=E++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,u,l=[T,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if((s=(u=t[x]||(t[x]={}))[r])&&s[0]===T&&s[1]===o)return l[2]=s[2];if(u[r]=l,l[2]=e(t,n,a))return!0}}}function ye(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function be(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function xe(e,t,n,r,i,o){return r&&!r[x]&&(r=xe(r)),i&&!i[x]&&(i=xe(i,o)),se(function(o,a,s,u){var l,c,d,f=[],p=[],h=a.length,m=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)oe(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),g=!e||!o&&t?m:be(m,f,e,s,u),v=n?i||(o?e:h||r)?[]:a:g;if(n&&n(g,v,s,u),r)for(l=be(v,p),r(l,[],s,u),c=l.length;c--;)(d=l[c])&&(v[p[c]]=!(g[p[c]]=d));if(o){if(i||e){if(i){for(l=[],c=v.length;c--;)(d=v[c])&&l.push(g[c]=d);i(null,v=[],l,u)}for(c=v.length;c--;)(d=v[c])&&(l=i?H(o,d):f[c])>-1&&(o[l]=!(a[l]=d))}}else v=be(v===a?v.splice(h,v.length):v),i?i(null,a,v,u):M.apply(a,v)})}function we(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],u=a?1:0,c=ve(function(e){return e===t},s,!0),d=ve(function(e){return H(t,e)>-1},s,!0),f=[function(e,n,r){var i=!a&&(r||n!==l)||((t=n).nodeType?c(e,n,r):d(e,n,r));return t=null,i}];u<o;u++)if(n=r.relative[e[u].type])f=[ve(ye(f),n)];else{if((n=r.filter[e[u].type].apply(null,e[u].matches))[x]){for(i=++u;i<o&&!r.relative[e[i].type];i++);return xe(u>1&&ye(f),u>1&&ge(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(z,"$1"),n,u<i&&we(e.slice(u,i)),i<o&&we(e=e.slice(i)),i<o&&ge(e))}f.push(n)}return ye(f)}return me.prototype=r.filters=r.pseudos,r.setFilters=new me,a=oe.tokenize=function(e,t){var n,i,o,a,s,u,l,c=k[e+" "];if(c)return t?0:c.slice(0);for(s=e,u=[],l=r.preFilter;s;){for(a in n&&!(i=I.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=U.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(z," ")}),s=s.slice(n.length)),r.filter)!(i=G[a].exec(s))||l[a]&&!(i=l[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?oe.error(e):k(e,u).slice(0)},s=oe.compile=function(e,t){var n,i=[],o=[],s=N[e+" "];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=we(t[n]))[x]?i.push(s):o.push(s);s=N(e,function(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,s,u,c){var d,f,h,m=0,g="0",v=o&&[],y=[],b=l,x=o||i&&r.find.TAG("*",c),w=T+=null==b?1:Math.random()||.1,E=x.length;for(c&&(l=a!==p&&a);g!==E&&null!=(d=x[g]);g++){if(i&&d){for(f=0;h=e[f++];)if(h(d,a,s)){u.push(d);break}c&&(T=w)}n&&((d=!h&&d)&&m--,o&&v.push(d))}if(m+=g,n&&g!==m){for(f=0;h=t[f++];)h(v,y,a,s);if(o){if(m>0)for(;g--;)v[g]||y[g]||(y[g]=D.call(u));y=be(y)}M.apply(u,y),c&&!o&&y.length>0&&m+t.length>1&&oe.uniqueSort(u)}return c&&(T=w,l=b),v};return n?se(o):o}(o,i)),s.selector=e}return s},u=oe.select=function(e,t,i,o){var u,l,c,d,f,p="function"==typeof e&&e,h=!o&&a(e=p.selector||e);if(i=i||[],1===h.length){if((l=h[0]=h[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&n.getById&&9===t.nodeType&&m&&r.relative[l[1].type]){if(!(t=(r.find.ID(c.matches[0].replace(ne,re),t)||[])[0]))return i;p&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(u=G.needsContext.test(e)?0:l.length;u--&&(c=l[u],!r.relative[d=c.type]);)if((f=r.find[d])&&(o=f(c.matches[0].replace(ne,re),ee.test(l[0].type)&&he(t.parentNode)||t))){if(l.splice(u,1),!(e=o.length&&ge(l)))return M.apply(i,o),i;break}}return(p||s(e,h))(o,t,!m,i,ee.test(e)&&he(t.parentNode)||t),i},n.sortStable=x.split("").sort(S).join("")===x,n.detectDuplicates=!!d,f(),n.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(p.createElement("div"))}),ue(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||le("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&ue(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||le("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ue(function(e){return null==e.getAttribute("disabled")})||le(_,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),oe}(e);f.find=y,f.expr=y.selectors,f.expr[":"]=f.expr.pseudos,f.unique=y.uniqueSort,f.text=y.getText,f.isXMLDoc=y.isXML,f.contains=y.contains;var b=f.expr.match.needsContext,x=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function T(e,t,n){if(f.isFunction(t))return f.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return f.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(w.test(t))return f.filter(t,e,n);t=f.filter(t,e)}return f.grep(e,function(e){return f.inArray(e,t)>=0!==n})}f.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?f.find.matchesSelector(r,e)?[r]:[]:f.find.matches(e,f.grep(t,function(e){return 1===e.nodeType}))},f.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(f(e).filter(function(){for(t=0;t<i;t++)if(f.contains(r[t],this))return!0}));for(t=0;t<i;t++)f.find(e,r[t],n);return(n=this.pushStack(i>1?f.unique(n):n)).selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(T(this,e||[],!1))},not:function(e){return this.pushStack(T(this,e||[],!0))},is:function(e){return!!T(this,"string"==typeof e&&b.test(e)?f(e):e||[],!1).length}});var E,C=e.document,k=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(f.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:k.exec(e))||!n[1]&&t)return!t||t.jquery?(t||E).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof f?t[0]:t,f.merge(this,f.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:C,!0)),x.test(n[1])&&f.isPlainObject(t))for(n in t)f.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if((r=C.getElementById(n[2]))&&r.parentNode){if(r.id!==n[2])return E.find(e);this.length=1,this[0]=r}return this.context=C,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):f.isFunction(e)?void 0!==E.ready?E.ready(e):e(f):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),f.makeArray(e,this))}).prototype=f.fn,E=f(C);var N=/^(?:parents|prev(?:Until|All))/,S={children:!0,contents:!0,next:!0,prev:!0};function q(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}f.extend({dir:function(e,t,n){for(var r=[],i=e[t];i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!f(i).is(n));)1===i.nodeType&&r.push(i),i=i[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),f.fn.extend({has:function(e){var t,n=f(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(f.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=b.test(e)||"string"!=typeof e?f(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&f.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?f.unique(o):o)},index:function(e){return e?"string"==typeof e?f.inArray(this[0],f(e)):f.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(f.unique(f.merge(this.get(),f(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),f.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return f.dir(e,"parentNode")},parentsUntil:function(e,t,n){return f.dir(e,"parentNode",n)},next:function(e){return q(e,"nextSibling")},prev:function(e){return q(e,"previousSibling")},nextAll:function(e){return f.dir(e,"nextSibling")},prevAll:function(e){return f.dir(e,"previousSibling")},nextUntil:function(e,t,n){return f.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return f.dir(e,"previousSibling",n)},siblings:function(e){return f.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return f.sibling(e.firstChild)},contents:function(e){return f.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:f.merge([],e.childNodes)}},function(e,t){f.fn[e]=function(n,r){var i=f.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=f.filter(r,i)),this.length>1&&(S[e]||(i=f.unique(i)),N.test(e)&&(i=i.reverse())),this.pushStack(i)}});var j,A=/\S+/g,D={};function L(){C.addEventListener?(C.removeEventListener("DOMContentLoaded",M,!1),e.removeEventListener("load",M,!1)):(C.detachEvent("onreadystatechange",M),e.detachEvent("onload",M))}function M(){(C.addEventListener||"load"===event.type||"complete"===C.readyState)&&(L(),f.ready())}f.Callbacks=function(e){e="string"==typeof e?D[e]||function(e){var t=D[e]={};return f.each(e.match(A)||[],function(e,n){t[n]=!0}),t}(e):f.extend({},e);var t,n,r,i,o,a,s=[],u=!e.once&&[],l=function(d){for(n=e.memory&&d,r=!0,o=a||0,a=0,i=s.length,t=!0;s&&o<i;o++)if(!1===s[o].apply(d[0],d[1])&&e.stopOnFalse){n=!1;break}t=!1,s&&(u?u.length&&l(u.shift()):n?s=[]:c.disable())},c={add:function(){if(s){var r=s.length;!function t(n){f.each(n,function(n,r){var i=f.type(r);"function"===i?e.unique&&c.has(r)||s.push(r):r&&r.length&&"string"!==i&&t(r)})}(arguments),t?i=s.length:n&&(a=r,l(n))}return this},remove:function(){return s&&f.each(arguments,function(e,n){for(var r;(r=f.inArray(n,s,r))>-1;)s.splice(r,1),t&&(r<=i&&i--,r<=o&&o--)}),this},has:function(e){return e?f.inArray(e,s)>-1:!(!s||!s.length)},empty:function(){return s=[],i=0,this},disable:function(){return s=u=n=void 0,this},disabled:function(){return!s},lock:function(){return u=void 0,n||c.disable(),this},locked:function(){return!u},fireWith:function(e,n){return!s||r&&!u||(n=[e,(n=n||[]).slice?n.slice():n],t?u.push(n):l(n)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},f.extend({Deferred:function(e){var t=[["resolve","done",f.Callbacks("once memory"),"resolved"],["reject","fail",f.Callbacks("once memory"),"rejected"],["notify","progress",f.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return f.Deferred(function(n){f.each(t,function(t,o){var a=f.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&f.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?f.extend(e,r):r}},i={};return r.pipe=r.then,f.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,i,o=0,a=r.call(arguments),s=a.length,u=1!==s||e&&f.isFunction(e.promise)?s:0,l=1===u?e:f.Deferred(),c=function(e,n,i){return function(o){n[e]=this,i[e]=arguments.length>1?r.call(arguments):o,i===t?l.notifyWith(n,i):--u||l.resolveWith(n,i)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);o<s;o++)a[o]&&f.isFunction(a[o].promise)?a[o].promise().done(c(o,i,a)).fail(l.reject).progress(c(o,n,t)):--u;return u||l.resolveWith(i,a),l.promise()}}),f.fn.ready=function(e){return f.ready.promise().done(e),this},f.extend({isReady:!1,readyWait:1,holdReady:function(e){e?f.readyWait++:f.ready(!0)},ready:function(e){if(!(!0===e?--f.readyWait:f.isReady)){if(!C.body)return setTimeout(f.ready);f.isReady=!0,!0!==e&&--f.readyWait>0||(j.resolveWith(C,[f]),f.fn.triggerHandler&&(f(C).triggerHandler("ready"),f(C).off("ready")))}}}),f.ready.promise=function(t){if(!j)if(j=f.Deferred(),"complete"===C.readyState)setTimeout(f.ready);else if(C.addEventListener)C.addEventListener("DOMContentLoaded",M,!1),e.addEventListener("load",M,!1);else{C.attachEvent("onreadystatechange",M),e.attachEvent("onload",M);var n=!1;try{n=null==e.frameElement&&C.documentElement}catch(e){}n&&n.doScroll&&function e(){if(!f.isReady){try{n.doScroll("left")}catch(t){return setTimeout(e,50)}L(),f.ready()}}()}return j.promise(t)};var O,H="undefined";for(O in f(c))break;c.ownLast="0"!==O,c.inlineBlockNeedsLayout=!1,f(function(){var e,t,n,r;(n=C.getElementsByTagName("body")[0])&&n.style&&(t=C.createElement("div"),(r=C.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==H&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",c.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=C.createElement("div");if(null==c.deleteExpando){c.deleteExpando=!0;try{delete e.test}catch(e){c.deleteExpando=!1}}e=null}(),f.acceptData=function(e){var t=f.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)};var _=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,P=/([A-Z])/g;function R(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(P,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:_.test(n)?f.parseJSON(n):n)}catch(e){}f.data(e,t,n)}else n=void 0}return n}function F(e){var t;for(t in e)if(("data"!==t||!f.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function B(e,t,r,i){if(f.acceptData(e)){var o,a,s=f.expando,u=e.nodeType,l=u?f.cache:e,c=u?e[s]:e[s]&&s;if(c&&l[c]&&(i||l[c].data)||void 0!==r||"string"!=typeof t)return c||(c=u?e[s]=n.pop()||f.guid++:s),l[c]||(l[c]=u?{}:{toJSON:f.noop}),"object"!=typeof t&&"function"!=typeof t||(i?l[c]=f.extend(l[c],t):l[c].data=f.extend(l[c].data,t)),a=l[c],i||(a.data||(a.data={}),a=a.data),void 0!==r&&(a[f.camelCase(t)]=r),"string"==typeof t?null==(o=a[t])&&(o=a[f.camelCase(t)]):o=a,o}}function W(e,t,n){if(f.acceptData(e)){var r,i,o=e.nodeType,a=o?f.cache:e,s=o?e[f.expando]:f.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){i=(t=f.isArray(t)?t.concat(f.map(t,f.camelCase)):t in r||(t=f.camelCase(t))in r?[t]:t.split(" ")).length;for(;i--;)delete r[t[i]];if(n?!F(r):!f.isEmptyObject(r))return}(n||(delete a[s].data,F(a[s])))&&(o?f.cleanData([e],!0):c.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}f.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?f.cache[e[f.expando]]:e[f.expando])&&!F(e)},data:function(e,t,n){return B(e,t,n)},removeData:function(e,t){return W(e,t)},_data:function(e,t,n){return B(e,t,n,!0)},_removeData:function(e,t){return W(e,t,!0)}}),f.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=f.data(o),1===o.nodeType&&!f._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&R(o,r=f.camelCase(r.slice(5)),i[r]);f._data(o,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){f.data(this,e)}):arguments.length>1?this.each(function(){f.data(this,e,t)}):o?R(o,e,f.data(o,e)):void 0},removeData:function(e){return this.each(function(){f.removeData(this,e)})}}),f.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=f._data(e,t),n&&(!r||f.isArray(n)?r=f._data(e,t,f.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=f.queue(e,t),r=n.length,i=n.shift(),o=f._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){f.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return f._data(e,n)||f._data(e,n,{empty:f.Callbacks("once memory").add(function(){f._removeData(e,t+"queue"),f._removeData(e,n)})})}}),f.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?f.queue(this[0],e):void 0===t?this:this.each(function(){var n=f.queue(this,e,t);f._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&f.dequeue(this,e)})},dequeue:function(e){return this.each(function(){f.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=f.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=f._data(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var $=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,z=["Top","Right","Bottom","Left"],I=function(e,t){return e=t||e,"none"===f.css(e,"display")||!f.contains(e.ownerDocument,e)},U=f.access=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===f.type(n))for(s in i=!0,n)f.access(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,f.isFunction(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(f(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},X=/^(?:checkbox|radio)$/i;!function(){var e=C.createElement("input"),t=C.createElement("div"),n=C.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c.leadingWhitespace=3===t.firstChild.nodeType,c.tbody=!t.getElementsByTagName("tbody").length,c.htmlSerialize=!!t.getElementsByTagName("link").length,c.html5Clone="<:nav></:nav>"!==C.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),c.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",c.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",c.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,c.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){c.noCloneEvent=!1}),t.cloneNode(!0).click()),null==c.deleteExpando){c.deleteExpando=!0;try{delete t.test}catch(e){c.deleteExpando=!1}}}(),function(){var t,n,r=C.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(c[t+"Bubbles"]=n in e)||(r.setAttribute(n,"t"),c[t+"Bubbles"]=!1===r.attributes[n].expando);r=null}();var Q=/^(?:input|select|textarea)$/i,V=/^key/,G=/^(?:mouse|pointer|contextmenu)|click/,J=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\.(.+)|)$/;function K(){return!0}function Z(){return!1}function ee(){try{return C.activeElement}catch(e){}}function te(e){var t=ne.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}f.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,d,p,h,m,g,v=f._data(e);if(v){for(n.handler&&(n=(u=n).handler,i=u.selector),n.guid||(n.guid=f.guid++),(a=v.events)||(a=v.events={}),(c=v.handle)||(c=v.handle=function(e){return typeof f===H||e&&f.event.triggered===e.type?void 0:f.event.dispatch.apply(c.elem,arguments)},c.elem=e),s=(t=(t||"").match(A)||[""]).length;s--;)h=g=(o=Y.exec(t[s])||[])[1],m=(o[2]||"").split(".").sort(),h&&(l=f.event.special[h]||{},h=(i?l.delegateType:l.bindType)||h,l=f.event.special[h]||{},d=f.extend({type:h,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&f.expr.match.needsContext.test(i),namespace:m.join(".")},u),(p=a[h])||((p=a[h]=[]).delegateCount=0,l.setup&&!1!==l.setup.call(e,r,m,c)||(e.addEventListener?e.addEventListener(h,c,!1):e.attachEvent&&e.attachEvent("on"+h,c))),l.add&&(l.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,d):p.push(d),f.event.global[h]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,d,p,h,m,g,v=f.hasData(e)&&f._data(e);if(v&&(c=v.events)){for(l=(t=(t||"").match(A)||[""]).length;l--;)if(h=g=(s=Y.exec(t[l])||[])[1],m=(s[2]||"").split(".").sort(),h){for(d=f.event.special[h]||{},p=c[h=(r?d.delegateType:d.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=p.length;o--;)a=p[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(p.splice(o,1),a.selector&&p.delegateCount--,d.remove&&d.remove.call(e,a));u&&!p.length&&(d.teardown&&!1!==d.teardown.call(e,m,v.handle)||f.removeEvent(e,h,v.handle),delete c[h])}else for(h in c)f.event.remove(e,h+t[l],n,r,!0);f.isEmptyObject(c)&&(delete v.handle,f._removeData(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,u,c,d,p,h=[r||C],m=l.call(t,"type")?t.type:t,g=l.call(t,"namespace")?t.namespace.split("."):[];if(s=d=r=r||C,3!==r.nodeType&&8!==r.nodeType&&!J.test(m+f.event.triggered)&&(m.indexOf(".")>=0&&(g=m.split("."),m=g.shift(),g.sort()),a=m.indexOf(":")<0&&"on"+m,(t=t[f.expando]?t:new f.Event(m,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=g.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:f.makeArray(n,[t]),c=f.event.special[m]||{},i||!c.trigger||!1!==c.trigger.apply(r,n))){if(!i&&!c.noBubble&&!f.isWindow(r)){for(u=c.delegateType||m,J.test(u+m)||(s=s.parentNode);s;s=s.parentNode)h.push(s),d=s;d===(r.ownerDocument||C)&&h.push(d.defaultView||d.parentWindow||e)}for(p=0;(s=h[p++])&&!t.isPropagationStopped();)t.type=p>1?u:c.bindType||m,(o=(f._data(s,"events")||{})[t.type]&&f._data(s,"handle"))&&o.apply(s,n),(o=a&&s[a])&&o.apply&&f.acceptData(s)&&(t.result=o.apply(s,n),!1===t.result&&t.preventDefault());if(t.type=m,!i&&!t.isDefaultPrevented()&&(!c._default||!1===c._default.apply(h.pop(),n))&&f.acceptData(r)&&a&&r[m]&&!f.isWindow(r)){(d=r[a])&&(r[a]=null),f.event.triggered=m;try{r[m]()}catch(e){}f.event.triggered=void 0,d&&(r[a]=d)}return t.result}},dispatch:function(e){e=f.event.fix(e);var t,n,i,o,a,s,u=r.call(arguments),l=(f._data(this,"events")||{})[e.type]||[],c=f.event.special[e.type]||{};if(u[0]=e,e.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(s=f.event.handlers.call(this,e,l),t=0;(o=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,a=0;(i=o.handlers[a++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(i.namespace)||(e.handleObj=i,e.data=i.data,void 0!==(n=((f.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,u))&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(!0!==u.disabled||"click"!==e.type)){for(i=[],o=0;o<s;o++)void 0===i[n=(r=t[o]).selector+" "]&&(i[n]=r.needsContext?f(n,this).index(u)>=0:f.find(n,this,null,[u]).length),i[n]&&i.push(r);i.length&&a.push({elem:u,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[f.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=G.test(i)?this.mouseHooks:V.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new f.Event(o),t=r.length;t--;)e[n=r[t]]=o[n];return e.target||(e.target=o.srcElement||C),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=(r=e.target.ownerDocument||C).documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ee()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===ee()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(f.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return f.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=f.extend(new f.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?f.event.trigger(i,null,t):f.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},f.removeEvent=C.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===H&&(e[r]=null),e.detachEvent(r,n))},f.Event=function(e,t){if(!(this instanceof f.Event))return new f.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?K:Z):this.type=e,t&&f.extend(this,t),this.timeStamp=e&&e.timeStamp||f.now(),this[f.expando]=!0},f.Event.prototype={isDefaultPrevented:Z,isPropagationStopped:Z,isImmediatePropagationStopped:Z,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=K,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=K,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=K,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},f.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){f.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,i=e.handleObj;return r&&(r===this||f.contains(this,r))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),c.submitBubbles||(f.event.special.submit={setup:function(){if(f.nodeName(this,"form"))return!1;f.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=f.nodeName(t,"input")||f.nodeName(t,"button")?t.form:void 0;n&&!f._data(n,"submitBubbles")&&(f.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),f._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&f.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(f.nodeName(this,"form"))return!1;f.event.remove(this,"._submit")}}),c.changeBubbles||(f.event.special.change={setup:function(){if(Q.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(f.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),f.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),f.event.simulate("change",this,e,!0)})),!1;f.event.add(this,"beforeactivate._change",function(e){var t=e.target;Q.test(t.nodeName)&&!f._data(t,"changeBubbles")&&(f.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||f.event.simulate("change",this.parentNode,e,!0)}),f._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return f.event.remove(this,"._change"),!Q.test(this.nodeName)}}),c.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){f.event.simulate(t,e.target,f.event.fix(e),!0)};f.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=f._data(r,t);i||r.addEventListener(e,n,!0),f._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=f._data(r,t)-1;i?f._data(r,t,i):(r.removeEventListener(e,n,!0),f._removeData(r,t))}}}),f.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){for(o in"string"!=typeof t&&(n=n||t,t=void 0),e)this.on(o,t,n,e[o],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),!1===r)r=Z;else if(!r)return this;return 1===i&&(a=r,r=function(e){return f().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=f.guid++)),this.each(function(){f.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,f(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Z),this.each(function(){f.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){f.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return f.event.trigger(e,t,n,!0)}});var ne="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",re=/ jQuery\d+="(?:null|\d+)"/g,ie=new RegExp("<(?:"+ne+")[\\s/>]","i"),oe=/^\s+/,ae=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,se=/<([\w:]+)/,ue=/<tbody/i,le=/<|&#?\w+;/,ce=/<(?:script|style|link)/i,de=/checked\s*(?:[^=]|=\s*.checked.)/i,fe=/^$|\/(?:java|ecma)script/i,pe=/^true\/(.*)/,he=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,me={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:c.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ge=te(C).appendChild(C.createElement("div"));function ve(e,t){var n,r,i=0,o=typeof e.getElementsByTagName!==H?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==H?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||f.nodeName(r,t)?o.push(r):f.merge(o,ve(r,t));return void 0===t||t&&f.nodeName(e,t)?f.merge([e],o):o}function ye(e){X.test(e.type)&&(e.defaultChecked=e.checked)}function be(e,t){return f.nodeName(e,"table")&&f.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function xe(e){return e.type=(null!==f.find.attr(e,"type"))+"/"+e.type,e}function we(e){var t=pe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Te(e,t){for(var n,r=0;null!=(n=e[r]);r++)f._data(n,"globalEval",!t||f._data(t[r],"globalEval"))}function Ee(e,t){if(1===t.nodeType&&f.hasData(e)){var n,r,i,o=f._data(e),a=f._data(t,o),s=o.events;if(s)for(n in delete a.handle,a.events={},s)for(r=0,i=s[n].length;r<i;r++)f.event.add(t,n,s[n][r]);a.data&&(a.data=f.extend({},a.data))}}function Ce(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!c.noCloneEvent&&t[f.expando]){for(r in(i=f._data(t)).events)f.removeEvent(t,r,i.handle);t.removeAttribute(f.expando)}"script"===n&&t.text!==e.text?(xe(t).text=e.text,we(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),c.html5Clone&&e.innerHTML&&!f.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&X.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}me.optgroup=me.option,me.tbody=me.tfoot=me.colgroup=me.caption=me.thead,me.th=me.td,f.extend({clone:function(e,t,n){var r,i,o,a,s,u=f.contains(e.ownerDocument,e);if(c.html5Clone||f.isXMLDoc(e)||!ie.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(ge.innerHTML=e.outerHTML,ge.removeChild(o=ge.firstChild)),!(c.noCloneEvent&&c.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||f.isXMLDoc(e)))for(r=ve(o),s=ve(e),a=0;null!=(i=s[a]);++a)r[a]&&Ce(i,r[a]);if(t)if(n)for(s=s||ve(e),r=r||ve(o),a=0;null!=(i=s[a]);a++)Ee(i,r[a]);else Ee(e,o);return(r=ve(o,"script")).length>0&&Te(r,!u&&ve(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){for(var i,o,a,s,u,l,d,p=e.length,h=te(t),m=[],g=0;g<p;g++)if((o=e[g])||0===o)if("object"===f.type(o))f.merge(m,o.nodeType?[o]:o);else if(le.test(o)){for(s=s||h.appendChild(t.createElement("div")),u=(se.exec(o)||["",""])[1].toLowerCase(),d=me[u]||me._default,s.innerHTML=d[1]+o.replace(ae,"<$1></$2>")+d[2],i=d[0];i--;)s=s.lastChild;if(!c.leadingWhitespace&&oe.test(o)&&m.push(t.createTextNode(oe.exec(o)[0])),!c.tbody)for(i=(o="table"!==u||ue.test(o)?"<table>"!==d[1]||ue.test(o)?0:s:s.firstChild)&&o.childNodes.length;i--;)f.nodeName(l=o.childNodes[i],"tbody")&&!l.childNodes.length&&o.removeChild(l);for(f.merge(m,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=h.lastChild}else m.push(t.createTextNode(o));for(s&&h.removeChild(s),c.appendChecked||f.grep(ve(m,"input"),ye),g=0;o=m[g++];)if((!r||-1===f.inArray(o,r))&&(a=f.contains(o.ownerDocument,o),s=ve(h.appendChild(o),"script"),a&&Te(s),n))for(i=0;o=s[i++];)fe.test(o.type||"")&&n.push(o);return s=null,h},cleanData:function(e,t){for(var r,i,o,a,s=0,u=f.expando,l=f.cache,d=c.deleteExpando,p=f.event.special;null!=(r=e[s]);s++)if((t||f.acceptData(r))&&(a=(o=r[u])&&l[o])){if(a.events)for(i in a.events)p[i]?f.event.remove(r,i):f.removeEvent(r,i,a.handle);l[o]&&(delete l[o],d?delete r[u]:typeof r.removeAttribute!==H?r.removeAttribute(u):r[u]=null,n.push(o))}}}),f.fn.extend({text:function(e){return U(this,function(e){return void 0===e?f.text(this):this.empty().append((this[0]&&this[0].ownerDocument||C).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||be(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=be(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?f.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||f.cleanData(ve(n)),n.parentNode&&(t&&f.contains(n.ownerDocument,n)&&Te(ve(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&f.cleanData(ve(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&f.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return f.clone(this,e,t)})},html:function(e){return U(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(re,""):void 0;if("string"==typeof e&&!ce.test(e)&&(c.htmlSerialize||!ie.test(e))&&(c.leadingWhitespace||!oe.test(e))&&!me[(se.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(ae,"<$1></$2>");try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(f.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,f.cleanData(ve(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=i.apply([],e);var n,r,o,a,s,u,l=0,d=this.length,p=this,h=d-1,m=e[0],g=f.isFunction(m);if(g||d>1&&"string"==typeof m&&!c.checkClone&&de.test(m))return this.each(function(n){var r=p.eq(n);g&&(e[0]=m.call(this,n,r.html())),r.domManip(e,t)});if(d&&(n=(u=f.buildFragment(e,this[0].ownerDocument,!1,this)).firstChild,1===u.childNodes.length&&(u=n),n)){for(o=(a=f.map(ve(u,"script"),xe)).length;l<d;l++)r=u,l!==h&&(r=f.clone(r,!0,!0),o&&f.merge(a,ve(r,"script"))),t.call(this[l],r,l);if(o)for(s=a[a.length-1].ownerDocument,f.map(a,we),l=0;l<o;l++)r=a[l],fe.test(r.type||"")&&!f._data(r,"globalEval")&&f.contains(s,r)&&(r.src?f._evalUrl&&f._evalUrl(r.src):f.globalEval((r.text||r.textContent||r.innerHTML||"").replace(he,"")));u=n=null}return this}}),f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){f.fn[e]=function(e){for(var n,r=0,i=[],a=f(e),s=a.length-1;r<=s;r++)n=r===s?this:this.clone(!0),f(a[r])[t](n),o.apply(i,n.get());return this.pushStack(i)}});var ke,Ne,Se={};function qe(t,n){var r,i=f(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:f.css(i[0],"display");return i.detach(),o}function je(e){var t=C,n=Se[e];return n||("none"!==(n=qe(e,t))&&n||((t=((ke=(ke||f("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentWindow||ke[0].contentDocument).document).write(),t.close(),n=qe(e,t),ke.detach()),Se[e]=n),n}c.shrinkWrapBlocks=function(){return null!=Ne?Ne:(Ne=!1,(t=C.getElementsByTagName("body")[0])&&t.style?(e=C.createElement("div"),(n=C.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",t.appendChild(n).appendChild(e),typeof e.style.zoom!==H&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(C.createElement("div")).style.width="5px",Ne=3!==e.offsetWidth),t.removeChild(n),Ne):void 0);var e,t,n};var Ae,De,Le=/^margin/,Me=new RegExp("^("+$+")(?!px)[a-z%]+$","i"),Oe=/^(top|right|bottom|left)$/;function He(e,t){return{get:function(){var n=e();if(null!=n){if(!n)return(this.get=t).apply(this,arguments);delete this.get}}}}e.getComputedStyle?(Ae=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},De=function(e,t,n){var r,i,o,a,s=e.style;return a=(n=n||Ae(e))?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==a||f.contains(e.ownerDocument,e)||(a=f.style(e,t)),Me.test(a)&&Le.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0===a?a:a+""}):C.documentElement.currentStyle&&(Ae=function(e){return e.currentStyle},De=function(e,t,n){var r,i,o,a,s=e.style;return null==(a=(n=n||Ae(e))?n[t]:void 0)&&s&&s[t]&&(a=s[t]),Me.test(a)&&!Oe.test(t)&&(r=s.left,(o=(i=e.runtimeStyle)&&i.left)&&(i.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=r,o&&(i.left=o)),void 0===a?a:a+""||"auto"}),function(){var t,n,r,i,o,a,s;function u(){var t,n,r,u;(n=C.getElementsByTagName("body")[0])&&n.style&&(t=C.createElement("div"),(r=C.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",i=o=!1,s=!0,e.getComputedStyle&&(i="1%"!==(e.getComputedStyle(t,null)||{}).top,o="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,(u=t.appendChild(C.createElement("div"))).style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",u.style.marginRight=u.style.width="0",t.style.width="1px",s=!parseFloat((e.getComputedStyle(u,null)||{}).marginRight),t.removeChild(u)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(u=t.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(a=0===u[0].offsetHeight)&&(u[0].style.display="",u[1].style.display="none",a=0===u[0].offsetHeight),n.removeChild(r))}(t=C.createElement("div")).innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",(n=(r=t.getElementsByTagName("a")[0])&&r.style)&&(n.cssText="float:left;opacity:.5",c.opacity="0.5"===n.opacity,c.cssFloat=!!n.cssFloat,t.style.backgroundClip="content-box",t.cloneNode(!0).style.backgroundClip="",c.clearCloneStyle="content-box"===t.style.backgroundClip,c.boxSizing=""===n.boxSizing||""===n.MozBoxSizing||""===n.WebkitBoxSizing,f.extend(c,{reliableHiddenOffsets:function(){return null==a&&u(),a},boxSizingReliable:function(){return null==o&&u(),o},pixelPosition:function(){return null==i&&u(),i},reliableMarginRight:function(){return null==s&&u(),s}}))}(),f.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i};var _e=/alpha\([^)]*\)/i,Pe=/opacity\s*=\s*([^)]*)/,Re=/^(none|table(?!-c[ea]).+)/,Fe=new RegExp("^("+$+")(.*)$","i"),Be=new RegExp("^([+-])=("+$+")","i"),We={position:"absolute",visibility:"hidden",display:"block"},$e={letterSpacing:"0",fontWeight:"400"},ze=["Webkit","O","Moz","ms"];function Ie(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=ze.length;i--;)if((t=ze[i]+n)in e)return t;return r}function Ue(e,t){for(var n,r,i,o=[],a=0,s=e.length;a<s;a++)(r=e[a]).style&&(o[a]=f._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&I(r)&&(o[a]=f._data(r,"olddisplay",je(r.nodeName)))):(i=I(r),(n&&"none"!==n||!i)&&f._data(r,"olddisplay",i?n:f.css(r,"display"))));for(a=0;a<s;a++)(r=e[a]).style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function Xe(e,t,n){var r=Fe.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function Qe(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=f.css(e,n+z[o],!0,i)),r?("content"===n&&(a-=f.css(e,"padding"+z[o],!0,i)),"margin"!==n&&(a-=f.css(e,"border"+z[o]+"Width",!0,i))):(a+=f.css(e,"padding"+z[o],!0,i),"padding"!==n&&(a+=f.css(e,"border"+z[o]+"Width",!0,i)));return a}function Ve(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Ae(e),a=c.boxSizing&&"border-box"===f.css(e,"boxSizing",!1,o);if(i<=0||null==i){if(((i=De(e,t,o))<0||null==i)&&(i=e.style[t]),Me.test(i))return i;r=a&&(c.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+Qe(e,t,n||(a?"border":"content"),r,o)+"px"}function Ge(e,t,n,r,i){return new Ge.prototype.init(e,t,n,r,i)}f.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=De(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:c.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=f.camelCase(t),u=e.style;if(t=f.cssProps[s]||(f.cssProps[s]=Ie(u,s)),a=f.cssHooks[t]||f.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t];if(!("string"===(o=typeof n)&&(i=Be.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(f.css(e,t)),o="number"),null==n||n!=n||("number"!==o||f.cssNumber[s]||(n+="px"),c.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r)))))try{u[t]=n}catch(e){}}},css:function(e,t,n,r){var i,o,a,s=f.camelCase(t);return t=f.cssProps[s]||(f.cssProps[s]=Ie(e.style,s)),(a=f.cssHooks[t]||f.cssHooks[s])&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=De(e,t,r)),"normal"===o&&t in $e&&(o=$e[t]),""===n||n?(i=parseFloat(o),!0===n||f.isNumeric(i)?i||0:o):o}}),f.each(["height","width"],function(e,t){f.cssHooks[t]={get:function(e,n,r){if(n)return Re.test(f.css(e,"display"))&&0===e.offsetWidth?f.swap(e,We,function(){return Ve(e,t,r)}):Ve(e,t,r)},set:function(e,n,r){var i=r&&Ae(e);return Xe(0,n,r?Qe(e,t,r,c.boxSizing&&"border-box"===f.css(e,"boxSizing",!1,i),i):0)}}}),c.opacity||(f.cssHooks.opacity={get:function(e,t){return Pe.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=f.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===f.trim(o.replace(_e,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=_e.test(o)?o.replace(_e,i):o+" "+i)}}),f.cssHooks.marginRight=He(c.reliableMarginRight,function(e,t){if(t)return f.swap(e,{display:"inline-block"},De,[e,"marginRight"])}),f.each({margin:"",padding:"",border:"Width"},function(e,t){f.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+z[r]+t]=o[r]||o[r-2]||o[0];return i}},Le.test(e)||(f.cssHooks[e+t].set=Xe)}),f.fn.extend({css:function(e,t){return U(this,function(e,t,n){var r,i,o={},a=0;if(f.isArray(t)){for(r=Ae(e),i=t.length;a<i;a++)o[t[a]]=f.css(e,t[a],!1,r);return o}return void 0!==n?f.style(e,t,n):f.css(e,t)},e,t,arguments.length>1)},show:function(){return Ue(this,!0)},hide:function(){return Ue(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){I(this)?f(this).show():f(this).hide()})}}),f.Tween=Ge,Ge.prototype={constructor:Ge,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(f.cssNumber[n]?"":"px")},cur:function(){var e=Ge.propHooks[this.prop];return e&&e.get?e.get(this):Ge.propHooks._default.get(this)},run:function(e){var t,n=Ge.propHooks[this.prop];return this.options.duration?this.pos=t=f.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ge.propHooks._default.set(this),this}},Ge.prototype.init.prototype=Ge.prototype,Ge.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=f.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){f.fx.step[e.prop]?f.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[f.cssProps[e.prop]]||f.cssHooks[e.prop])?f.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Ge.propHooks.scrollTop=Ge.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},f.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},f.fx=Ge.prototype.init,f.fx.step={};var Je,Ye,Ke,Ze,et,tt,nt,rt=/^(?:toggle|show|hide)$/,it=new RegExp("^(?:([+-])=|)("+$+")([a-z%]*)$","i"),ot=/queueHooks$/,at=[function(e,t,n){var r,i,o,a,s,u,l,d=this,p={},h=e.style,m=e.nodeType&&I(e),g=f._data(e,"fxshow");n.queue||(null==(s=f._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,f.queue(e,"fx").length||s.empty.fire()})}));1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===("none"===(l=f.css(e,"display"))?f._data(e,"olddisplay")||je(e.nodeName):l)&&"none"===f.css(e,"float")&&(c.inlineBlockNeedsLayout&&"inline"!==je(e.nodeName)?h.zoom=1:h.display="inline-block"));n.overflow&&(h.overflow="hidden",c.shrinkWrapBlocks()||d.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],rt.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;m=!0}p[r]=g&&g[r]||f.style(e,r)}else l=void 0;if(f.isEmptyObject(p))"inline"===("none"===l?je(e.nodeName):l)&&(h.display=l);else for(r in g?"hidden"in g&&(m=g.hidden):g=f._data(e,"fxshow",{}),o&&(g.hidden=!m),m?f(e).show():d.done(function(){f(e).hide()}),d.done(function(){var t;for(t in f._removeData(e,"fxshow"),p)f.style(e,t,p[t])}),p)a=ct(m?g[r]:0,r,d),r in g||(g[r]=a.start,m&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}],st={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=it.exec(t),o=i&&i[3]||(f.cssNumber[e]?"":"px"),a=(f.cssNumber[e]||"px"!==o&&+r)&&it.exec(f.css(n.elem,e)),s=1,u=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do{a/=s=s||".5",f.style(n.elem,e,a+o)}while(s!==(s=n.cur()/r)&&1!==s&&--u)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};function ut(){return setTimeout(function(){Je=void 0}),Je=f.now()}function lt(e,t){var n,r={height:e},i=0;for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=z[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function ct(e,t,n){for(var r,i=(st[t]||[]).concat(st["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function dt(e,t,n){var r,i,o=0,a=at.length,s=f.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=Je||ut(),n=Math.max(0,l.startTime+l.duration-t),r=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(r);return s.notifyWith(e,[l,r,n]),r<1&&a?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:f.extend({},t),opts:f.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Je||ut(),duration:n.duration,tweens:[],createTween:function(t,n){var r=f.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=f.camelCase(n)],o=e[n],f.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=f.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);o<a;o++)if(r=at[o].call(l,e,c,l.opts))return r;return f.map(c,ct,l),f.isFunction(l.opts.start)&&l.opts.start.call(e,l),f.fx.timer(f.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}f.Animation=f.extend(dt,{tweener:function(e,t){f.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;r<i;r++)n=e[r],st[n]=st[n]||[],st[n].unshift(t)},prefilter:function(e,t){t?at.unshift(e):at.push(e)}}),f.speed=function(e,t,n){var r=e&&"object"==typeof e?f.extend({},e):{complete:n||!n&&t||f.isFunction(e)&&e,duration:e,easing:n&&t||t&&!f.isFunction(t)&&t};return r.duration=f.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in f.fx.speeds?f.fx.speeds[r.duration]:f.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){f.isFunction(r.old)&&r.old.call(this),r.queue&&f.dequeue(this,r.queue)},r},f.fn.extend({fadeTo:function(e,t,n,r){return this.filter(I).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=f.isEmptyObject(e),o=f.speed(t,n,r),a=function(){var t=dt(this,f.extend({},e),o);(i||f._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=f.timers,a=f._data(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&ot.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||f.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=f._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=f.timers,a=r?r.length:0;for(n.finish=!0,f.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),f.each(["toggle","show","hide"],function(e,t){var n=f.fn[t];f.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(lt(t,!0),e,r,i)}}),f.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){f.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),f.timers=[],f.fx.tick=function(){var e,t=f.timers,n=0;for(Je=f.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||f.fx.stop(),Je=void 0},f.fx.timer=function(e){f.timers.push(e),e()?f.fx.start():f.timers.pop()},f.fx.interval=13,f.fx.start=function(){Ye||(Ye=setInterval(f.fx.tick,f.fx.interval))},f.fx.stop=function(){clearInterval(Ye),Ye=null},f.fx.speeds={slow:600,fast:200,_default:400},f.fn.delay=function(e,t){return e=f.fx&&f.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},(Ze=C.createElement("div")).setAttribute("className","t"),Ze.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",tt=Ze.getElementsByTagName("a")[0],nt=(et=C.createElement("select")).appendChild(C.createElement("option")),Ke=Ze.getElementsByTagName("input")[0],tt.style.cssText="top:1px",c.getSetAttribute="t"!==Ze.className,c.style=/top/.test(tt.getAttribute("style")),c.hrefNormalized="/a"===tt.getAttribute("href"),c.checkOn=!!Ke.value,c.optSelected=nt.selected,c.enctype=!!C.createElement("form").enctype,et.disabled=!0,c.optDisabled=!nt.disabled,(Ke=C.createElement("input")).setAttribute("value",""),c.input=""===Ke.getAttribute("value"),Ke.value="t",Ke.setAttribute("type","radio"),c.radioValue="t"===Ke.value;var ft=/\r/g;f.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=f.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,f(this).val()):e)?i="":"number"==typeof i?i+="":f.isArray(i)&&(i=f.map(i,function(e){return null==e?"":e+""})),(t=f.valHooks[this.type]||f.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=f.valHooks[i.type]||f.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(ft,""):null==n?"":n:void 0}}),f.extend({valHooks:{option:{get:function(e){var t=f.find.attr(e,"value");return null!=t?t:f.trim(f.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,a=o?null:[],s=o?i+1:r.length,u=i<0?s:o?i:0;u<s;u++)if(((n=r[u]).selected||u===i)&&(c.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!f.nodeName(n.parentNode,"optgroup"))){if(t=f(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=f.makeArray(t),a=i.length;a--;)if(r=i[a],f.inArray(f.valHooks.option.get(r),o)>=0)try{r.selected=n=!0}catch(e){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]={set:function(e,t){if(f.isArray(t))return e.checked=f.inArray(f(e).val(),t)>=0}},c.checkOn||(f.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var pt,ht,mt=f.expr.attrHandle,gt=/^(?:checked|selected)$/i,vt=c.getSetAttribute,yt=c.input;f.fn.extend({attr:function(e,t){return U(this,f.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){f.removeAttr(this,e)})}}),f.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===H?f.prop(e,t,n):(1===o&&f.isXMLDoc(e)||(t=t.toLowerCase(),r=f.attrHooks[t]||(f.expr.match.bool.test(t)?ht:pt)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=f.find.attr(e,t))?void 0:i:null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void f.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(A);if(o&&1===e.nodeType)for(;n=o[i++];)r=f.propFix[n]||n,f.expr.match.bool.test(n)?yt&&vt||!gt.test(n)?e[r]=!1:e[f.camelCase("default-"+n)]=e[r]=!1:f.attr(e,n,""),e.removeAttribute(vt?n:r)},attrHooks:{type:{set:function(e,t){if(!c.radioValue&&"radio"===t&&f.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),ht={set:function(e,t,n){return!1===t?f.removeAttr(e,n):yt&&vt||!gt.test(n)?e.setAttribute(!vt&&f.propFix[n]||n,n):e[f.camelCase("default-"+n)]=e[n]=!0,n}},f.each(f.expr.match.bool.source.match(/\w+/g),function(e,t){var n=mt[t]||f.find.attr;mt[t]=yt&&vt||!gt.test(t)?function(e,t,r){var i,o;return r||(o=mt[t],mt[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,mt[t]=o),i}:function(e,t,n){if(!n)return e[f.camelCase("default-"+t)]?t.toLowerCase():null}}),yt&&vt||(f.attrHooks.value={set:function(e,t,n){if(!f.nodeName(e,"input"))return pt&&pt.set(e,t,n);e.defaultValue=t}}),vt||(pt={set:function(e,t,n){var r=e.getAttributeNode(n);if(r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n))return t}},mt.id=mt.name=mt.coords=function(e,t,n){var r;if(!n)return(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},f.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);if(n&&n.specified)return n.value},set:pt.set},f.attrHooks.contenteditable={set:function(e,t,n){pt.set(e,""!==t&&t,n)}},f.each(["width","height"],function(e,t){f.attrHooks[t]={set:function(e,n){if(""===n)return e.setAttribute(t,"auto"),n}}})),c.style||(f.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var bt=/^(?:input|select|textarea|button|object)$/i,xt=/^(?:a|area)$/i;f.fn.extend({prop:function(e,t){return U(this,f.prop,e,t,arguments.length>1)},removeProp:function(e){return e=f.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(e){}})}}),f.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return(1!==o||!f.isXMLDoc(e))&&(t=f.propFix[t]||t,i=f.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=f.find.attr(e,"tabindex");return t?parseInt(t,10):bt.test(e.nodeName)||xt.test(e.nodeName)&&e.href?0:-1}}}}),c.hrefNormalized||f.each(["href","src"],function(e,t){f.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),c.optSelected||(f.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),f.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){f.propFix[this.toLowerCase()]=this}),c.enctype||(f.propFix.enctype="encoding");var wt=/[\t\r\n\f]/g;f.fn.extend({addClass:function(e){var t,n,r,i,o,a,s=0,u=this.length,l="string"==typeof e&&e;if(f.isFunction(e))return this.each(function(t){f(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(A)||[];s<u;s++)if(r=1===(n=this[s]).nodeType&&(n.className?(" "+n.className+" ").replace(wt," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=f.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0,u=this.length,l=0===arguments.length||"string"==typeof e&&e;if(f.isFunction(e))return this.each(function(t){f(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(A)||[];s<u;s++)if(r=1===(n=this[s]).nodeType&&(n.className?(" "+n.className+" ").replace(wt," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?f.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):f.isFunction(e)?this.each(function(n){f(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,r=0,i=f(this),o=e.match(A)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else n!==H&&"boolean"!==n||(this.className&&f._data(this,"__className__",this.className),this.className=this.className||!1===e?"":f._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;n<r;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(wt," ").indexOf(t)>=0)return!0;return!1}}),f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){f.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),f.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Tt=f.now(),Et=/\?/,Ct=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;f.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=f.trim(t+"");return i&&!f.trim(i.replace(Ct,function(e,t,i,o){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!o-!i,"")}))?Function("return "+i)():f.error("Invalid JSON: "+t)},f.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{e.DOMParser?n=(new DOMParser).parseFromString(t,"text/xml"):((n=new ActiveXObject("Microsoft.XMLDOM")).async="false",n.loadXML(t))}catch(e){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||f.error("Invalid XML: "+t),n};var kt,Nt,St=/#.*$/,qt=/([?&])_=[^&]*/,jt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,At=/^(?:GET|HEAD)$/,Dt=/^\/\//,Lt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Mt={},Ot={},Ht="*/".concat("*");try{Nt=location.href}catch(e){(Nt=C.createElement("a")).href="",Nt=Nt.href}function _t(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(A)||[];if(f.isFunction(n))for(;r=o[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Pt(e,t,n,r){var i={},o=e===Ot;function a(s){var u;return i[s]=!0,f.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||o||i[l]?o?!(u=l):void 0:(t.dataTypes.unshift(l),a(l),!1)}),u}return a(t.dataTypes[0])||!i["*"]&&a("*")}function Rt(e,t){var n,r,i=f.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&f.extend(!0,e,n),e}kt=Lt.exec(Nt.toLowerCase())||[],f.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Nt,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(kt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ht,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Rt(Rt(e,f.ajaxSettings),t):Rt(f.ajaxSettings,e)},ajaxPrefilter:_t(Mt),ajaxTransport:_t(Ot),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r,i,o,a,s,u,l,c=f.ajaxSetup({},t),d=c.context||c,p=c.context&&(d.nodeType||d.jquery)?f(d):f.event,h=f.Deferred(),m=f.Callbacks("once memory"),g=c.statusCode||{},v={},y={},b=0,x="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!l)for(l={};t=jt.exec(o);)l[t[1].toLowerCase()]=t[2];t=l[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||x;return u&&u.abort(t),T(0,t),this}};if(h.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,c.url=((e||c.url||Nt)+"").replace(St,"").replace(Dt,kt[1]+"//"),c.type=t.method||t.type||c.method||c.type,c.dataTypes=f.trim(c.dataType||"*").toLowerCase().match(A)||[""],null==c.crossDomain&&(n=Lt.exec(c.url.toLowerCase()),c.crossDomain=!(!n||n[1]===kt[1]&&n[2]===kt[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(kt[3]||("http:"===kt[1]?"80":"443")))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=f.param(c.data,c.traditional)),Pt(Mt,c,t,w),2===b)return w;for(r in(s=f.event&&c.global)&&0==f.active++&&f.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!At.test(c.type),i=c.url,c.hasContent||(c.data&&(i=c.url+=(Et.test(i)?"&":"?")+c.data,delete c.data),!1===c.cache&&(c.url=qt.test(i)?i.replace(qt,"$1_="+Tt++):i+(Et.test(i)?"&":"?")+"_="+Tt++)),c.ifModified&&(f.lastModified[i]&&w.setRequestHeader("If-Modified-Since",f.lastModified[i]),f.etag[i]&&w.setRequestHeader("If-None-Match",f.etag[i])),(c.data&&c.hasContent&&!1!==c.contentType||t.contentType)&&w.setRequestHeader("Content-Type",c.contentType),w.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+Ht+"; q=0.01":""):c.accepts["*"]),c.headers)w.setRequestHeader(r,c.headers[r]);if(c.beforeSend&&(!1===c.beforeSend.call(d,w,c)||2===b))return w.abort();for(r in x="abort",{success:1,error:1,complete:1})w[r](c[r]);if(u=Pt(Ot,c,t,w)){w.readyState=1,s&&p.trigger("ajaxSend",[w,c]),c.async&&c.timeout>0&&(a=setTimeout(function(){w.abort("timeout")},c.timeout));try{b=1,u.send(v,T)}catch(e){if(!(b<2))throw e;T(-1,e)}}else T(-1,"No Transport");function T(e,t,n,r){var l,v,y,x,T,E=t;2!==b&&(b=2,a&&clearTimeout(a),u=void 0,o=r||"",w.readyState=e>0?4:0,l=e>=200&&e<300||304===e,n&&(x=function(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){u.unshift(a);break}if(u[0]in n)o=u[0];else{for(a in n){if(!u[0]||e.converters[a+" "+u[0]]){o=a;break}r||(r=a)}o=o||r}if(o)return o!==u[0]&&u.unshift(o),n[o]}(c,w,n)),x=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(c,x,w,l),l?(c.ifModified&&((T=w.getResponseHeader("Last-Modified"))&&(f.lastModified[i]=T),(T=w.getResponseHeader("etag"))&&(f.etag[i]=T)),204===e||"HEAD"===c.type?E="nocontent":304===e?E="notmodified":(E=x.state,v=x.data,l=!(y=x.error))):(y=E,!e&&E||(E="error",e<0&&(e=0))),w.status=e,w.statusText=(t||E)+"",l?h.resolveWith(d,[v,E,w]):h.rejectWith(d,[w,E,y]),w.statusCode(g),g=void 0,s&&p.trigger(l?"ajaxSuccess":"ajaxError",[w,c,l?v:y]),m.fireWith(d,[w,E]),s&&(p.trigger("ajaxComplete",[w,c]),--f.active||f.event.trigger("ajaxStop")))}return w},getJSON:function(e,t,n){return f.get(e,t,n,"json")},getScript:function(e,t){return f.get(e,void 0,t,"script")}}),f.each(["get","post"],function(e,t){f[t]=function(e,n,r,i){return f.isFunction(n)&&(i=i||r,r=n,n=void 0),f.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),f._evalUrl=function(e){return f.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},f.fn.extend({wrapAll:function(e){if(f.isFunction(e))return this.each(function(t){f(this).wrapAll(e.call(this,t))});if(this[0]){var t=f(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return f.isFunction(e)?this.each(function(t){f(this).wrapInner(e.call(this,t))}):this.each(function(){var t=f(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=f.isFunction(e);return this.each(function(n){f(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()}}),f.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!c.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||f.css(e,"display"))},f.expr.filters.visible=function(e){return!f.expr.filters.hidden(e)};var Ft=/%20/g,Bt=/\[\]$/,Wt=/\r?\n/g,$t=/^(?:submit|button|image|reset|file)$/i,zt=/^(?:input|select|textarea|keygen)/i;function It(e,t,n,r){var i;if(f.isArray(t))f.each(t,function(t,i){n||Bt.test(e)?r(e,i):It(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==f.type(t))r(e,t);else for(i in t)It(e+"["+i+"]",t[i],n,r)}f.param=function(e,t){var n,r=[],i=function(e,t){t=f.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=f.ajaxSettings&&f.ajaxSettings.traditional),f.isArray(e)||e.jquery&&!f.isPlainObject(e))f.each(e,function(){i(this.name,this.value)});else for(n in e)It(n,e[n],t,i);return r.join("&").replace(Ft,"+")},f.fn.extend({serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=f.prop(this,"elements");return e?f.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!f(this).is(":disabled")&&zt.test(this.nodeName)&&!$t.test(e)&&(this.checked||!X.test(e))}).map(function(e,t){var n=f(this).val();return null==n?null:f.isArray(n)?f.map(n,function(e){return{name:t.name,value:e.replace(Wt,"\r\n")}}):{name:t.name,value:n.replace(Wt,"\r\n")}}).get()}}),f.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Vt()||function(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}()}:Vt;var Ut=0,Xt={},Qt=f.ajaxSettings.xhr();function Vt(){try{return new e.XMLHttpRequest}catch(e){}}e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Xt)Xt[e](void 0,!0)}),c.cors=!!Qt&&"withCredentials"in Qt,(Qt=c.ajax=!!Qt)&&f.ajaxTransport(function(e){var t;if(!e.crossDomain||c.cors)return{send:function(n,r){var i,o=e.xhr(),a=++Ut;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];for(i in e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)void 0!==n[i]&&o.setRequestHeader(i,n[i]+"");o.send(e.hasContent&&e.data||null),t=function(n,i){var s,u,l;if(t&&(i||4===o.readyState))if(delete Xt[a],t=void 0,o.onreadystatechange=f.noop,i)4!==o.readyState&&o.abort();else{l={},s=o.status,"string"==typeof o.responseText&&(l.text=o.responseText);try{u=o.statusText}catch(e){u=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=l.text?200:404}l&&r(s,u,l,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=Xt[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return f.globalEval(e),e}}}),f.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),f.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=C.head||f("head")[0]||C.documentElement;return{send:function(r,i){(t=C.createElement("script")).async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var Gt=[],Jt=/(=)\?(?=&|$)|\?\?/;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Gt.pop()||f.expando+"_"+Tt++;return this[e]=!0,e}}),f.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(Jt.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Jt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=f.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Jt,"$1"+i):!1!==t.jsonp&&(t.url+=(Et.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||f.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Gt.push(i)),a&&f.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),f.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||C;var r=x.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=f.buildFragment([e],t,i),i&&i.length&&f(i).remove(),f.merge([],r.childNodes))};var Yt=f.fn.load;f.fn.load=function(e,t,n){if("string"!=typeof e&&Yt)return Yt.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>=0&&(r=f.trim(e.slice(s,e.length)),e=e.slice(0,s)),f.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&f.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?f("<div>").append(f.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,i||[e.responseText,t,e])}),this},f.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){f.fn[t]=function(e){return this.on(t,e)}}),f.expr.filters.animated=function(e){return f.grep(f.timers,function(t){return e===t.elem}).length};var Kt=e.document.documentElement;function Zt(e){return f.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}f.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=f.css(e,"position"),c=f(e),d={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=f.css(e,"top"),u=f.css(e,"left"),("absolute"===l||"fixed"===l)&&f.inArray("auto",[o,u])>-1?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),f.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+i),"using"in t?t.using.call(e,d):c.css(d)}},f.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){f.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;return o?(t=o.documentElement,f.contains(t,i)?(typeof i.getBoundingClientRect!==H&&(r=i.getBoundingClientRect()),n=Zt(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r):void 0},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===f.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),f.nodeName(e[0],"html")||(n=e.offset()),n.top+=f.css(e[0],"borderTopWidth",!0),n.left+=f.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-f.css(r,"marginTop",!0),left:t.left-n.left-f.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Kt;e&&!f.nodeName(e,"html")&&"static"===f.css(e,"position");)e=e.offsetParent;return e||Kt})}}),f.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);f.fn[e]=function(r){return U(this,function(e,r,i){var o=Zt(e);if(void 0===i)return o?t in o?o[t]:o.document.documentElement[r]:e[r];o?o.scrollTo(n?f(o).scrollLeft():i,n?i:f(o).scrollTop()):e[r]=i},e,r,arguments.length,null)}}),f.each(["top","left"],function(e,t){f.cssHooks[t]=He(c.pixelPosition,function(e,n){if(n)return n=De(e,t),Me.test(n)?f(e).position()[t]+"px":n})}),f.each({Height:"height",Width:"width"},function(e,t){f.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){f.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===i?"margin":"border");return U(this,function(t,n,r){var i;return f.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?f.css(t,n,a):f.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),f.fn.size=function(){return this.length},f.fn.andSelf=f.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return f});var en=e.jQuery,tn=e.$;return f.noConflict=function(t){return e.$===f&&(e.$=tn),t&&e.jQuery===f&&(e.jQuery=en),f},typeof t===H&&(e.jQuery=e.$=f),f}),function(global){var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.2.0",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;function commentReplace(e,t,n,r){return r||""}function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){var n;if(e)for(n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}function eachReverse(e,t){var n;if(e)for(n=e.length-1;n>-1&&(!e[n]||!t(e[n],n,e));n-=1);}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,r){return t&&eachProp(t,function(t,i){!n&&hasProp(e,i)||(!r||"object"!=typeof t||!t||isArray(t)||isFunction(t)||t instanceof RegExp?e[i]=t:(e[i]||(e[i]={}),mixin(e[i],t,n,r)))}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,r){var i=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return i.requireType=e,i.requireModules=r,n&&(i.originalError=n),i}if(void 0===define){if(void 0!==requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}void 0===require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,n,r){var i,o,a=defContextName;return isArray(e)||"string"==typeof e||(o=e,isArray(t)?(e=t,t=n,n=r):e=[]),o&&o.context&&(a=o.context),(i=getOwn(contexts,a))||(i=contexts[a]=req.s.newContext(a)),o&&i.configure(o),i.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,n){var r=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return r.type=e.scriptType||"text/javascript",r.charset="utf-8",r.async=!0,r},req.load=function(e,t,n){var r,i=e&&e.config||{};if(isBrowser)return(r=req.createNode(i,t,n)).setAttribute("data-requirecontext",e.contextName),r.setAttribute("data-requiremodule",t),!r.attachEvent||r.attachEvent.toString&&r.attachEvent.toString().indexOf("[native code")<0||isOpera?(r.addEventListener("load",e.onScriptLoad,!1),r.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,r.attachEvent("onreadystatechange",e.onScriptLoad)),r.src=n,i.onNodeCreated&&i.onNodeCreated(r,i,t,n),currentlyAddingScript=r,baseElement?head.insertBefore(r,baseElement):head.appendChild(r),currentlyAddingScript=null,r;if(isWebWorker)try{setTimeout(function(){},0),importScripts(n),e.completeLoad(t)}catch(r){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,r,[t]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){if(head||(head=e.parentNode),dataMain=e.getAttribute("data-main"))return mainScript=dataMain,cfg.baseUrl||-1!==mainScript.indexOf("!")||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(e,t,n){var r,i;"string"!=typeof e&&(n=t,t=e,e=null),isArray(t)||(n=t,t=null),!t&&isFunction(n)&&(t=[],n.length&&(n.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(1===n.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(r=currentlyAddingScript||getInteractiveScript())&&(e||(e=r.getAttribute("data-requiremodule")),i=contexts[r.getAttribute("data-requirecontext")]),i?(i.defQueue.push([e,t,n]),i.defQueueMap[e]=!0):globalDefQueue.push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}function newContext(e){var t,n,r,i,o,a={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},s={},u={},l={},c=[],d={},f={},p={},h=1,m=1;function g(e,t,n){var r,i,o,s,u,l,c,d,f,p,h=t&&t.split("/"),m=a.map,g=m&&m["*"];if(e&&(l=(e=e.split("/")).length-1,a.nodeIdCompat&&jsSuffixRegExp.test(e[l])&&(e[l]=e[l].replace(jsSuffixRegExp,"")),"."===e[0].charAt(0)&&h&&(e=h.slice(0,h.length-1).concat(e)),function(e){var t,n;for(t=0;t<e.length;t++)if("."===(n=e[t]))e.splice(t,1),t-=1;else if(".."===n){if(0===t||1===t&&".."===e[2]||".."===e[t-1])continue;t>0&&(e.splice(t-1,2),t-=2)}}(e),e=e.join("/")),n&&m&&(h||g)){e:for(o=(i=e.split("/")).length;o>0;o-=1){if(u=i.slice(0,o).join("/"),h)for(s=h.length;s>0;s-=1)if((r=getOwn(m,h.slice(0,s).join("/")))&&(r=getOwn(r,u))){c=r,d=o;break e}!f&&g&&getOwn(g,u)&&(f=getOwn(g,u),p=o)}!c&&f&&(c=f,d=p),c&&(i.splice(0,d,c),e=i.join("/"))}return getOwn(a.pkgs,e)||e}function v(e){isBrowser&&each(scripts(),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===r.contextName)return t.parentNode.removeChild(t),!0})}function y(e){var t=getOwn(a.paths,e);if(t&&isArray(t)&&t.length>1)return t.shift(),r.require.undef(e),r.makeRequire(null,{skipMap:!0})([e]),!0}function b(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function x(e,t,n,i){var o,a,s,u,l=null,c=t?t.name:null,f=e,p=!0,v="";return e||(p=!1,e="_@r"+(h+=1)),l=(u=b(e))[0],e=u[1],l&&(l=g(l,c,i),a=getOwn(d,l)),e&&(l?v=a&&a.normalize?a.normalize(e,function(e){return g(e,c,i)}):-1===e.indexOf("!")?g(e,c,i):e:(l=(u=b(v=g(e,c,i)))[0],v=u[1],n=!0,o=r.nameToUrl(v))),{prefix:l,name:v,parentMap:t,unnormalized:!!(s=!l||a||n?"":"_unnormalized"+(m+=1)),url:o,originalName:f,isDefine:p,id:(l?l+"!"+v:v)+s}}function w(e){var t=e.id,n=getOwn(s,t);return n||(n=s[t]=new r.Module(e)),n}function T(e,t,n){var r=e.id,i=getOwn(s,r);!hasProp(d,r)||i&&!i.defineEmitComplete?(i=w(e)).error&&"error"===t?n(i.error):i.on(t,n):"defined"===t&&n(d[r])}function E(e,t){var n=e.requireModules,r=!1;t?t(e):(each(n,function(t){var n=getOwn(s,t);n&&(n.error=e,n.events.error&&(r=!0,n.emit("error",e)))}),r||req.onError(e))}function C(){globalDefQueue.length&&(each(globalDefQueue,function(e){var t=e[0];"string"==typeof t&&(r.defQueueMap[t]=!0),c.push(e)}),globalDefQueue=[])}function k(e){delete s[e],delete u[e]}function N(e,t,n){var r=e.map.id;e.error?e.emit("error",e.error):(t[r]=!0,each(e.depMaps,function(r,i){var o=r.id,a=getOwn(s,o);!a||e.depMatched[i]||n[o]||(getOwn(t,o)?(e.defineDep(i,d[o]),e.check()):N(a,t,n))}),n[r]=!0)}function S(){var e,n,i=1e3*a.waitSeconds,s=i&&r.startTime+i<(new Date).getTime(),l=[],c=[],d=!1,f=!0;if(!t){if(t=!0,eachProp(u,function(e){var t=e.map,r=t.id;if(e.enabled&&(t.isDefine||c.push(e),!e.error))if(!e.inited&&s)y(r)?(n=!0,d=!0):(l.push(r),v(r));else if(!e.inited&&e.fetched&&t.isDefine&&(d=!0,!t.prefix))return f=!1}),s&&l.length)return(e=makeError("timeout","Load timeout for modules: "+l,null,l)).contextName=r.contextName,E(e);f&&each(c,function(e){N(e,{},{})}),s&&!n||!d||!isBrowser&&!isWebWorker||o||(o=setTimeout(function(){o=0,S()},50)),t=!1}}function q(e){hasProp(d,e[0])||w(x(e[0],null,!0)).init(e[1],e[2])}function j(e,t,n,r){e.detachEvent&&!isOpera?r&&e.detachEvent(r,t):e.removeEventListener(n,t,!1)}function A(e){var t=e.currentTarget||e.srcElement;return j(t,r.onScriptLoad,"load","onreadystatechange"),j(t,r.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function D(){var e;for(C();c.length;){if(null===(e=c.shift())[0])return E(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));q(e)}r.defQueueMap={}}return i={require:function(e){return e.require?e.require:e.require=r.makeRequire(e.map)},exports:function(e){if(e.usingExports=!0,e.map.isDefine)return e.exports?d[e.map.id]=e.exports:e.exports=d[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(a.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},(n=function(e){this.events=getOwn(l,e.id)||{},this.map=e,this.shim=getOwn(a.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0}).prototype={init:function(e,t,n,r){r=r||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,r.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();r.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()}))}},load:function(){var e=this.map.url;f[e]||(f[e]=!0,r.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,n=this.map.id,i=this.depExports,o=this.exports,a=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(a)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{o=r.execCb(n,a,i,o)}catch(t){e=t}else o=r.execCb(n,a,i,o);if(this.map.isDefine&&void 0===o&&((t=this.module)?o=t.exports:this.usingExports&&(o=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",E(this.error=e)}else o=a;if(this.exports=o,this.map.isDefine&&!this.ignore&&(d[n]=o,req.onResourceLoad)){var s=[];each(this.depMaps,function(e){s.push(e.normalizedMap||e)}),req.onResourceLoad(r,this.map,s)}k(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else hasProp(r.defQueueMap,n)||this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,n=x(e.prefix);this.depMaps.push(n),T(n,"defined",bind(this,function(n){var i,o,u,l=getOwn(p,this.map.id),c=this.map.name,d=this.map.parentMap?this.map.parentMap.name:null,f=r.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(n.normalize&&(c=n.normalize(c,function(e){return g(e,d,!0)})||""),T(o=x(e.prefix+"!"+c,this.map.parentMap),"defined",bind(this,function(e){this.map.normalizedMap=o,this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),void((u=getOwn(s,o.id))&&(this.depMaps.push(o),this.events.error&&u.on("error",bind(this,function(e){this.emit("error",e)})),u.enable()))):l?(this.map.url=r.nameToUrl(l),void this.load()):((i=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})})).error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(s,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&k(e.map.id)}),E(e)}),i.fromText=bind(this,function(n,o){var s=e.name,u=x(s),l=useInteractive;o&&(n=o),l&&(useInteractive=!1),w(u),hasProp(a.config,t)&&(a.config[s]=a.config[t]);try{req.exec(n)}catch(e){return E(makeError("fromtexteval","fromText eval for "+t+" failed: "+e,e,[t]))}l&&(useInteractive=!0),this.depMaps.push(u),r.completeLoad(s),f([s],i)}),void n.load(e.name,f,i,a))})),r.enable(n,this),this.pluginMaps[n.id]=n},enable:function(){u[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,o,a;if("string"==typeof e){if(e=x(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,a=getOwn(i,e.id))return void(this.depExports[t]=a(this));this.depCount+=1,T(e,"defined",bind(this,function(e){this.undefed||(this.defineDep(t,e),this.check())})),this.errback?T(e,"error",bind(this,this.errback)):this.events.error&&T(e,"error",bind(this,function(e){this.emit("error",e)}))}n=e.id,o=s[n],hasProp(i,n)||!o||o.enabled||r.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(s,e.id);t&&!t.enabled&&r.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},r={config:a,contextName:e,registry:s,defined:d,urlFetched:f,defQueue:c,defQueueMap:{},Module:n,makeModuleMap:x,nextTick:req.nextTick,onError:E,configure:function(e){if(e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/"),"string"==typeof e.urlArgs){var t=e.urlArgs;e.urlArgs=function(e,n){return(-1===n.indexOf("?")?"?":"&")+t}}var n=a.shim,i={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){i[t]?(a[t]||(a[t]={}),mixin(a[t],e,!0,!0)):a[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(p[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=r.makeShimExports(e)),n[t]=e}),a.shim=n),e.packages&&each(e.packages,function(e){var t;t=(e="string"==typeof e?{name:e}:e).name,e.location&&(a.paths[t]=e.location),a.pkgs[t]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(s,function(e,t){e.inited||e.map.unnormalized||(e.map=x(t,null,!0))}),(e.deps||e.callback)&&r.require(e.deps||[],e.callback)},makeShimExports:function(e){return function(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}},makeRequire:function(t,n){function o(a,u,l){var c,f;return n.enableBuildCallback&&u&&isFunction(u)&&(u.__requireJsBuild=!0),"string"==typeof a?isFunction(u)?E(makeError("requireargs","Invalid require call"),l):t&&hasProp(i,a)?i[a](s[t.id]):req.get?req.get(r,a,t,o):(c=x(a,t,!1,!0).id,hasProp(d,c)?d[c]:E(makeError("notloaded",'Module name "'+c+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(D(),r.nextTick(function(){D(),(f=w(x(null,t))).skipMap=n.skipMap,f.init(a,u,l,{enabled:!0}),S()}),o)}return n=n||{},mixin(o,{isBrowser:isBrowser,toUrl:function(e){var n,i=e.lastIndexOf("."),o=e.split("/")[0];return-1!==i&&(!("."===o||".."===o)||i>1)&&(n=e.substring(i,e.length),e=e.substring(0,i)),r.nameToUrl(g(e,t&&t.id,!0),n,!0)},defined:function(e){return hasProp(d,x(e,t,!1,!0).id)},specified:function(e){return e=x(e,t,!1,!0).id,hasProp(d,e)||hasProp(s,e)}}),t||(o.undef=function(e){C();var n=x(e,t,!0),i=getOwn(s,e);i.undefed=!0,v(e),delete d[e],delete f[n.url],delete l[e],eachReverse(c,function(t,n){t[0]===e&&c.splice(n,1)}),delete r.defQueueMap[e],i&&(i.events.defined&&(l[e]=i.events),k(e))}),o},enable:function(e){getOwn(s,e.id)&&w(e).enable()},completeLoad:function(e){var t,n,i,o=getOwn(a.shim,e)||{},u=o.exports;for(C();c.length;){if(null===(n=c.shift())[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);q(n)}if(r.defQueueMap={},i=getOwn(s,e),!t&&!hasProp(d,e)&&i&&!i.inited){if(!(!a.enforceDefine||u&&getGlobal(u)))return y(e)?void 0:E(makeError("nodefine","No define call for "+e,null,[e]));q([e,o.deps||[],o.exportsFn])}S()},nameToUrl:function(e,t,n){var i,o,s,u,l,c,d=getOwn(a.pkgs,e);if(d&&(e=d),c=getOwn(p,e))return r.nameToUrl(c,t,n);if(req.jsExtRegExp.test(e))u=e+(t||"");else{for(i=a.paths,s=(o=e.split("/")).length;s>0;s-=1)if(l=getOwn(i,o.slice(0,s).join("/"))){isArray(l)&&(l=l[0]),o.splice(0,s,l);break}u=o.join("/"),u=("/"===(u+=t||(/^data\:|^blob\:|\?/.test(u)||n?"":".js")).charAt(0)||u.match(/^[\w\+\.\-]+:/)?"":a.baseUrl)+u}return a.urlArgs&&!/^blob\:/.test(u)?u+a.urlArgs(e,u):u},load:function(e,t){req.load(r,e,t)},execCb:function(e,t,n,r){return t.apply(r,n)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=A(e);r.completeLoad(t.id)}},onScriptError:function(e){var t=A(e);if(!y(t.id)){var n=[];return eachProp(s,function(e,r){0!==r.indexOf("_@r")&&each(e.depMaps,function(e){if(e.id===t.id)return n.push(r),!0})}),E(makeError("scripterror",'Script error for "'+t.id+(n.length?'", needed by: '+n.join(", "):'"'),e,[t.id]))}}},r.require=r.makeRequire(),r}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState||eachReverse(scripts(),function(e){if("interactive"===e.readyState)return interactiveScript=e}),interactiveScript}}(this),define("jquery",[],function(){"use strict";return window.$}),require.config({waitSeconds:7,baseUrl:"https://as.ftcdn.net/v1/js",paths:{store:["app/store/store.prod"]}}),require.config({paths:{text:"vendor/requirejs/text",hbs:"vendor/handlebars/hbs",i18n:"vendor/jed/jed",redux:"vendor/redux/redux.min","i18n-config":"i18n-config",lodash:"vendor/lodash/lodash",anyware:"vendor/misc/anyware.min",daterangepicker:"vendor/bootstrap-daterangepicker/daterangepicker",coreComponents:"vendor/core-components-js",stockWebIngest:"vendor/stock-web-ingest/dist/stock.ingest",croppie:"vendor/croppie/croppie",noUiSlider:"vendor/nouislider/distribute/nouislider.min"},hbars:{extension:".hbs"}}),define("momentLocale",["moment"],function(){});
define("page_config",["jquery"],function(e){"use strict";return JSON.parse(e("#js-page-config").text())}),function(){var e,t=200,n="Expected a function",a="__lodash_hash_undefined__",i=500,s=1,r=2,o=1/0,l=9007199254740991,c=NaN,u="[object Arguments]",d="[object Array]",p="[object AsyncFunction]",_="[object Boolean]",h="[object Date]",f="[object Error]",E="[object Function]",m="[object GeneratorFunction]",g="[object Map]",T="[object Number]",b="[object Null]",v="[object Object]",I="[object Promise]",S="[object Proxy]",A="[object RegExp]",O="[object Set]",y="[object String]",C="[object Symbol]",R="[object Undefined]",L="[object WeakMap]",N="[object ArrayBuffer]",D="[object DataView]",P=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,w=/^\w*$/,M=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,k=/^\s+|\s+$/g,x=/\\(\\)?/g,F=/^[-+]0x[0-9a-f]+$/i,U=/^0b[01]+$/i,H=/^\[object .+?Constructor\]$/,j=/^0o[0-7]+$/i,Y=/^(?:0|[1-9]\d*)$/,V={};V["[object Float32Array]"]=V["[object Float64Array]"]=V["[object Int8Array]"]=V["[object Int16Array]"]=V["[object Int32Array]"]=V["[object Uint8Array]"]=V["[object Uint8ClampedArray]"]=V["[object Uint16Array]"]=V["[object Uint32Array]"]=!0,V[u]=V[d]=V[N]=V[_]=V[D]=V[h]=V[f]=V[E]=V[g]=V[T]=V[v]=V[A]=V[O]=V[y]=V[L]=!1;var G=parseInt,B="object"==typeof global&&global&&global.Object===Object&&global,q="object"==typeof self&&self&&self.Object===Object&&self,W=B||q||Function("return this")(),K="object"==typeof exports&&exports&&!exports.nodeType&&exports,z=K&&"object"==typeof module&&module&&!module.nodeType&&module,Q=z&&z.exports===K,Z=Q&&B.process,X=function(){try{return Z&&Z.binding&&Z.binding("util")}catch(e){}}(),$=X&&X.isTypedArray;function J(e,t){for(var n=-1,a=null==e?0:e.length;++n<a;)if(t(e[n],n,e))return!0;return!1}function ee(e){var t=-1,n=Array(e.size);return e.forEach(function(e,a){n[++t]=[a,e]}),n}function te(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var ne,ae,ie,se=Array.prototype,re=Function.prototype,oe=Object.prototype,le=W["__core-js_shared__"],ce=re.toString,ue=oe.hasOwnProperty,de=(ne=/[^.]+$/.exec(le&&le.keys&&le.keys.IE_PROTO||""))?"Symbol(src)_1."+ne:"",pe=oe.toString,_e=RegExp("^"+ce.call(ue).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),he=Q?W.Buffer:e,fe=W.Symbol,Ee=W.Uint8Array,me=oe.propertyIsEnumerable,ge=se.splice,Te=fe?fe.toStringTag:e,be=Object.getOwnPropertySymbols,ve=he?he.isBuffer:e,Ie=(ae=Object.keys,ie=Object,function(e){return ae(ie(e))}),Se=Math.max,Ae=Math.min,Oe=at(W,"DataView"),ye=at(W,"Map"),Ce=at(W,"Promise"),Re=at(W,"Set"),Le=at(W,"WeakMap"),Ne=at(Object,"create"),De=ct(Oe),Pe=ct(ye),we=ct(Ce),Me=ct(Re),ke=ct(Le),xe=fe?fe.prototype:e,Fe=xe?xe.valueOf:e,Ue=xe?xe.toString:e;function He(){}function je(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function Ye(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function Ve(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function Ge(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Ve;++t<n;)this.add(e[t])}function Be(e){var t=this.__data__=new Ye(e);this.size=t.size}function qe(e,t){var n=ht(e),a=!n&&_t(e),i=!n&&!a&&Et(e),s=!n&&!a&&!i&&It(e),r=n||a||i||s,o=r?function(e,t){for(var n=-1,a=Array(e);++n<e;)a[n]=t(n);return a}(e.length,String):[],l=o.length;for(var c in e)!t&&!ue.call(e,c)||r&&("length"==c||i&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||rt(c,l))||o.push(c);return o}function We(e,t){for(var n=e.length;n--;)if(pt(e[n][0],t))return n;return-1}function Ke(t,n){n=function(e,t){if(ht(e))return e;return function(e,t){if(ht(e))return!1;var n=typeof e;if("number"==n||"symbol"==n||"boolean"==n||null==e||vt(e))return!0;return w.test(e)||!P.test(e)||null!=t&&e in Object(t)}(e,t)?[e]:ot(At(e))}(n,t);for(var a=0,i=n.length;null!=t&&a<i;)t=t[lt(n[a++])];return a&&a==i?t:e}function ze(t){return null==t?t===e?R:b:Te&&Te in Object(t)?function(t){var n=ue.call(t,Te),a=t[Te];try{t[Te]=e;var i=!0}catch(e){}var s=pe.call(t);i&&(n?t[Te]=a:delete t[Te]);return s}(t):function(e){return pe.call(e)}(t)}function Qe(e){return bt(e)&&ze(e)==u}function Ze(t,n,a,i,o){return t===n||(null==t||null==n||!bt(t)&&!bt(n)?t!=t&&n!=n:function(t,n,a,i,o,l){var c=ht(t),p=ht(n),E=c?d:st(t),m=p?d:st(n),b=(E=E==u?v:E)==v,I=(m=m==u?v:m)==v,S=E==m;if(S&&Et(t)){if(!Et(n))return!1;c=!0,b=!1}if(S&&!b)return l||(l=new Be),c||It(t)?et(t,n,a,i,o,l):function(e,t,n,a,i,o,l){switch(n){case D:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case N:return!(e.byteLength!=t.byteLength||!o(new Ee(e),new Ee(t)));case _:case h:case T:return pt(+e,+t);case f:return e.name==t.name&&e.message==t.message;case A:case y:return e==t+"";case g:var c=ee;case O:var u=a&s;if(c||(c=te),e.size!=t.size&&!u)return!1;var d=l.get(e);if(d)return d==t;a|=r,l.set(e,t);var p=et(c(e),c(t),a,i,o,l);return l.delete(e),p;case C:if(Fe)return Fe.call(e)==Fe.call(t)}return!1}(t,n,E,a,i,o,l);if(!(a&s)){var R=b&&ue.call(t,"__wrapped__"),L=I&&ue.call(n,"__wrapped__");if(R||L){var P=R?t.value():t,w=L?n.value():n;return l||(l=new Be),o(P,w,a,i,l)}}if(!S)return!1;return l||(l=new Be),function(t,n,a,i,r,o){var l=a&s,c=tt(t),u=c.length,d=tt(n),p=d.length;if(u!=p&&!l)return!1;var _=u;for(;_--;){var h=c[_];if(!(l?h in n:ue.call(n,h)))return!1}var f=o.get(t);if(f&&o.get(n))return f==n;var E=!0;o.set(t,n),o.set(n,t);var m=l;for(;++_<u;){var g=t[h=c[_]],T=n[h];if(i)var b=l?i(T,g,h,n,t,o):i(g,T,h,t,n,o);if(!(b===e?g===T||r(g,T,a,i,o):b)){E=!1;break}m||(m="constructor"==h)}if(E&&!m){var v=t.constructor,I=n.constructor;v==I||!("constructor"in t)||!("constructor"in n)||"function"==typeof v&&v instanceof v&&"function"==typeof I&&I instanceof I||(E=!1)}return o.delete(t),o.delete(n),E}(t,n,a,i,o,l)}(t,n,a,i,Ze,o))}function Xe(e){return!(!Tt(e)||function(e){return!!de&&de in e}(e))&&(mt(e)?_e:H).test(ct(e))}function $e(e){if(n=(t=e)&&t.constructor,a="function"==typeof n&&n.prototype||oe,t!==a)return Ie(e);var t,n,a,i=[];for(var s in Object(e))ue.call(e,s)&&"constructor"!=s&&i.push(s);return i}function Je(e){if("string"==typeof e)return e;if(ht(e))return function(e,t){for(var n=-1,a=null==e?0:e.length,i=Array(a);++n<a;)i[n]=t(e[n],n,e);return i}(e,Je)+"";if(vt(e))return Ue?Ue.call(e):"";var t=e+"";return"0"==t&&1/e==-o?"-0":t}function et(t,n,a,i,o,l){var c=a&s,u=t.length,d=n.length;if(u!=d&&!(c&&d>u))return!1;var p=l.get(t);if(p&&l.get(n))return p==n;var _=-1,h=!0,f=a&r?new Ge:e;for(l.set(t,n),l.set(n,t);++_<u;){var E=t[_],m=n[_];if(i)var g=c?i(m,E,_,n,t,l):i(E,m,_,t,n,l);if(g!==e){if(g)continue;h=!1;break}if(f){if(!J(n,function(e,t){if(n=t,!f.has(n)&&(E===e||o(E,e,a,i,l)))return f.push(t);var n})){h=!1;break}}else if(E!==m&&!o(E,m,a,i,l)){h=!1;break}}return l.delete(t),l.delete(n),h}function tt(e){return function(e,t,n){var a=t(e);return ht(e)?a:function(e,t){for(var n=-1,a=t.length,i=e.length;++n<a;)e[i+n]=t[n];return e}(a,n(e))}(e,Ot,it)}function nt(e,t){var n,a,i=e.__data__;return("string"==(a=typeof(n=t))||"number"==a||"symbol"==a||"boolean"==a?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function at(t,n){var a=function(t,n){return null==t?e:t[n]}(t,n);return Xe(a)?a:e}je.prototype.clear=function(){this.__data__=Ne?Ne(null):{},this.size=0},je.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},je.prototype.get=function(t){var n=this.__data__;if(Ne){var i=n[t];return i===a?e:i}return ue.call(n,t)?n[t]:e},je.prototype.has=function(t){var n=this.__data__;return Ne?n[t]!==e:ue.call(n,t)},je.prototype.set=function(t,n){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=Ne&&n===e?a:n,this},Ye.prototype.clear=function(){this.__data__=[],this.size=0},Ye.prototype.delete=function(e){var t=this.__data__,n=We(t,e);return!(n<0)&&(n==t.length-1?t.pop():ge.call(t,n,1),--this.size,!0)},Ye.prototype.get=function(t){var n=this.__data__,a=We(n,t);return a<0?e:n[a][1]},Ye.prototype.has=function(e){return We(this.__data__,e)>-1},Ye.prototype.set=function(e,t){var n=this.__data__,a=We(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this},Ve.prototype.clear=function(){this.size=0,this.__data__={hash:new je,map:new(ye||Ye),string:new je}},Ve.prototype.delete=function(e){var t=nt(this,e).delete(e);return this.size-=t?1:0,t},Ve.prototype.get=function(e){return nt(this,e).get(e)},Ve.prototype.has=function(e){return nt(this,e).has(e)},Ve.prototype.set=function(e,t){var n=nt(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this},Ge.prototype.add=Ge.prototype.push=function(e){return this.__data__.set(e,a),this},Ge.prototype.has=function(e){return this.__data__.has(e)},Be.prototype.clear=function(){this.__data__=new Ye,this.size=0},Be.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Be.prototype.get=function(e){return this.__data__.get(e)},Be.prototype.has=function(e){return this.__data__.has(e)},Be.prototype.set=function(e,n){var a=this.__data__;if(a instanceof Ye){var i=a.__data__;if(!ye||i.length<t-1)return i.push([e,n]),this.size=++a.size,this;a=this.__data__=new Ve(i)}return a.set(e,n),this.size=a.size,this};var it=be?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,a=null==e?0:e.length,i=0,s=[];++n<a;){var r=e[n];t(r,n,e)&&(s[i++]=r)}return s}(be(e),function(t){return me.call(e,t)}))}:yt,st=ze;function rt(e,t){var n=typeof e;return!!(t=null==t?l:t)&&("number"==n||"symbol"!=n&&Y.test(e))&&e>-1&&e%1==0&&e<t}(Oe&&st(new Oe(new ArrayBuffer(1)))!=D||ye&&st(new ye)!=g||Ce&&st(Ce.resolve())!=I||Re&&st(new Re)!=O||Le&&st(new Le)!=L)&&(st=function(t){var n=ze(t),a=n==v?t.constructor:e,i=a?ct(a):"";if(i)switch(i){case De:return D;case Pe:return g;case we:return I;case Me:return O;case ke:return L}return n});var ot=function(e){var t=dt(e,function(e){return n.size===i&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(M,function(e,n,a,i){t.push(a?i.replace(x,"$1"):n||e)}),t});function lt(e){if("string"==typeof e||vt(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}function ct(e){if(null!=e){try{return ce.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var ut=function(){return W.Date.now()};function dt(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(n);var a=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=a.cache;if(s.has(i))return s.get(i);var r=e.apply(this,n);return a.cache=s.set(i,r)||s,r};return a.cache=new(dt.Cache||Ve),a}function pt(e,t){return e===t||e!=e&&t!=t}dt.Cache=Ve;var _t=Qe(function(){return arguments}())?Qe:function(e){return bt(e)&&ue.call(e,"callee")&&!me.call(e,"callee")},ht=Array.isArray;function ft(e){return null!=e&&gt(e.length)&&!mt(e)}var Et=ve||Ct;function mt(e){if(!Tt(e))return!1;var t=ze(e);return t==E||t==m||t==p||t==S}function gt(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=l}function Tt(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function bt(e){return null!=e&&"object"==typeof e}function vt(e){return"symbol"==typeof e||bt(e)&&ze(e)==C}var It=$?function(e){return function(t){return e(t)}}($):function(e){return bt(e)&&gt(e.length)&&!!V[ze(e)]};function St(e){if("number"==typeof e)return e;if(vt(e))return c;if(Tt(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Tt(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(k,"");var n=U.test(e);return n||j.test(e)?G(e.slice(2),n?2:8):F.test(e)?c:+e}function At(e){return null==e?"":Je(e)}function Ot(e){return ft(e)?qe(e):$e(e)}function yt(){return[]}function Ct(){return!1}He.debounce=function(t,a,i){var s,r,o,l,c,u,d=0,p=!1,_=!1,h=!0;if("function"!=typeof t)throw new TypeError(n);function f(n){var a=s,i=r;return s=r=e,d=n,l=t.apply(i,a)}function E(t){var n=t-u;return u===e||n>=a||n<0||_&&t-d>=o}function m(){var e=ut();if(E(e))return g(e);c=setTimeout(m,function(e){var t=a-(e-u);return _?Ae(t,o-(e-d)):t}(e))}function g(t){return c=e,h&&s?f(t):(s=r=e,l)}function T(){var t=ut(),n=E(t);if(s=arguments,r=this,u=t,n){if(c===e)return function(e){return d=e,c=setTimeout(m,a),p?f(e):l}(u);if(_)return c=setTimeout(m,a),f(u)}return c===e&&(c=setTimeout(m,a)),l}return a=St(a)||0,Tt(i)&&(p=!!i.leading,o=(_="maxWait"in i)?Se(St(i.maxWait)||0,a):o,h="trailing"in i?!!i.trailing:h),T.cancel=function(){c!==e&&clearTimeout(c),d=0,s=u=r=c=e},T.flush=function(){return c===e?l:g(ut())},T},He.keys=Ot,He.memoize=dt,He.eq=pt,He.get=function(t,n,a){var i=null==t?e:Ke(t,n);return i===e?a:i},He.isArguments=_t,He.isArray=ht,He.isArrayLike=ft,He.isBuffer=Et,He.isEqual=function(e,t){return Ze(e,t)},He.isFunction=mt,He.isLength=gt,He.isObject=Tt,He.isObjectLike=bt,He.isSymbol=vt,He.isTypedArray=It,He.stubArray=yt,He.stubFalse=Ct,He.now=ut,He.toNumber=St,He.toString=At,He.VERSION="4.17.5","function"==typeof define&&"object"==typeof define.amd&&define.amd&&define("lodash",[],function(){return He})}.call(this),define("lib/cookie",[],function(){"use strict";return function(e,t,n){if(void 0===t){var a=null;if(document.cookie&&""!==document.cookie)for(var i=document.cookie.split(";"),s=0;s<i.length;s++){var r=i[s].trim();if(r.substring(0,e.length+1)===e+"="){a=decodeURIComponent(r.substring(e.length+1));break}}return a}n=n||{},null===t&&(t="",n.expires=-1);var o,l="";n.expires&&("number"==typeof n.expires||n.expires.toUTCString)&&("number"==typeof n.expires?(o=new Date).setTime(o.getTime()+24*n.expires*60*60*1e3):o=n.expires,l="; expires="+o.toUTCString());var c=n.path?"; path="+n.path:"",u=n.domain?"; domain="+n.domain:"",d=n.secure?"; secure":"";document.cookie=[e,"=",encodeURIComponent(t),l,c,u,d].join("")}}),define("lib/deparam",[],function(){"use strict";return function(e,t){const n=e=>"__proto__"===e||"constructor"===e||"prototype"===e;var a={},i={true:!0,false:!1,null:null};return e.replace(/\+/g," ").split("&").forEach(function(e){var s,r=e.split("="),o=decodeURIComponent(r[0]),l=a,c=0,u=o.split("]["),d=u.length-1;if(/\[/.test(u[0])&&/\]$/.test(u[d])?(u[d]=u[d].replace(/\]$/,""),d=(u=u.shift().split("[").concat(u)).length-1):d=0,2===r.length)if(s=decodeURIComponent(r[1]),t&&(s=s&&!isNaN(s)?+s:"undefined"===s?void 0:void 0!==i[s]?i[s]:s),d)for(;c<=d;c++){if(o=""===u[c]?l.length:u[c],n(o))return;l=l[o]=c<d?l[o]||(u[c+1]&&isNaN(u[c+1])?{}:[]):s}else{if(n(o))return;Array.isArray(a[o])?a[o].push(s):void 0!==a[o]?a[o]=[a[o],s]:a[o]=s}else o&&!n(o)&&(a[o]=t?void 0:"")}),a}}),define("lib/window",["lib/deparam"],function(e){"use strict";return{setTimeout:function(e,t){window.setTimeout(e,t)},setInterval:function(e,t){return window.setInterval(e,t)},clearInterval:function(e){e&&window.clearInterval(e)},getLocation:function(e){return e?window.location[e]:window.location},setLocation:function(e){window.location.assign(e)},setLocationHash:function(e){window.location.hash=e},reloadLocation:function(){window.location.reload()},getPath:function(){var e=window.location;return e.pathname+e.search+e.hash},supportsReplaceState:function(){return window.history&&window.history.replaceState},replaceState:function(){this.supportsReplaceState()&&window.history.replaceState.apply(window.history,arguments)},supportsPushState:function(){return window.history&&window.history.pushState},pushState:function(){this.supportsPushState()&&window.history.pushState.apply(window.history,arguments)},getSearchObject:function(){var t=this.getLocation("search");return t?(t=t.substr(1),e(t)):{}},getOrigin:function(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")},getReferrer:function(){return document.referrer},getNumberFormat:function(e){return window.Intl?new window.Intl.NumberFormat(e):null},performance:function(){return window.performance?window.performance:null},open:function(e){return window.open(e)}}}),function(){var e=Array.prototype.forEach,t=Object.prototype.hasOwnProperty,n=Array.prototype.slice,a=0;var i,s={keys:Object.keys||function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("keys() called on a non-object");var t,n=[];for(t in e)e.hasOwnProperty(t)&&(n[n.length]=t);return n},uniqueId:function(e){var t=++a+"";return e?e+t:t},has:function(e,n){return t.call(e,n)},each:function(t,n,a){if(null!=t)if(e&&t.forEach===e)t.forEach(n,a);else if(t.length===+t.length)for(var i=0,s=t.length;i<s;i++)n.call(a,t[i],i,t);else for(var r in t)this.has(t,r)&&n.call(a,t[r],r,t)},once:function(e){var t,n=!1;return function(){return n||(n=!0,t=e.apply(this,arguments),e=null),t}}};i={on:function(e,t,n){return o(this,"on",e,[t,n])&&t?(this._events||(this._events={}),(this._events[e]||(this._events[e]=[])).push({callback:t,context:n,ctx:n||this}),this):this},once:function(e,t,n){if(!o(this,"once",e,[t,n])||!t)return this;var a=this,i=s.once(function(){a.off(e,i),t.apply(this,arguments)});return i._callback=t,this.on(e,i,n)},off:function(e,t,n){var a,i,r,l,c,u,d,p;if(!this._events||!o(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;for(c=0,u=(l=e?[e]:s.keys(this._events)).length;c<u;c++)if(e=l[c],r=this._events[e]){if(this._events[e]=a=[],t||n)for(d=0,p=r.length;d<p;d++)i=r[d],(t&&t!==i.callback&&t!==i.callback._callback||n&&n!==i.context)&&a.push(i);a.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=n.call(arguments,1);if(!o(this,"trigger",e,t))return this;var a=this._events[e],i=this._events.all;return a&&l(a,t),i&&l(i,arguments),this},stopListening:function(e,t,n){var a=this._listeners;if(!a)return this;var i=!t&&!n;for(var s in"object"==typeof t&&(n=this),e&&((a={})[e._listenerId]=e),a)a[s].off(t,n,this),i&&delete this._listeners[s];return this}};var r=/\s+/,o=function(e,t,n,a){if(!n)return!0;if("object"==typeof n){for(var i in n)e[t].apply(e,[i,n[i]].concat(a));return!1}if(r.test(n)){for(var s=n.split(r),o=0,l=s.length;o<l;o++)e[t].apply(e,[s[o]].concat(a));return!1}return!0},l=function(e,t){var n,a=-1,i=e.length,s=t[0],r=t[1],o=t[2];switch(t.length){case 0:for(;++a<i;)(n=e[a]).callback.call(n.ctx);return;case 1:for(;++a<i;)(n=e[a]).callback.call(n.ctx,s);return;case 2:for(;++a<i;)(n=e[a]).callback.call(n.ctx,s,r);return;case 3:for(;++a<i;)(n=e[a]).callback.call(n.ctx,s,r,o);return;default:for(;++a<i;)(n=e[a]).callback.apply(n.ctx,t)}};s.each({listenTo:"on",listenToOnce:"once"},function(e,t){i[t]=function(t,n,a){return(this._listeners||(this._listeners={}))[t._listenerId||(t._listenerId=s.uniqueId("l"))]=t,"object"==typeof n&&(a=this),t[e](n,a,this),this}}),i.bind=i.on,i.unbind=i.off,i.mixin=function(e){return s.each(["on","once","off","trigger","stopListening","listenTo","listenToOnce","bind","unbind"],function(t){e[t]=this[t]},this),e},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=i),exports.BackboneEvents=i):"function"==typeof define?define("vendor/backbone-events-standalone",[],function(){return i}):this.BackboneEvents=i}(),define("lib/uiEvents",["vendor/backbone-events-standalone"],function(e){"use strict";return e.mixin({DEFAULT_LIBRARY_UPDATED:"defaultLibraryUpdated",ENTITLEMENTS_UPDATED:"entitlementsUpdated",ASSET_LICENSED:"assetLicensed",ASSET_DELETED:"assetDeleted",ASSET_LICENSE_REQUEST_PENDING:"assetLicenseRequestPending",FILTER_VIDEO_ONLY:"videoOnly",NOTIFICATION_SHOW:"showHeaderNotification",DETAIL_BUTTON:{UPDATE_STATE:"licensed"},DETAILS_PANEL:{OPEN:"openDetailsPanel",CLOSE:"closeDetailsPanel"},MOSAIC_RELOADED:"reloaded.adobestock_mosaic",HOVER_MENU_ACTION_PANEL_EXPANDED:"hoverMenuActionPanel",WELCOME_BACK_MODEL_DISPLAYED:"welcomeBackModal",FOTOLIA_MIGRATION_IS_OVER:"fotoliaMigrationOver",SEARCH_RESULTS_UPDATED:"searchResultsUpdated",UPDATE_SEARCH_RESULTS_CACHE:"updateSearchResultsCache",DATE_RANGE_PICKER:{CANCEL:"dateRangePickerCancel",APPLY:"dateRangePickerApply"},BODY_CLICKED:"bodyClicked"})}),define("lib/licenseType",[],function(){"use strict";return{LICENSE_TYPE_ID_CREDITS_CORE:15,LICENSE_TYPE_ID_CREDITS_GENERIC:16,LICENSE_TYPE_ID_AGENCY_STANDARD_CREDITS:42,LICENSE_TYPE_ID_AGENCY_PREMIUM_CREDITS:44,LICENSE_TYPE_ID_AGENCY_UNIVERSAL_CREDITS:43,LICENSE_TYPE_ID_CCE_BUNDLE:53,isLicenseTypeCredit:function(e){var t=!1;switch(e){case 15:case 16:case 42:case 44:case 43:t=!0;break;default:t=!1}return t}}}),define("lib/contentDetails",["jquery","lodash"],function(e,t){"use strict";var n={};function a(){var t=e("#image-detail-json"),a=t.attr("data-encoded"),i=t.text();a&&(i=decodeURIComponent(i)),n=i?JSON.parse(i):{}}return{init:a,getContentDataDic:function(){return e.isEmptyObject(n)&&a(),n},getContentData:function(e){var t=this.getContentDataDic();return t[e]?t[e]:{}},getSortedContentArray:function(e){var t=e||n;return Object.keys(t).map(function(e){return t[e]}).sort(function(e,t){return e.order_key-t.order_key})},getContentTypeId:function(e){var n=this.getContentData(e);return t.get(n,"content_type_id",null)},getContentFormat:function(e){var n=this.getContentData(e);return t.get(n,"format",null)},is3D:function(e){var n=this.getContentData(e);return t.get(n,"is_3D",!1)||t.get(n,"is3D",!1)},isTemplate:function(e){var n=this.getContentData(e);return t.get(n,"is_template",!1)||t.get(n,"isTemplate",!1)},isVideo:function(e){var n=this.getContentData(e);return t.get(n,"is_video",!1)||t.get(n,"isVideo",!1)},getLargestVideoSize:function(e){var t=this.getContentData(e),n=t.content_original_width,a=t.content_original_height,i=null;return n>=3840||a>=3840?i=2160:n*a>=2073600&&(i=1080),i},isImage:function(e){return this.getContentData(e).is_image},isLicensed:function(e){var t=this.getContentData(e);return!(!t.is_licensed&&!t.downloaded)},isPremium:function(e){var n=this.getContentData(e);return t.get(n,"is_premium",!1)||t.get(n,"isPremium",!1)},isEditorial:function(e){var n=this.getContentData(e);return t.get(n,"is_editorial",!1)},isFree:function(e){var n=this.getContentData(e);return t.get(n,"is_free",!1)},isVector:function(e){var n=this.getContentData(e);return t.get(n,"is_vector",!1)},isIllustrative:function(e){var n=this.getContentData(e);return t.get(n,"is_illustrative",!1)},isAudio:function(e){var n=this.getContentData(e);return t.get(n,"is_audio",!1)||t.get(n,"isAudio",!1)},isPurchasable:function(e){var n=this.getContentData(e);return t.get(n,"is_purchasable",!1)},isStandard:function(e){var n=this.getContentData(e);return t.get(n,"is_standard",!1)},isTransparent:function(e){var n=this.getContentData(e);return t.get(n,"is_transparent",!1)},setDataDicFromStore:function(e){n=e||{}},appendData:function(e){Object.assign(n,e||{})},HIGHRES_SIZE_VIDEO_4K:2160,HIGHRES_SIZE_VIDEO_HD:1080}}),define("lib/member",["jquery","page_config","lib/cookie","lib/uiEvents","lib/licenseType","lodash","lib/contentDetails"],function(e,t,n,a,i,s,r){"use strict";function o(){return window.__stock_portal_exports__.packages.coreCCStorageAuthentication}function l(e){return e>0&&(e-=1),e}function c(e,t){return e>=t&&(e-=t),e}return{_imsProfile:null,_stockProfile:null,CONTENT_TYPE_ID_PHOTO:1,CONTENT_TYPE_VIDEO:4,CONTENT_TYPE_ILLUSTRATION:2,CONTENT_TYPE_VECTOR:3,CONTENT_TYPE_INSTANT:5,CONTENT_TYPE_3D:6,CONTENT_TYPE_TEMPLATE:7,setImsProfile:function(e){this._imsProfile=e},getServiceAccounts:function(){return this._imsProfile?this._imsProfile.serviceAccounts:null},setStockProfile:function(e){this._stockProfile=e},getLicensingEntitlementByContent:function(e){return e?s.get(this._stockProfile,r.isStandard(e)?"standard_assets_licensing_entitlement":"non_standard_assets_licensing_entitlement",null):null},getCountryCode:function(){return this._imsProfile?this._imsProfile.countryCode:t.default_country_code?t.default_country_code:"US"},getMigrationV2UpgradeCandidate:function(){return this._stockProfile.migration_v2_upgrade_candidate},isMigrationV2UpgradeCandidate:function(e,t){return t&&!this.hasQuota(e,t,e)&&2!=e&&this.getMigrationV2UpgradeCandidate()&&!t.is_premium&&!t.is_editorial&&!t.is_free&&!t.is_video},isLoggedIn:function(){var e=!!this._imsProfile;return e||(e=n(t.SUSI.COOKIE_STOCK_ONLY_LOGGED_IN)),e},isZombieUser:function(){return"interim"===n(t.SUSI.COOKIE_STOCK_ONLY_LOGGED_IN)},getDefaultEntitlement:function(e){return this._stockProfile?this.getLicensingEntitlementByContent(e)||this._stockProfile.default_entitlement:null},isEnterpriseDiscountEligible:function(){return!!this._stockProfile&&this._stockProfile.is_enterprise_discount_eligible},getEnterpriseOffer:function(e){var t=this.getDefaultEntitlement(e),n=null;return t&&t.organization&&(n=t.organization.enterprise_offer),n},hasEnterpriseCreditCardPurchaseEnabled:function(e){var t=this.getDefaultEntitlement(e);return!!t&&!!t.has_enterprise_credit_card_purchase_enabled},hasEnoughQuotaForPossibleAssetLicenses:function(t,n){var a,i,s=t.possible_licenses||[],r=this.getDefaultEntitlement(t.content_id);return!(r&&r.is_cce&&!t.is_bundle_licensable&&!e.isEmptyObject(n))||!n.is_organization_out_of_quota&&s.some(function(e){return i=t.license_details[e].license_type_id,a=t.license_details[e].quota,(n.total_quota_available_by_license_type_id[i]||0)>=a})},getMemberId:function(){return this._stockProfile?this._stockProfile.member_id:null},getGuid:function(){return this._imsProfile?this._imsProfile.userId:null},getCleanGuid:function(e){var t,n=this.getGuid();return n&&(t=n.indexOf("@"),e?-1!==t&&(n=n.substr(0,t)):n=n.replace("@AdobeID","")),n},updateEntitlementsData:function(t){e.isEmptyObject(t)||e.isEmptyObject(t.default_entitlement)||e.isEmptyObject(t.entitlements_data)||(this._stockProfile.default_entitlement=t.default_entitlement,this._stockProfile.entitlements_data=t.entitlements_data,a.trigger(a.ENTITLEMENTS_UPDATED))},consumeDefaultEntitlementLicense:function(){this._stockProfile.default_entitlement&&a.trigger(a.ENTITLEMENTS_UPDATED)},consumeDefaultEntitlementLicenseType:function(e,t){var n;if(this._stockProfile.default_entitlement&&(n=this._stockProfile.default_entitlement.quotas_labels_by_license_type_id||{}),n&&n[e]&&n[e].quota>=t)e=parseInt(e),this._stockProfile.default_entitlement.quotas_labels_by_license_type_id[e].quota=c(n[e].quota,t),a.trigger(a.ENTITLEMENTS_UPDATED);else if(this._stockProfile.default_entitlement&&this._stockProfile.default_entitlement.total_quota_available_by_license_type_id[e]>=t){switch(e=parseInt(e)){case i.LICENSE_TYPE_ID_CREDITS_CORE:this._stockProfile.default_entitlement.total_quota_available_by_license_type_name.Credits_Images=c(this._stockProfile.default_entitlement.total_quota_available_by_license_type_name.Credits_Images,t);break;case i.LICENSE_TYPE_ID_CREDITS_GENERIC:this._stockProfile.default_entitlement.total_quota_available_by_license_type_name.Credits_Generic=c(this._stockProfile.default_entitlement.total_quota_available_by_license_type_name.Credits_Generic,t);break;case i.LICENSE_TYPE_ID_AGENCY_STANDARD_CREDITS:this._stockProfile.default_entitlement.total_quota_available_by_license_type_name.Agency_Model_Standard=c(this._stockProfile.default_entitlement.total_quota_available_by_license_type_name.Agency_Model_Standard,t);break;case i.LICENSE_TYPE_ID_AGENCY_PREMIUM_CREDITS:this._stockProfile.default_entitlement.total_quota_available_by_license_type_name.Agency_Model_Premium=c(this._stockProfile.default_entitlement.total_quota_available_by_license_type_name.Agency_Model_Premium,t);break;case i.LICENSE_TYPE_ID_AGENCY_UNIVERSAL_CREDITS:this._stockProfile.default_entitlement.total_quota_available_by_license_type_name.Agency_Model_Universal=c(this._stockProfile.default_entitlement.total_quota_available_by_license_type_name.Agency_Model_Universal,t)}a.trigger(a.ENTITLEMENTS_UPDATED)}},consumeDefaultEntitlementQuotaLicense:function(e){e&&!e.no_quota_consumption&&(!i.isLicenseTypeCredit(e.license_type_id)||e.is_cce&&!e.is_license_again_workflow?this.consumeDefaultEntitlementLicense():this.consumeDefaultEntitlementLicenseType(e.license_type_id,e.required_quota))},updateCreditPackQuota:function(e){s.get(this._stockProfile,"default_entitlement.available_credit_pack_quota")&&(this._stockProfile.default_entitlement.available_credit_pack_quota=e,a.trigger(a.ENTITLEMENTS_UPDATED))},getLicenseIdByContentTypeId:function(e){switch(e){case 1:case 2:case 3:case 5:case 7:case 6:return this.hasCCTPro()?10:1;case 4:return 3;default:return!1}},getUsername:function(){var e=null;return this._imsProfile&&(e=this.isTeam()?this._stockProfile.default_entitlement.label:"JP"==this._imsProfile.countryCode?this._imsProfile.last_name+"":this._imsProfile.first_name),e},getProfileName:function(){var e=this.getUsername();return this._stockProfile&&this._stockProfile.profile_name&&(e=this._stockProfile.profile_name),e},isTeam:function(e){var t=this.getDefaultEntitlement(e);return!(!t||!t.guid)},isType2E:function(){return this._stockProfile&&this._stockProfile.is_type2e},isAdmin:function(e){var t=this.getDefaultEntitlement(e);return this.isTeam(e)&&t&&t.is_admin},isIndUser:function(){return!!(this.isLoggedIn()&&this._stockProfile&&this._stockProfile.default_entitlement)&&this._stockProfile.default_entitlement.is_ind},getDefaultCloudId:function(){var e=this.getResolvedStockProfile();return e?e.default_cloud_id:null},getDefaultLibraryId:function(){var e=this.getResolvedStockProfile();return e?e.default_library_id:null},getDefaultOpenInAppCode:function(){var e=this.getResolvedStockProfile();return e?e.default_openin_appcode:null},hasStorageQuota:function(){var e=this.getResolvedStockProfile();return!!e&&e.has_storage_quota},hasCCPublicStorageQuota:function(){var e=this.getResolvedStockProfile();return e?e.has_ccpublic_storage_quota:null},isCCEPrivateUser:function(){var e=this.getResolvedStockProfile();return!!e&&e.is_cce_private_user},isCCE:function(){var e=this.getResolvedStockProfile();return!!e&&e.is_cce},isCCActive:function(){return!0},isDefaultEntitlementCCE:function(e){var t=this.getDefaultEntitlement(e);return t&&void 0!==t.is_cce?t.is_cce:this.isCCE()},getClouds:function(){var e=this.getResolvedStockProfile();return!!e&&e.clouds},getDefaultCloudVal:function(){var e=this.getDefaultCloudId(),t="Creative Cloud";if(e){var n=this.getClouds();if(n&&n.length>0)for(var a in n)n[a].id==e&&(t=n[a].name)}return t},getResolvedImsProfile:function(){return this._imsProfile?this._imsProfile:t.SUSI.profile?t.SUSI.profile:null},getResolvedStockProfile:function(){return this._stockProfile?this._stockProfile:t.member?t.member:null},formatProfiles:function(e,t){var n=[],a=!1,i={id:e.id,label:e.name,quota:[],groups:[]};return e.entitlements.forEach(function(s){var r=s.guid,o=s.label,l=s.entitlement_id,c=s.is_default_entitlement,u=s.licenses_available,d=s.quotas_labels_by_license_type_id,p=s.used_for_licensing_asset_type||null;if(null===e.id){var _={id:r,isDefaultEntitlement:t&&c,label:o,used_for_licensing_asset_type:p,quotas_labels_by_license_type_id:d,quota:[],groups:[]};_.quota.push({available:u,stockEntitlementId:l}),null===r?n.unshift(_):n.push(_),t&&c&&(a=!0)}else i.groups.push({id:r,label:o,isDefaultEntitlement:t&&c,used_for_licensing_asset_type:p,quotas_labels_by_license_type_id:d,quota:[{available:u,stockEntitlementId:l}]})}),null!==i.id&&n.unshift(i),{isPersonalProfileActive:a,profiles:n}},buildOrganizations:function(){var e=this,t=this.getResolvedStockProfile().entitlements_data,n=t.guid,a=t.account_cluster_organizations?t.account_cluster_organizations.auth_member:{},i=t.account_cluster_organizations?t.account_cluster_organizations.entitlement_only_members:{},s=!0,r={},o={};if(Object.entries(a).length){var l=Object.entries(a)[0],c=l[0],u=l[1];s=c===n,r[c]=[],u.forEach(function(t){var n=e.formatProfiles(t,s).profiles;r[c]=r[c].concat(n)})}return Object.entries(i).forEach(function(t){var a=t[0],i=t[1],s=a===n;o[a]=[],i.forEach(function(t){var n=e.formatProfiles(t,s).profiles;o[a]=o[a].concat(n)})}),{authProfiles:r,entitlementOnlyProfiles:o}},getAccountClusterEntitlements:function(){var e=this.getResolvedStockProfile().entitlements_data;return e&&e.account_cluster_entitlements||[]},hasCCEOldModel:function(e){var t=!1;return!this.isDefaultEntitlementCCE(e)||this.hasCreditsModel(e)||this.hasAgencyModel(e)||this.hasStockBundle(e)||this.hasEnterpriseCreditPackQuotaModel(e)||(t=!0),t},hasCreditsModel:function(e){var t=this.getDefaultEntitlement(e);return t?t.is_cce&&t.has_credit_model:this.isCCE()},hasAgencyModel:function(t){var n=this.getDefaultEntitlement(t);return e.isEmptyObject(n)?this.isCCE():n.is_cce&&n.has_agency_model},hasEnterpriseCreditPackQuotaModel:function(t){var n=this.getDefaultEntitlement(t),a=!1;return e.isEmptyObject(n)||(a=n.is_cce&&n.has_enterprise_credit_pack_quota_model),a},isEnterprise:function(e){return this.hasCreditsModel(e)||this.hasAgencyModel(e)||this.hasEnterpriseCreditPackQuotaModel(e)},hasVideoQuota:function(e){var t=this.getDefaultEntitlement(e);return!(!t||!t.displayable_quota_available_by_license_name)&&(t.displayable_quota_available_by_license_name.Video_4K>0||t.displayable_quota_available_by_license_name.Video_HD>0)},hasStandardQuota:function(e){var t=this.getDefaultEntitlement(e);return!(!t||!t.displayable_quota_available_by_license_name)&&t.displayable_quota_available_by_license_name.Standard>0},hasExtendedImageQuota:function(e){var t=this.getDefaultEntitlement(e);return!(!t||!t.displayable_quota_available_by_license_name)&&t.displayable_quota_available_by_license_name.Extended>0},hasLicensesForContent:function(e){return e.is_video?this.hasVideoQuota(e.content_id):this.hasStandardQuota(e.content_id)},hasSubscription:function(){return!!(this.isLoggedIn()&&this._stockProfile&&this._stockProfile.default_entitlement)&&this._stockProfile.default_entitlement.has_subscription},isCheckoutEligible:function(e){return!!this.hasEnterpriseCreditCardPurchaseEnabled()||(!(this.isLoggedIn()&&this.isTeam()&&!e)||!(!this.isType2E()||!t.is_team_plans))},isFMFEligible:function(){return!(this.isLoggedIn()&&this._stockProfile&&this._stockProfile.default_entitlement)||this._stockProfile.default_entitlement.is_fmf_eligible},hasAvailableCreditPackQuota:function(e){var t=this.getDefaultEntitlement(e);return t&&t.available_credit_pack_quota>0},hasEverHadCreditPacks:function(){var e=this.getDefaultEntitlement();return e&&e.has_ever_had_credit_packs},hasQuota:function(e,t,n){var a=this.hasCCTPro(t.content_id);if((1===n||10===n)&&s.get(t,"can_license_with_cct_pro")&&a)return!0;var i=s.get(t,"is_premium"),r=s.get(t,"possible_data_premium."+e),o=this.getDefaultEntitlement(t.content_id);return!i&&!r&&(s.get(o,'total_quota_available_by_license_id["'+e+'"]',0)>0||s.get(o,'displayable_quota_available_by_license_id["'+e+'"]',0)>0&&!this.hasAvailableCreditPackQuota(t.content_id))},canLicenseWithUniversalPlanCredits:function(e){var t=this.getDefaultEntitlement(e.content_id),n=s.get(t,"displayable_quota_available"),a=s.get(t,"has_universal_subscription"),i=s.get(e,"is_free",!1);return n&&a||i},updateQuotaFromLicenseName:function(e,t){var n=s.get(this,'_stockProfile.default_entitlement.total_quota_available_by_license_name["'+t+'"]'),a=s.get(this,"_stockProfile.default_entitlement.total_quota_available_by_license_name"),i=s.get(this,'_stockProfile.default_entitlement.total_quota_available_by_license_id["'+e+'"]'),r=s.get(this,"_stockProfile.default_entitlement.total_quota_available_by_license_id"),o=s.get(this,'_stockProfile.default_entitlement.displayable_quota_available_by_license_name["'+t+'"]'),c=s.get(this,"_stockProfile.default_entitlement.displayable_quota_available_by_license_name"),u=s.get(this,'_stockProfile.default_entitlement.displayable_quota_available_by_license_id["'+e+'"]'),d=s.get(this,"_stockProfile.default_entitlement.displayable_quota_available_by_license_id");e&&t&&a&&r&&c&&d&&(a[t]=l(n),r[e]=l(i),c[t]=l(o),d[e]=l(u))},getDefaultEntitlementGuid:function(){return s.get(this,"_stockProfile.default_entitlement.guid",null)},getOmnitureTeamProfileType:function(){return this._stockProfile&&this._stockProfile.default_entitlement?this._stockProfile.default_entitlement.team_profile_type:null},getOmnitureMemberType:function(){return this._stockProfile?this._stockProfile.member_type:null},hasBoughtSomething:function(e){var t=this.getDefaultEntitlement(e);return!!t&&t.has_bought_something},hasBoughtTrial:function(e){var t=this.getDefaultEntitlement(e);return!!t&&t.has_bought_trial},hasCCXPro:function(e){var t=this.getDefaultEntitlement(e);return!!t&&t.has_ccx_pro},hasSomeEntitlement:function(e){return this.hasBoughtSomething(e)||this.hasBoughtTrial(e)||this.hasCCTPro(e)||this.hasCCXPro(e)||this.hasStockBundle(e)||this.hasOrders(e)},isEligibleForTrial:function(e,t){return this.isIndUser()?this.isFMFEligible():this.isDelegateWithPlanButEligibleFoUniversalPlanTrial()?r.isVideo(t):!(this.hasSomeEntitlement(t)||this.isCreditCardPurchaseWithoutPlanEnabled(t)||e)&&this.isFMFEligible()},hasOrders:function(e){var t=this.getDefaultEntitlement(e);return!!t&&t.total_orders>0},getOmnitureMemberStatus:function(){return this._stockProfile?this._stockProfile.member_status:null},mustLicenseRequest:function(){var e=this.getResolvedStockProfile();return!!e&&!!e.must_license_request},mustAcceptTermsToLicense:function(e){var t=this.getDefaultEntitlement(e);return!!t&&t.must_accept_terms_to_license},hasStockBundle:function(e){var t=this.getDefaultEntitlement(e);return!!t&&!!t.has_stock_bundle},hasQuotesEnabled:function(){var e=this.getDefaultEntitlement();return!!e&&!!e.has_quotes_enabled},isTeamTrialFreeQuotaAvailable:function(){var e=this.getResolvedStockProfile();return!!e&&e.is_team_trial_free_quota_available},getQuotaDataByLicenseTypeId:function(e){var t=null;return(e=e||this.getDefaultEntitlement())&&e.quotas_labels_by_license_type_id&&Object.keys(e.quotas_labels_by_license_type_id).length>0&&(t=e.quotas_labels_by_license_type_id),t},shouldDisplayLicenseCounter:function(t){return!(!((t=t||this.getDefaultEntitlement()||{}).displayable_quota_available||this.hasSubscription()||this.isCCE()||t.has_cct_pro||t.has_ever_had_credit_packs)&&e.isEmptyObject(t.quotas_labels_by_license_type_id))},getPrivateCloudUrlForLibraries:function(){var e=this.getClouds(),t={};if(e&&e.length>0)for(var n=this.getDefaultCloudId(),a=0;a<e.length;a++){var i=e[a];if(i.id&&i.id==n||!n&&this.isCCEPrivateUser()&&!this.hasCCPublicStorageQuota()){t={isPrivateCloud:!0,libraryServiceURL:i.url,privateCloudId:i.id,storageHost:i.storage_url?i.storage_url.replace(/^https?:\/\//,""):""};break}}return t},fetchAccessToken:function(){return n(t.SUSI.COOKIE_IMS_ACCESS_TOKEN)},fetchStorageRepositoryInfo:function(n){var a=e.Deferred(),i={storageToken:n,imsClientId:t.SUSI.CLIENT_ID,environment:t.isProductionServer?"production":"staging"};return o().getStorageRepositoryInfo(i).then(function(e){a.resolve(e)},function(e){a.reject(e)}),a},fetchStorageToken:function(){var n=e.Deferred(),a={csrfToken:t.csrf_token&&t.csrf_token.value,xRequestId:t.x_request_id,endpointUrl:t.base_url+"/Ajax/Member/AuthToken"};return o().getStorageAccessToken(a).then(function(e){if(!e||!e.access_token)return n.reject(new Error("Invalid cc storage access token"));n.resolve(e.access_token)},function(e){n.reject(e)}),n},clearCachedStorageAccessData:function(){o().clearCachedStorageAccessData()},fetchLibrariesToken:function(){return t.isStorageTokenEnabled?this.fetchStorageToken():e.Deferred().resolve(this.fetchAccessToken())},checkAccessToken:function(e,t){return!!t||(e.reject(),!1)},hasCCTPro:function(e){var t=this.getDefaultEntitlement(e);return!!t&&t.has_cct_pro},shouldDisplayTeamEntitlementErrorModal:function(){return s.get(this,"_stockProfile.show_team_entitlement_error",!1)},isUsingCCEAccount:function(){return this.isDefaultEntitlementCCE()||s.get(this.getDefaultEntitlement(),"is_credit_card_purchase_entitlement")||this.isCCE()},isCreditCardPurchaseWithoutPlanEnabled:function(e){return s.get(this.getDefaultEntitlement(e),"is_credit_card_purchase_entitlement_without_plan",!1)},getImsAccountName:function(){var e=this.getResolvedImsProfile();return[s.get(e,"first_name"),s.get(e,"last_name")].join(" ").trim()},hasCCEProPlusBundle:function(e){var t=this.getDefaultEntitlement(e);return!!t&&t.is_cce_pro_plus_bundle},isDelegateWithPlanButEligibleFoUniversalPlanTrial:function(){return s.get(this,"_stockProfile.is_qualified_t2e_delegate_for_multi_asset_sub_trial")},isCCEProUser:function(){return s.get(this,"_stockProfile.cc_pro_status.user_has_ccepro")}}}),function(e,t){var n=Array.prototype,a=Object.prototype,i=n.slice,s=a.hasOwnProperty,r=n.forEach,o={},l={forEach:function(e,t,n){var a,i,l;if(null!==e)if(r&&e.forEach===r)e.forEach(t,n);else if(e.length===+e.length){for(a=0,i=e.length;a<i;a++)if(a in e&&t.call(n,e[a],a,e)===o)return}else for(l in e)if(s.call(e,l)&&t.call(n,e[l],l,e)===o)return},extend:function(e){return this.forEach(i.call(arguments,1),function(t){for(var n in t)e[n]=t[n]}),e}},c=function(e){if(this.defaults={locale_data:{messages:{"":{domain:"messages",lang:"en",plural_forms:"nplurals=2; plural=(n != 1);"}}},domain:"messages",debug:!1},this.options=l.extend({},this.defaults,e),this.textdomain(this.options.domain),e.domain&&!this.options.locale_data[this.options.domain])throw new Error("Text domain set to non-existent domain: `"+e.domain+"`")};function u(e){return c.PF.compile(e||"nplurals=2; plural=(n != 1);")}function d(e,t){this._key=e,this._i18n=t}c.context_delimiter=String.fromCharCode(4),l.extend(d.prototype,{onDomain:function(e){return this._domain=e,this},withContext:function(e){return this._context=e,this},ifPlural:function(e,t){return this._val=e,this._pkey=t,this},fetch:function(e){return"[object Array]"!={}.toString.call(e)&&(e=[].slice.call(arguments,0)),(e&&e.length?c.sprintf:function(e){return e})(this._i18n.dcnpgettext(this._domain,this._context,this._key,this._pkey,this._val),e)}}),l.extend(c.prototype,{translate:function(e){return new d(e,this)},textdomain:function(e){if(!e)return this._textdomain;this._textdomain=e},gettext:function(e){return this.dcnpgettext.call(this,t,t,e)},dgettext:function(e,n){return this.dcnpgettext.call(this,e,t,n)},dcgettext:function(e,n){return this.dcnpgettext.call(this,e,t,n)},ngettext:function(e,n,a){return this.dcnpgettext.call(this,t,t,e,n,a)},dngettext:function(e,n,a,i){return this.dcnpgettext.call(this,e,t,n,a,i)},dcngettext:function(e,n,a,i){return this.dcnpgettext.call(this,e,t,n,a,i)},pgettext:function(e,n){return this.dcnpgettext.call(this,t,e,n)},dpgettext:function(e,t,n){return this.dcnpgettext.call(this,e,t,n)},dcpgettext:function(e,t,n){return this.dcnpgettext.call(this,e,t,n)},npgettext:function(e,n,a,i){return this.dcnpgettext.call(this,t,e,n,a,i)},dnpgettext:function(e,t,n,a,i){return this.dcnpgettext.call(this,e,t,n,a,i)},dcnpgettext:function(e,t,n,a,i){var s;if(a=a||n,e=e||this._textdomain,!this.options)return(s=new c).dcnpgettext.call(s,void 0,void 0,n,a,i);if(!this.options.locale_data)throw new Error("No locale data provided.");if(!this.options.locale_data[e])throw new Error("Domain `"+e+"` was not found.");if(!this.options.locale_data[e][""])throw new Error("No locale meta information provided.");if(!n)throw new Error("No translation key found.");var r,o,l,d=t?t+c.context_delimiter+n:n,p=this.options.locale_data,_=p[e],h=(p.messages||this.defaults.locale_data.messages)[""],f=_[""].plural_forms||_[""]["Plural-Forms"]||_[""]["plural-forms"]||h.plural_forms||h["Plural-Forms"]||h["plural-forms"];if(void 0===i)l=0;else{if("number"!=typeof i&&(i=parseInt(i,10),isNaN(i)))throw new Error("The number that was passed in is not a number.");l=u(f)(i)}if(!_)throw new Error("No domain named `"+e+"` could be found.");return!(r=_[d])||l>r.length?(this.options.missing_key_callback&&this.options.missing_key_callback(d,e),o=[n,a],this.options.debug,o[u()(i)]):(o=r[l])||(o=[n,a])[u()(i)]}});var p,_,h=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function t(e,t){for(var n=[];t>0;n[--t]=e);return n.join("")}var n=function(){return n.cache.hasOwnProperty(arguments[0])||(n.cache[arguments[0]]=n.parse(arguments[0])),n.format.call(null,n.cache[arguments[0]],arguments)};return n.format=function(n,a){var i,s,r,o,l,c,u,d=1,p=n.length,_="",f=[];for(s=0;s<p;s++)if("string"===(_=e(n[s])))f.push(n[s]);else if("array"===_){if((o=n[s])[2])for(i=a[d],r=0;r<o[2].length;r++){if(!i.hasOwnProperty(o[2][r]))throw h('[sprintf] property "%s" does not exist',o[2][r]);i=i[o[2][r]]}else i=o[1]?a[o[1]]:a[d++];if(/[^s]/.test(o[8])&&"number"!=e(i))throw h("[sprintf] expecting number but found %s",e(i));switch(null==i&&(i=""),o[8]){case"b":i=i.toString(2);break;case"c":i=String.fromCharCode(i);break;case"d":i=parseInt(i,10);break;case"e":i=o[7]?i.toExponential(o[7]):i.toExponential();break;case"f":i=o[7]?parseFloat(i).toFixed(o[7]):parseFloat(i);break;case"o":i=i.toString(8);break;case"s":i=(i=String(i))&&o[7]?i.substring(0,o[7]):i;break;case"u":i=Math.abs(i);break;case"x":i=i.toString(16);break;case"X":i=i.toString(16).toUpperCase()}i=/[def]/.test(o[8])&&o[3]&&i>=0?"+"+i:i,c=o[4]?"0"==o[4]?"0":o[4].charAt(1):" ",u=o[6]-String(i).length,l=o[6]?t(c,u):"",f.push(o[5]?i+l:l+i)}return f.join("")},n.cache={},n.parse=function(e){for(var t=e,n=[],a=[],i=0;t;){if(null!==(n=/^[^\x25]+/.exec(t)))a.push(n[0]);else if(null!==(n=/^\x25{2}/.exec(t)))a.push("%");else{if(null===(n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t)))throw"[sprintf] huh?";if(n[2]){i|=1;var s=[],r=n[2],o=[];if(null===(o=/^([a-z_][a-z_\d]*)/i.exec(r)))throw"[sprintf] huh?";for(s.push(o[1]);""!==(r=r.substring(o[0].length));)if(null!==(o=/^\.([a-z_][a-z_\d]*)/i.exec(r)))s.push(o[1]);else{if(null===(o=/^\[(\d+)\]/.exec(r)))throw"[sprintf] huh?";s.push(o[1])}n[2]=s}else i|=2;if(3===i)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";a.push(n)}t=t.substring(n[0].length)}return a},n}(),f=function(e,t){return t.unshift(e),h.apply(null,t)};c.parse_plural=function(e,t){return e=e.replace(/n/g,t),c.parse_expression(e)},c.sprintf=function(e,t){return"[object Array]"=={}.toString.call(t)?f(e,[].slice.call(t)):h.apply(this,[].slice.call(arguments))},c.prototype.sprintf=function(){return c.sprintf.apply(this,arguments)},c.PF={},c.PF.parse=function(e){var t=c.PF.extractPluralExpr(e);return c.PF.parser.parse.call(c.PF.parser,t)},c.PF.compile=function(e){var t=c.PF.parse(e);return function(e){return!0===(n=c.PF.interpreter(t)(e))?1:n||0;var n}},c.PF.interpreter=function(e){return function(t){switch(e.type){case"GROUP":return c.PF.interpreter(e.expr)(t);case"TERNARY":return c.PF.interpreter(e.expr)(t)?c.PF.interpreter(e.truthy)(t):c.PF.interpreter(e.falsey)(t);case"OR":return c.PF.interpreter(e.left)(t)||c.PF.interpreter(e.right)(t);case"AND":return c.PF.interpreter(e.left)(t)&&c.PF.interpreter(e.right)(t);case"LT":return c.PF.interpreter(e.left)(t)<c.PF.interpreter(e.right)(t);case"GT":return c.PF.interpreter(e.left)(t)>c.PF.interpreter(e.right)(t);case"LTE":return c.PF.interpreter(e.left)(t)<=c.PF.interpreter(e.right)(t);case"GTE":return c.PF.interpreter(e.left)(t)>=c.PF.interpreter(e.right)(t);case"EQ":return c.PF.interpreter(e.left)(t)==c.PF.interpreter(e.right)(t);case"NEQ":return c.PF.interpreter(e.left)(t)!=c.PF.interpreter(e.right)(t);case"MOD":return c.PF.interpreter(e.left)(t)%c.PF.interpreter(e.right)(t);case"VAR":return t;case"NUM":return e.val;default:throw new Error("Invalid Token found.")}}},c.PF.extractPluralExpr=function(e){e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),/;\s*$/.test(e)||(e=e.concat(";"));var t,n=/nplurals\=(\d+);/,a=e.match(n);if(!(a.length>1))throw new Error("nplurals not found in plural_forms string: "+e);if(a[1],!((t=(e=e.replace(n,"")).match(/plural\=(.*);/))&&t.length>1))throw new Error("`plural` expression not found: "+e);return t[1]},c.PF.parser=(p={trace:function(){},yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,"?":6,":":7,"||":8,"&&":9,"<":10,"<=":11,">":12,">=":13,"!=":14,"==":15,"%":16,"(":17,")":18,n:19,NUMBER:20,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",6:"?",7:":",8:"||",9:"&&",10:"<",11:"<=",12:">",13:">=",14:"!=",15:"==",16:"%",17:"(",18:")",19:"n",20:"NUMBER"},productions_:[0,[3,2],[4,5],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,1],[4,1]],performAction:function(e,t,n,a,i,s,r){var o=s.length-1;switch(i){case 1:return{type:"GROUP",expr:s[o-1]};case 2:this.$={type:"TERNARY",expr:s[o-4],truthy:s[o-2],falsey:s[o]};break;case 3:this.$={type:"OR",left:s[o-2],right:s[o]};break;case 4:this.$={type:"AND",left:s[o-2],right:s[o]};break;case 5:this.$={type:"LT",left:s[o-2],right:s[o]};break;case 6:this.$={type:"LTE",left:s[o-2],right:s[o]};break;case 7:this.$={type:"GT",left:s[o-2],right:s[o]};break;case 8:this.$={type:"GTE",left:s[o-2],right:s[o]};break;case 9:this.$={type:"NEQ",left:s[o-2],right:s[o]};break;case 10:this.$={type:"EQ",left:s[o-2],right:s[o]};break;case 11:this.$={type:"MOD",left:s[o-2],right:s[o]};break;case 12:this.$={type:"GROUP",expr:s[o-1]};break;case 13:this.$={type:"VAR"};break;case 14:this.$={type:"NUM",val:Number(e)}}},table:[{3:1,4:2,17:[1,3],19:[1,4],20:[1,5]},{1:[3]},{5:[1,6],6:[1,7],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16]},{4:17,17:[1,3],19:[1,4],20:[1,5]},{5:[2,13],6:[2,13],7:[2,13],8:[2,13],9:[2,13],10:[2,13],11:[2,13],12:[2,13],13:[2,13],14:[2,13],15:[2,13],16:[2,13],18:[2,13]},{5:[2,14],6:[2,14],7:[2,14],8:[2,14],9:[2,14],10:[2,14],11:[2,14],12:[2,14],13:[2,14],14:[2,14],15:[2,14],16:[2,14],18:[2,14]},{1:[2,1]},{4:18,17:[1,3],19:[1,4],20:[1,5]},{4:19,17:[1,3],19:[1,4],20:[1,5]},{4:20,17:[1,3],19:[1,4],20:[1,5]},{4:21,17:[1,3],19:[1,4],20:[1,5]},{4:22,17:[1,3],19:[1,4],20:[1,5]},{4:23,17:[1,3],19:[1,4],20:[1,5]},{4:24,17:[1,3],19:[1,4],20:[1,5]},{4:25,17:[1,3],19:[1,4],20:[1,5]},{4:26,17:[1,3],19:[1,4],20:[1,5]},{4:27,17:[1,3],19:[1,4],20:[1,5]},{6:[1,7],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[1,28]},{6:[1,7],7:[1,29],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16]},{5:[2,3],6:[2,3],7:[2,3],8:[2,3],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[2,3]},{5:[2,4],6:[2,4],7:[2,4],8:[2,4],9:[2,4],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[2,4]},{5:[2,5],6:[2,5],7:[2,5],8:[2,5],9:[2,5],10:[2,5],11:[2,5],12:[2,5],13:[2,5],14:[2,5],15:[2,5],16:[1,16],18:[2,5]},{5:[2,6],6:[2,6],7:[2,6],8:[2,6],9:[2,6],10:[2,6],11:[2,6],12:[2,6],13:[2,6],14:[2,6],15:[2,6],16:[1,16],18:[2,6]},{5:[2,7],6:[2,7],7:[2,7],8:[2,7],9:[2,7],10:[2,7],11:[2,7],12:[2,7],13:[2,7],14:[2,7],15:[2,7],16:[1,16],18:[2,7]},{5:[2,8],6:[2,8],7:[2,8],8:[2,8],9:[2,8],10:[2,8],11:[2,8],12:[2,8],13:[2,8],14:[2,8],15:[2,8],16:[1,16],18:[2,8]},{5:[2,9],6:[2,9],7:[2,9],8:[2,9],9:[2,9],10:[2,9],11:[2,9],12:[2,9],13:[2,9],14:[2,9],15:[2,9],16:[1,16],18:[2,9]},{5:[2,10],6:[2,10],7:[2,10],8:[2,10],9:[2,10],10:[2,10],11:[2,10],12:[2,10],13:[2,10],14:[2,10],15:[2,10],16:[1,16],18:[2,10]},{5:[2,11],6:[2,11],7:[2,11],8:[2,11],9:[2,11],10:[2,11],11:[2,11],12:[2,11],13:[2,11],14:[2,11],15:[2,11],16:[2,11],18:[2,11]},{5:[2,12],6:[2,12],7:[2,12],8:[2,12],9:[2,12],10:[2,12],11:[2,12],12:[2,12],13:[2,12],14:[2,12],15:[2,12],16:[2,12],18:[2,12]},{4:30,17:[1,3],19:[1,4],20:[1,5]},{5:[2,2],6:[1,7],7:[2,2],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[2,2]}],defaultActions:{6:[2,1]},parseError:function(e,t){throw new Error(e)},parse:function(e){var t=this,n=[0],a=[null],i=[],s=this.table,r="",o=0,l=0,c=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;function d(){var e;return"number"!=typeof(e=t.lexer.lex()||1)&&(e=t.symbols_[e]||e),e}i.push(u),"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,_,h,f,E,m,g,T,b,v,I={};;){if(h=n[n.length-1],this.defaultActions[h]?f=this.defaultActions[h]:(null==p&&(p=d()),f=s[h]&&s[h][p]),void 0===f||!f.length||!f[0]){if(!c){for(m in b=[],s[h])this.terminals_[m]&&m>2&&b.push("'"+this.terminals_[m]+"'");var S="";S=this.lexer.showPosition?"Parse error on line "+(o+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+b.join(", ")+", got '"+this.terminals_[p]+"'":"Parse error on line "+(o+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(S,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:u,expected:b})}if(3==c){if(1==p)throw new Error(S||"Parsing halted.");l=this.lexer.yyleng,r=this.lexer.yytext,o=this.lexer.yylineno,u=this.lexer.yylloc,p=d()}for(;!(2..toString()in s[h]);){if(0==h)throw new Error(S||"Parsing halted.");v=1,n.length=n.length-2*v,a.length=a.length-v,i.length=i.length-v,h=n[n.length-1]}_=p,p=2,f=s[h=n[n.length-1]]&&s[h][2],c=3}if(f[0]instanceof Array&&f.length>1)throw new Error("Parse Error: multiple actions possible at state: "+h+", token: "+p);switch(f[0]){case 1:n.push(p),a.push(this.lexer.yytext),i.push(this.lexer.yylloc),n.push(f[1]),p=null,_?(p=_,_=null):(l=this.lexer.yyleng,r=this.lexer.yytext,o=this.lexer.yylineno,u=this.lexer.yylloc,c>0&&c--);break;case 2:if(g=this.productions_[f[1]][1],I.$=a[a.length-g],I._$={first_line:i[i.length-(g||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(g||1)].first_column,last_column:i[i.length-1].last_column},void 0!==(E=this.performAction.call(I,r,l,o,this.yy,f[1],a,i)))return E;g&&(n=n.slice(0,-1*g*2),a=a.slice(0,-1*g),i=i.slice(0,-1*g)),n.push(this.productions_[f[1]][0]),a.push(I.$),i.push(I._$),T=s[n[n.length-2]][n[n.length-1]],n.push(T);break;case 3:return!0}}return!0}},_=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parseError)throw new Error(e);this.yy.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.match+=e,this.matched+=e,e.match(/\n/)&&this.yylineno++,this._input=this._input.slice(1),e},unput:function(e){return this._input=e+this._input,this},more:function(){return this._more=!0,this},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;var e,t;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var n=this._currentRules(),a=0;a<n.length;a++)if(e=this._input.match(this.rules[n[a]]))return(t=e[0].match(/\n.*/g))&&(this.yylineno+=t.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:t?t[t.length-1].length-1:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],this.performAction.call(this,this.yy,this,n[a],this.conditionStack[this.conditionStack.length-1])||void 0;if(""===this._input)return this.EOF;this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)},performAction:function(e,t,n,a){switch(n){case 0:break;case 1:return 20;case 2:return 19;case 3:return 8;case 4:return 9;case 5:return 6;case 6:return 7;case 7:return 11;case 8:return 13;case 9:return 10;case 10:return 12;case 11:return 14;case 12:return 15;case 13:return 16;case 14:return 17;case 15:return 18;case 16:return 5;case 17:return"INVALID"}},rules:[/^\s+/,/^[0-9]+(\.[0-9]+)?\b/,/^n\b/,/^\|\|/,/^&&/,/^\?/,/^:/,/^<=/,/^>=/,/^</,/^>/,/^!=/,/^==/,/^%/,/^\(/,/^\)/,/^$/,/^./],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],inclusive:!0}}};return e}(),p.lexer=_,p),"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=c),exports.Jed=c):("function"==typeof define&&define.amd&&define("i18n",[],function(){return c}),e.Jed=c)}(this),function(e,t){"function"==typeof define&&define.amd?define("Handlebars",[],t):"object"==typeof exports?module.exports=t():e.Handlebars=t()}(this,function(){var e=function(){"use strict";var e={},t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n=/[&<>"'`]/g,a=/[&<>"'`]/;function i(e){return t[e]}e.extend=function(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e};var s,r=Object.prototype.toString;e.toString=r,(s=function(e){return"function"==typeof e})(/x/)&&(s=function(e){return"function"==typeof e&&"[object Function]"===r.call(e)}),e.isFunction=s;var o=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===r.call(e)};return e.isArray=o,e.indexOf=function(e,t){for(var n=0,a=e.length;n<a;n++)if(e[n]===t)return n;return-1},e.escapeExpression=function(e){return e&&e.toHTML?e.toHTML():null==e?"":e?(e=""+e,a.test(e)?e.replace(n,i):e):e+""},e.isEmpty=function(e){return!e&&0!==e||!(!o(e)||0!==e.length)},e.blockParams=function(e,t){return e.path=t,e},e.appendContextPath=function(e,t){return(e?e+".":"")+t},e}(),t=function(){"use strict";var e=["description","fileName","lineNumber","message","name","number","stack"];function t(t,n){var a,i,s=n&&n.loc;s&&(t+=" - "+(a=s.start.line)+":"+(i=s.start.column));for(var r=Error.prototype.constructor.call(this,t),o=0;o<e.length;o++)this[e[o]]=r[e[o]];s&&(this.lineNumber=a,this.column=i)}return t.prototype=new Error,t}(),n=function(e,t){"use strict";var n={},a=e,i=t;n.VERSION="3.0.0";n.COMPILER_REVISION=6;n.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};var s=a.isArray,r=a.isFunction,o=a.toString,l="[object Object]";function c(e,t){var n;this.helpers=e||{},this.partials=t||{},(n=this).registerHelper("helperMissing",function(){if(1!==arguments.length)throw new i("Missing helper: '"+arguments[arguments.length-1].name+"'")}),n.registerHelper("blockHelperMissing",function(e,t){var i=t.inverse,r=t.fn;if(!0===e)return r(this);if(!1===e||null==e)return i(this);if(s(e))return e.length>0?(t.ids&&(t.ids=[t.name]),n.helpers.each(e,t)):i(this);if(t.data&&t.ids){var o=p(t.data);o.contextPath=a.appendContextPath(t.data.contextPath,t.name),t={data:o}}return r(e,t)}),n.registerHelper("each",function(e,t){if(!t)throw new i("Must pass iterator to #each");var n,o,l=t.fn,c=t.inverse,u=0,d="";function _(t,i,s){n&&(n.key=t,n.index=i,n.first=0===i,n.last=!!s,o&&(n.contextPath=o+t)),d+=l(e[t],{data:n,blockParams:a.blockParams([e[t],t],[o+t,null])})}if(t.data&&t.ids&&(o=a.appendContextPath(t.data.contextPath,t.ids[0])+"."),r(e)&&(e=e.call(this)),t.data&&(n=p(t.data)),e&&"object"==typeof e)if(s(e))for(var h=e.length;u<h;u++)_(u,u,u===e.length-1);else{var f;for(var E in e)e.hasOwnProperty(E)&&(f&&_(f,u-1),f=E,u++);f&&_(f,u-1,!0)}return 0===u&&(d=c(this)),d}),n.registerHelper("if",function(e,t){return r(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||a.isEmpty(e)?t.inverse(this):t.fn(this)}),n.registerHelper("unless",function(e,t){return n.helpers.if.call(this,e,{fn:t.inverse,inverse:t.fn,hash:t.hash})}),n.registerHelper("with",function(e,t){r(e)&&(e=e.call(this));var n=t.fn;if(a.isEmpty(e))return t.inverse(this);if(t.data&&t.ids){var i=p(t.data);i.contextPath=a.appendContextPath(t.data.contextPath,t.ids[0]),t={data:i}}return n(e,t)}),n.registerHelper("log",function(e,t){var a=t.data&&null!=t.data.level?parseInt(t.data.level,10):1;n.log(a,e)}),n.registerHelper("lookup",function(e,t){return e&&e[t]})}n.HandlebarsEnvironment=c,c.prototype={constructor:c,logger:u,log:d,registerHelper:function(e,t){if(o.call(e)===l){if(t)throw new i("Arg not supported with multiple helpers");a.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(o.call(e)===l)a.extend(this.partials,e);else{if(void 0===t)throw new i("Attempting to register a partial as undefined");this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]}};var u={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:1,log:function(e,t){if("undefined"!=typeof console&&u.level<=e){var n=u.methodMap[e];(console[n]||console.log).call(console,t)}}};n.logger=u;var d=u.log;n.log=d;var p=function(e){var t=a.extend({},e);return t._parent=e,t};return n.createFrame=p,n}(e,t);return function(e,t,n,a,i){"use strict";var s=e,r=t,o=n,l=a,c=i,u=function(){var e=new s.HandlebarsEnvironment;return l.extend(e,s),e.SafeString=r,e.Exception=o,e.Utils=l,e.escapeExpression=l.escapeExpression,e.VM=c,e.template=function(t){return c.template(t,e)},e},d=u();d.create=u;var p="undefined"!=typeof global?global:window,_=p.Handlebars;return d.noConflict=function(){p.Handlebars===d&&(p.Handlebars=_)},d.default=d,d}(n,function(){"use strict";function e(e){this.string=e}return e.prototype.toString=e.prototype.toHTML=function(){return""+this.string},e}(),t,e,function(e,t,n){"use strict";var a={},i=e,s=t,r=n.COMPILER_REVISION,o=n.REVISION_CHANGES,l=n.createFrame;function c(e,t,n,a,i,s,r){var o=function(t,i){return i=i||{},n.call(e,t,e.helpers,e.partials,i.data||a,s&&[i.blockParams].concat(s),r&&[t].concat(r))};return o.program=t,o.depth=r?r.length:0,o.blockParams=i||0,o}return a.checkRevision=function(e){var t=e&&e[0]||1;if(t!==r){if(t<r){var n=o[r],a=o[t];throw new s("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+a+").")}throw new s("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}},a.template=function(e,t){if(!t)throw new s("No environment passed to template");if(!e||!e.main)throw new s("Unknown template object: "+typeof e);t.VM.checkRevision(e.compiler);var n={strict:function(e,t){if(!(t in e))throw new s('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var n=e.length,a=0;a<n;a++)if(e[a]&&null!=e[a][t])return e[a][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:i.escapeExpression,invokePartial:function(n,a,r){r.hash&&(a=i.extend({},a,r.hash)),n=t.VM.resolvePartial.call(this,n,a,r);var o=t.VM.invokePartial.call(this,n,a,r);if(null==o&&t.compile&&(r.partials[r.name]=t.compile(n,e.compilerOptions,t),o=r.partials[r.name](a,r)),null!=o){if(r.indent){for(var l=o.split("\n"),c=0,u=l.length;c<u&&(l[c]||c+1!==u);c++)l[c]=r.indent+l[c];o=l.join("\n")}return o}throw new s("The partial "+r.name+" could not be compiled when running in runtime-only mode")},fn:function(t){return e[t]},programs:[],program:function(e,t,n,a,i){var s=this.programs[e],r=this.fn(e);return t||i||a||n?s=c(this,e,r,t,n,a,i):s||(s=this.programs[e]=c(this,e,r)),s},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=i.extend({},t,e)),n},noop:t.VM.noop,compilerInfo:e.compiler},a=function(t,i){var s=(i=i||{}).data;a._setup(i),!i.partial&&e.useData&&(s=function(e,t){t&&"root"in t||((t=t?l(t):{}).root=e);return t}(t,s));var r,o=e.useBlockParams?[]:void 0;return e.useDepths&&(r=i.depths?[t].concat(i.depths):[t]),e.main.call(n,t,n.helpers,n.partials,s,o,r)};return a.isTop=!0,a._setup=function(a){a.partial?(n.helpers=a.helpers,n.partials=a.partials):(n.helpers=n.merge(a.helpers,t.helpers),e.usePartial&&(n.partials=n.merge(a.partials,t.partials)))},a._child=function(t,a,i,r){if(e.useBlockParams&&!i)throw new s("must pass block params");if(e.useDepths&&!r)throw new s("must pass parent depths");return c(n,t,e[t],a,0,i,r)},a},a.program=c,a.resolvePartial=function(e,t,n){return e?e.call||n.name||(n.name=e,e=n.partials[e]):e=n.partials[n.name],e},a.invokePartial=function(e,t,n){if(n.partial=!0,void 0===e)throw new s("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)},a.noop=function(){return""},a}(e,t,n))}),define("viewHelpers/numberFormatI18n",["jquery","lib/window","page_config"],function(e,t,n){"use strict";var a=!1,i={1:"USD",2:"EUR",3:"GBP",4:"AUD",5:"CAD",6:"JPY",7:"CHF",8:"DKK",9:"NOK",10:"SEK"};try{(0).toLocaleString("i")}catch(e){a="RangeError"===e.name}return{format:function(e){var a,i,s=t.getNumberFormat(n.locale_code.replace("_","-"));return s?a=s.format(e):(i=e.toString().split(".")).length>2?a=e:(i[0]=i[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,","),a=i.join(".")),a},formatCurrency:function(e,t){return a?e.toLocaleString(n.locale_code.replace("_","-"),{style:"currency",currency:i[t||1]}):null}}}),define("i18n-config",["jquery","i18n","page_config","Handlebars","viewHelpers/numberFormatI18n"],function(e,t,n,a,i){"use strict";var s,r=n.locale_code;function o(e){return e.replace(/^(?:[a-zA-Z0-9_]+::)+/,"")}var l=(s=r&&window.i18ndata&&window.i18ndata[r]?new t({locale_data:window.i18ndata[r],domain:"adobestock"}):new t({domain:"adobestock",locale_data:{adobestock:{"":{domain:"adobestock","plural-forms":"nplurals=2; plural=n != 1;",lang:""}}}})).gettext,c=s.ngettext;return s.gettext=function(e){var t=l.call(s,e);return t===e&&(t=o(t)),t},s.ngettext=function(e,t,n){var a=c.call(s,e,t,n);return a!==e&&a!==t||(a=o(a)),a},a.registerHelper("_",s.gettext),a.registerHelper("ngettext",s.ngettext),a.registerHelper("sprintf",function(){var e=Array.prototype.slice.call(arguments,0,arguments.length-1),n=e.shift();return t.sprintf(n,e)}),a.registerHelper("escape_sprintf",function(){var e=Array.prototype.slice.call(arguments,0,arguments.length-1),n=a.escapeExpression(e.shift());return new a.SafeString(t.sprintf(n,e))}),a.registerHelper("number",i.format),a.registerHelper("mapToAdobeBaseUrl",function(e){var t=Array.prototype.slice.call(arguments,0,arguments.length-1);if(t.length>=2&&-1!==Array.prototype.slice.call(t,1,t.length).indexOf(e))return"";return"/hk"===e?"/hk_zh":e}),a.registerHelper("data-t",function(){var e=Array.prototype.slice.call(arguments,0,arguments.length-1).map(function(e){return a.escapeExpression(e).split(" ").join("-").toLowerCase()});return new a.SafeString(t.sprintf('data-t="%s"',e.join("-")))}),s}),define("lib/error",["jquery","i18n","i18n-config"],function(e,t,n){"use strict";var a=e(".js-alert-error-modal-canvas").first(),i=a.find(".js-error-modal-header"),s=a.find(".js-error-modal-body"),r=a.find(".js-dismiss-error-modal"),o=e(".js-error-modal-canvas").first(),l=o.find(".js-error-modal-header"),c=o.find(".js-error-modal-body"),u=o.find(".js-dismiss-error-modal"),d=u.text(),p=e(".js-short-error-modal-canvas").first(),_=p.find(".js-short-error-modal-body"),h=p.find(".js-short-dismiss-error-modal"),f=h.text(),E=null;return o.on("click",u,function(){E&&E(),o.hide()}),a.on("click",r,function(){E&&E(),a.hide()}),p.on("click",h,function(){E&&E(),p.hide()}),{displayErrorModal:function(e,t,n,i){l.text(e),c.html(t),u.text(n||d),E=i,o.show(),a.hide(),p.hide()},displayAlertErrorModal:function(e,t,n,l){i.text(e),s.html(t),r.text(n||d),E=l,a.show(),o.hide(),p.hide()},displayShortErrorModal:function(e,t,n){_.text(e),h.text(t||f),E=n,p.show(),a.hide(),o.hide()},displayErrorMsgModal:function(e,t,n,a,i){var s=this;e&&e.title&&e.msg?e.msg.length<50?s.displayShortErrorModal(e.msg,a,i):s.displayErrorModal(e.title,e.msg,a,i):s.displayShortErrorModal(n,a,i)},errorMsg:function(e,t){return{title:e,msg:t}},isModalVisible:function(){return o.is(":visible")||p.is(":visible")||a.is(":visible")},displayGenericError:function(){this.displayShortErrorModal(n.gettext("GENERIC::There was an error processing your request."))},displaySelectionLimitErrorMessager:function(e){var a=t.sprintf(n.ngettext("LIBRARY::ACTION::Sorry, this action is limited to %s item per request","LIBRARY::ACTION::Sorry, this action is limited to %s items per request",e),e);this.displayShortErrorModal(a)},displayAjaxErrorResponse:function(e){e&&e.err&&e.err.responseJSON&&e.err.responseJSON.error?this.displayShortErrorModal(e.err.responseJSON.error):this.displayGenericError()}}}),define("app/constants/localStorage",[],function(){"use strict";return{CURRENT_SESSION:"current_session",SESSION_STORAGE_DATA:"session_storage_data",VECTOR_DOWNLOAD_CHOICE_KEY:"vector_download_choice",MEMBER_ONBOARDING_STEP:"onboarding_step",LIBRARY_TOAST_AUTO_SAVE_KEY:"library-toast:auto-save-enabled-v1",LIBRARY_TOAST_AUTO_DOWNLOAD_KEY:"library-toast:auto-download-enabled-v1"}}),define("app/utils/error",[],function(){"use strict";return{reportNewRelicError:function(e,t){e instanceof Error||(e=new Error(e)),t&&t.constructor===Object||(t={}),window.newrelic&&window.newrelic.noticeError(e,t)}}}),define("lib/localStorage",["app/constants/localStorage","app/utils/error"],function(e,t){"use strict";function n(){var e,t=Date.now();try{return localStorage.setItem(t,t),e=localStorage.getItem(t)==t,localStorage.removeItem(t),e&&localStorage}catch(e){}}return function(){if(n()){var a=localStorage.getItem(e.CURRENT_SESSION);sessionStorage.length&&a||localStorage.setItem(e.CURRENT_SESSION,Date.now()),window.addEventListener("storage",function(n){if(n.key===e.CURRENT_SESSION)localStorage.setItem(e.SESSION_STORAGE_DATA,JSON.stringify(sessionStorage)),localStorage.removeItem(e.SESSION_STORAGE_DATA);else if(n.key===e.SESSION_STORAGE_DATA&&!sessionStorage.length)try{var a=JSON.parse(n.newValue);for(var i in a)a.hasOwnProperty(i)&&sessionStorage.setItem(i,a[i])}catch(e){t.reportNewRelicError(e,{data:n.newValue,event_key:n.key})}})}}(),{storage:n,storeData:function(e,t,a,i){var s;n()&&(s=i?sessionStorage:localStorage,e?s.setItem(e+t,JSON.stringify(a)):s.setItem(t,JSON.stringify(a)))},retrieveData:function(e,a,i,s){var r,o,l;if(n()){o=s?sessionStorage:localStorage,l=e?e+a:a;try{if(r=JSON.parse(o.getItem(l)))return r}catch(e){t.reportNewRelicError(e,{storage_type:o,storage_key:l})}}return i},removeData:function(e,t,a){var i;n()&&(i=e?e+t:t,(a?sessionStorage:localStorage).removeItem(i))}}}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("redux",[],t):"object"==typeof exports?exports.Redux=t():e.Redux=t()}(this,function(){return function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={exports:{},id:a,loaded:!1};return e[a].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0;var i=a(n(2)),s=a(n(7)),r=a(n(6)),o=a(n(5)),l=a(n(1));a(n(3)),t.createStore=i.default,t.combineReducers=s.default,t.bindActionCreators=r.default,t.applyMiddleware=o.default,t.compose=l.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};if(1===t.length)return t[0];var a=t[t.length-1],i=t.slice(0,-1);return function(){return i.reduceRight(function(e,t){return t(e)},a.apply(void 0,arguments))}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.ActionTypes=void 0,t.default=function e(t,n,a){function o(){f===h&&(f=h.slice())}function l(){return _}function c(e){if("function"!=typeof e)throw Error("Expected listener to be a function.");var t=!0;return o(),f.push(e),function(){if(t){t=!1,o();var n=f.indexOf(e);f.splice(n,1)}}}function u(e){if(!(0,i.default)(e))throw Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(E)throw Error("Reducers may not dispatch actions.");try{E=!0,_=p(_,e)}finally{E=!1}for(var t=h=f,n=0;t.length>n;n++)t[n]();return e}var d;if("function"==typeof n&&void 0===a&&(a=n,n=void 0),void 0!==a){if("function"!=typeof a)throw Error("Expected the enhancer to be a function.");return a(e)(t,n)}if("function"!=typeof t)throw Error("Expected the reducer to be a function.");var p=t,_=n,h=[],f=h,E=!1;return u({type:r.INIT}),d={dispatch:u,subscribe:c,getState:l,replaceReducer:function(e){if("function"!=typeof e)throw Error("Expected the nextReducer to be a function.");p=e,u({type:r.INIT})}},d[s.default]=function(){var e,t=c;return e={subscribe:function(e){function n(){e.next&&e.next(l())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:t(n)}}},e[s.default]=function(){return this},e},d};var i=a(n(4)),s=a(n(12)),r=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){"undefined"!=typeof console&&console.error;try{throw Error(e)}catch(e){}}},function(e,t,n){var a=n(8),i=n(9),s=n(11),r="[object Object]",o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,d=c.call(Object),p=l.toString;e.exports=function(e){if(!s(e)||p.call(e)!=r||i(e))return!1;var t=a(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==d}},function(e,t,n){"use strict";t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(e){return function(n,s,r){var o,l=e(n,s,r),c=l.dispatch,u={getState:l.getState,dispatch:function(e){return c(e)}};return o=t.map(function(e){return e(u)}),c=i.default.apply(void 0,o)(l.dispatch),a({},l,{dispatch:c})}}};var i=function(e){return e&&e.__esModule?e:{default:e}}(n(1))},function(e,t){"use strict";function n(e,t){return function(){return t(e.apply(void 0,arguments))}}t.__esModule=!0,t.default=function(e,t){if("function"==typeof e)return n(e,t);if("object"!=typeof e||null===e)throw Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var a=Object.keys(e),i={},s=0;a.length>s;s++){var r=a[s],o=e[r];"function"==typeof o&&(i[r]=n(o,t))}return i}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function s(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:r.ActionTypes.INIT}))throw Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+r.ActionTypes.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.')})}t.__esModule=!0,t.default=function(e){for(var t=Object.keys(e),n={},a=0;t.length>a;a++){var r=t[a];"function"==typeof e[r]&&(n[r]=e[r])}var o,l=Object.keys(n);try{s(n)}catch(e){o=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(o)throw o;for(var a=!1,s={},r=0;l.length>r;r++){var c=l[r],u=n[c],d=e[c],p=u(d,t);if(void 0===p){var _=i(c,t);throw Error(_)}s[c]=p,a=a||p!==d}return a?s:e}};var r=n(2),o=(a(n(4)),n(3));a(o)},function(e,t,n){var a=n(10)(Object.getPrototypeOf,Object);e.exports=a},function(e,t){e.exports=function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t){e.exports=function(e){return!!e&&"object"==typeof e}},function(e,t,n){e.exports=n(13)},function(e,t,n){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(14)),i=void 0;void 0!==e?i=e:"undefined"!=typeof window&&(i=window);var s=(0,a.default)(i);t.default=s}).call(t,function(){return this}())},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}}])}),define("app/utils/object",[],function(){"use strict";return{objectWithoutProperties:function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}}}),define("app/middleware/promiseMiddleware",["jquery","app/utils/object"],function(e,t){"use strict";return{promiseMiddleware:function(){return function(n){return function(a){var i=a.promise,s=a.type,r=t.objectWithoutProperties(a,["promise","type"]),o=s.begin,l=s.success,c=s.failure;return i&&e.isPlainObject(a)?(n(e.extend({},r,{type:o})),i.then(function(t){return n(e.extend({},r,{result:t,type:l}))},function(t){return n(e.extend({},r,{error:t,type:c}))})):n(a)}}}}}),define("app/middleware/thunkMiddleware",[],function(){"use strict";return{thunkMiddleware:function(e){var t=e.dispatch,n=e.getState;return function(e){return function(a){return"function"==typeof a?a(t,n):e(a)}}}}}),define("app/utils/actions",[],function(){"use strict";return{createAsyncAction:function(e){return{begin:e+"_BEGIN",success:e+"_SUCCESS",failure:e+"_FAILURE"}}}}),define("app/actions/actionTypes",["app/utils/actions"],function(e){"use strict";var t=e.createAsyncAction("GET_SEARCH_RESULTS"),n=e.createAsyncAction("GET_QUERY_SUGGESTIONS_RESULTS"),a=e.createAsyncAction("OPEN_FILTERS_PANEL"),i=e.createAsyncAction("FETCH_PREMIUM_IMAGES"),s=e.createAsyncAction("FETCH_ASSETS_ALL"),r=e.createAsyncAction("FETCH_ASSETS_EDITORIAL"),o=e.createAsyncAction("FETCH_ASSETS_IMAGES"),l=e.createAsyncAction("FETCH_ASSETS_PREMIUM"),c=e.createAsyncAction("FETCH_ASSETS_FREE"),u=e.createAsyncAction("FETCH_ASSETS_TEMPLATES"),d=e.createAsyncAction("FETCH_ASSETS_THREED"),p=e.createAsyncAction("FETCH_ASSETS_VIDEOS");return{ADD_ITEM_DETAILS:"ADD_ITEM_DETAILS",CLOSE_DETAILS_PANEL:"CLOSE_DETAILS_PANEL",CLEAR_QUERY_SUGGESTIONS:"CLEAR_QUERY_SUGGESTIONS",CHECK_FILTER_TOGGLE:"CHECK_FILTER_TOGGLE",UPDATE_DETAIL_PANEL_LICENSE:"UPDATE_DETAIL_PANEL_LICENSE",CLEAR_ASSET_TYPE_BREADCRUMB:"CLEAR_ASSET_TYPE_BREADCRUMB",CLEAR_BREADCRUMB_FILTER:"CLEAR_BREADCRUMB_FILTER",CLEAR_PREMIUM_IMAGES:"CLEAR_PREMIUM_IMAGES",CLEAR_SEARCH_FILTERS:"CLEAR_SEARCH_FILTERS",CLOSE_FILTERS_PANEL:"CLOSE_FILTERS_PANEL",FETCH_PREMIUM_IMAGES:i,FETCH_ASSETS_ALL:s,FETCH_ASSETS_EDITORIAL:r,FETCH_ASSETS_IMAGES:o,FETCH_ASSETS_LONGTAIL:e.createAsyncAction("FETCH_ASSETS_LONGTAIL"),FETCH_ASSETS_PREMIUM:l,FETCH_ASSETS_TEMPLATES:u,FETCH_ASSETS_THREED:d,FETCH_ASSETS_VIDEOS:p,GET_SEARCH_RESULTS:t,HIDE_RECENT_SEARCHES:"HIDE_RECENT_SEARCHES",ITEM_SELECTED:"ITEM_SELECTED",MEMBER_LOGGED_IN:"MEMBER_LOGGED_IN",UPDATE_BACKGROUND_FILTER:"UPDATE_BACKGROUND_FILTER",MEMBER_UPDATED_ENTITLEMENT:"MEMBER_UPDATED_ENTITLEMENT",MULTI_IMAGE_ADD:"MULTI_IMAGE_ADD",MULTI_IMAGE_REMOVE:"MULTI_IMAGE_REMOVE",MULTI_IMAGE_UPLOAD:"MULTI_IMAGE_UPLOAD",NAVIGATE_SEARCH_HISTORY:"NAVIGATE_SEARCH_HISTORY",OPEN_FILTERS_PANEL:a,SET_ASSET_TYPE_TO_PREMIUM:"SET_ASSET_TYPE_TO_PREMIUM",SHOW_RECENT_SEARCHES:"SHOW_RECENT_SEARCHES",UPDATE_ASSET_ID:"UPDATE_ASSET_ID",UPDATE_ASSET_TYPE_FILTER:"UPDATE_ASSET_TYPE_FILTER",UPDATE_COPY_SPACE_FILTER:"UPDATE_COPY_SPACE_FILTER",UPDATE_FIND_SIMILAR_BY:"UPDATE_FIND_SIMILAR_BY",UPDATE_ETHNICITY_FILTER:"UPDATE_ETHNICITY_FILTER",UPDATE_IMAGE_SUBCATEGORY_FILTER:"UPDATE_IMAGE_SUBCATEGORY_FILTER",UPDATE_FRAME_RATE_FILTER:"UPDATE_FRAME_RATE_FILTER",UPDATE_GENTECH_FILTER:"UPDATE_GENTECH_FILTER",UPDATE_ICON_FILTER:"UPDATE_ICON_FILTER",UPDATE_SHOT_SIZE_FILTER:"UPDATE_SHOT_SIZE_FILTER",UPDATE_SHOT_ANGLE_FILTER:"UPDATE_SHOT_ANGLE_FILTER",UPDATE_ISOLATED_FILTER:"UPDATE_ISOLATED_FILTER",UPDATE_ILLUSTRATIVE_FILTER:"UPDATE_ILLUSTRATIVE_FILTER",UPDATE_MIME_TYPE_FILTER:"UPDATE_MIME_TYPE_FILTER",UPDATE_UNDISCOVERED_FILTER:"UPDATE_UNDISCOVERED_FILTER",UPDATE_LOCAL_ARTISTS_FILTER:"UPDATE_LOCAL_ARTISTS_FILTER",UPDATE_IS_LOOP_FILTER:"UPDATE_IS_LOOP_FILTER",UPDATE_DURATION_FILTER:"UPDATE_DURATION_FILTER",UPDATE_LIBRARY_ITEMS:"UPDATE_LIBRARY_ITEMS",UPDATE_PAGE_DATA:"UPDATE_PAGE_DATA",UPDATE_SEARCH_FILTERS:"UPDATE_SEARCH_FILTERS",UPDATE_SIZE_FILTER:"UPDATE_SIZE_FILTER",UPDATE_ASSET_TYPE_STATE:"UPDATE_ASSET_TYPE_STATE",UPDATE_KEYWORD:"UPDATE_KEYWORD",UPDATE_USAGE_CATEGORY_FILTER:"UPDATE_USAGE_CATEGORY_FILTER",TOGGLE_FILTER_IS_MINIMIZED:"TOGGLE_FILTER_IS_MINIMIZED",BUY_LICENSE:e.createAsyncAction("BUY_LICENSE"),DOWNLOAD_ASSET:e.createAsyncAction("DOWNLOAD_ASSET"),MOSAIC_RELOADED:"MOSAIC_RELOADED",QUICKER_CHECKOUT_OPEN:"QUICKER_CHECKOUT_OPEN",QUICKER_CHECKOUT_CLOSE:"QUICKER_CHECKOUT_CLOSE",QUICKER_CHECKOUT_DONE:"QUICKER_CHECKOUT_DONE",QUICKER_CHECKOUT_ERROR:"QUICKER_CHECKOUT_ERROR",SAVE_ASSET:e.createAsyncAction("SAVE_ASSET"),SAVE_ASSET_COMPLETE:"SAVE_ASSET_COMPLETE",WAIT_QUICKER_CHECKOUT_MODAL_OPEN:"WAIT_QUICKER_CHECKOUT_MODAL_OPEN",OPEN_HOVER_MENU_MORE_OPTIONS:"OPEN_HOVER_MENU_MORE_OPTIONS",CLOSE_HOVER_MENU_MORE_OPTIONS:"CLOSE_HOVER_MENU_MORE_OPTIONS",OPEN_VECTOR_DOWNLOAD_SETTINGS:"OPEN_VECTOR_DOWNLOAD_SETTINGS",SAVE_VECTOR_DOWNLOAD_PREFERENCE:"SAVE_VECTOR_DOWNLOAD_PREFERENCE",CLOSE_VECTOR_DOWNLOAD_SETTINGS:"CLOSE_VECTOR_DOWNLOAD_SETTINGS",SELECT_CONTENT_LICENSE:"SELECT_CONTENT_LICENSE",SHOW_HOVER_MENU:"SHOW_HOVER_MENU",HIDE_HOVER_MENU:"HIDE_HOVER_MENU",CONTENT_LICENSED:"CONTENT_LICENSED",GET_QUERY_SUGGESTIONS_RESULTS:n,ALERT_UNDO_ACTION:"ALERT_UNDO_ACTION",FETCH_ASSETS_FREE:c,CCX_QA_ACTIVE_BEGIN:"CCX_QA_ACTIVE_BEGIN",CCX_QA_ACTIVE_END:"CCX_QA_ACTIVE_END",SET_TRANSPARENT_PNG_DOWNLOAD_ASSET_TYPE:"SET_TRANSPARENT_PNG_DOWNLOAD_ASSET_TYPE"}}),define("app/reducers/details",["jquery","app/actions/actionTypes"],function(e,t){"use strict";return{details:function(n,a){var i={},s={},r=a.content_id;switch(s[r]=a.data,void 0===n&&(n={selected:null,downloadAssetType:null}),a.type){case t.ADD_ITEM_DETAILS:i=e.extend(n,s);case t.ITEM_SELECTED:i=e.extend(i,n,{selected:r});break;case t.CLOSE_DETAILS_PANEL:i=e.extend(i,n,{selected:null,downloadAssetType:null});break;case t.GET_SEARCH_RESULTS.begin:i=e.extend(i,n,{selected:null});break;case t.SET_TRANSPARENT_PNG_DOWNLOAD_ASSET_TYPE:i=e.extend(i,n,{downloadAssetType:a.downloadAssetType});break;default:i=n}return i}}}),define("lib/ajax",["jquery","lib/cookie"],function(e,t){"use strict";var n=["s_sess"],a={ajax:function(a,i){var s,r,o=[];e.each(n,function(e,n){o[n]=t(n),o[n]&&t(n,null)});try{r=e.ajax(a,i)}catch(e){}return s=window.location.host.split(".").slice(-2).join("."),e.each(n,function(e,n){o[n]&&t(n,o[n],{path:"/",domain:s})}),r}};return e.each(["get","post"],function(t,n){a[n]=function(t,i,s,r){return e.isFunction(i)&&(r=r||s,s=i,i=void 0),a.ajax({url:t,type:n,dataType:r,data:i,success:s})}}),a}),define("lib/assetsStore",["jquery","lib/ajax","page_config","lodash"],function(e,t,n,a){"use strict";var i=n.base_url+"/Ajax/MediaData/",s=n.base_url+"/Ajax/Similar/";return{_activeRequests:{},_cache:{},ASSET_DETAIL:{NONE:0,MIN:1,BASIC:2,WITH_KEYWORDS:3,FULL:4},THREE_D_TYPE:{MODELS:1,LIGHTS:2,MATERIALS:3},calculateAssetDetail:function(e){var t=this;function n(t){return t.reduce(function(t,n){return t&&e.hasOwnProperty(n)},!0)}return e=e||{},n(["content_id"])?n(["author","author_url","comp_file_path","content_height","content_thumb_large_url","content_thumb_url","content_width","format","title","content_type_id","content_type","content_url","content_original_width","content_original_height","is_video","extended_license_price"])?n(["keywords"])?n(["series"])?t.ASSET_DETAIL.FULL:t.ASSET_DETAIL.WITH_KEYWORDS:t.ASSET_DETAIL.BASIC:t.ASSET_DETAIL.MIN:t.ASSET_DETAIL.NONE},getAsset:function(n,a,s){var r=this,o=null,l="";return 0===n||n?(r._cache.hasOwnProperty(n)&&void 0===s?o=r.getAssetFromCacheAsPromise(n):(r._activeRequests[n]||(void 0!==s&&(l="&license_id="+s),r._activeRequests[n]=t.get(i+n+"?full=1"+l).then(function(e){return r._cache[n]=e,r._cache[n]}).always(()=>r._activeRequests[n]=null)),o=r._activeRequests[n]),o.then(function(e){if(!e)return null;var t=r.calculateAssetDetail(e);return void 0===a||t>=a?e:t<r.ASSET_DETAIL.WITH_KEYWORDS?r.getKeywords(n).then(function(e){return e}):r.getAssetFromCacheAsPromise(n)}).promise()):e.Deferred().resolve({}).promise()},getKeywords:function(n){var a=this,s=a._cache[n],r="",o=a.calculateAssetDetail(s);return s&&o>=a.ASSET_DETAIL.WITH_KEYWORDS?a.getAssetFromCacheAsPromise(n):(o<a.ASSET_DETAIL.BASIC&&(r="?full=1"),a._activeRequests[n]||(a._activeRequests[n]=t.get(i+n+r).then(function(t){return t&&(a._cache[n]=e.extend(a._cache[n],t)),a._cache[n]}).always(()=>a._activeRequests[n]=null).promise()),a._activeRequests[n])},getSeries:function(n){var a=this,i=e.Deferred(),r=a._cache[n],o=a.calculateAssetDetail(r);return r&&o>=a.ASSET_DETAIL.FULL?a.getAssetFromCacheAsPromise(n):(t.get(s+n).then(function(t){if(t&&e.isArray(t.result_similar_contents)){var s=t.result_similar_contents.reduce(function(e,t){return e[t.type]=t.results.map(function(e){return e.content_id=e.id,delete e.id,a._cache[e.content_id]=e,e}),e},{});a._cache[n]=e.extend(a._cache[n],{series:s}),i.resolve(a._cache[n])}else i.reject()},function(){i.reject()}),i.promise())},getAssetFromCacheOnly:function(e){return this._cache.hasOwnProperty(e)?this._cache[e]:null},setAssetDownloadedInCache:function(e,t){var n,i=a.get(this,["_cache",e],!1);return!!i&&(n=a.get(i,["license_details",t],!1),a.isObject(n)&&(i.license_details[t].downloaded=!0),i.downloaded=!0,i.licensed=!0,!0)},getAssetFromCacheAsPromise:function(t){return e.Deferred().resolve(this._cache[t]).promise()},addAsset:function(t,n){var a=this;if(a._cache.hasOwnProperty(t)){var i=a._cache[t];e.extend(i,n)}else a._cache[t]=n;return a._cache[t]}}}),define("app/constants/analytics",[],function(){"use strict";return{ADOBE_LOGO_EVENT:"adobe logo",BANNER_UPDATE_EVENT:"bannerUpdate",CAMPAIGN:"campaign",CAROUSEL_ELEMENT_NAME:"elementname",CAROUSEL_POSITION:"carousel_position",CAROUSEL_THUMBNAIL_SUFFIX:" thumbnail",CAROUSEL_VIEW_RESULTS_SUFFIX:" view results",CLICK_EVENT:"click",CTA_EVENT:"cta",DROPDOWN_EVENT:"dropdown",LINK_EVENT:"link",DETAIL_PANEL_EVENT:"detailPanel",DISPLAY_EVENT:"display",DOWNLOAD_FOR_FREE_EVENT:"download-for-free",DOWNLOAD_TO_DEVICE:"download-to-device",ELEMENT_SAVE:"Save",SAVE_TO_LIBRARY_EVENT:"save to library",DOWNLOAD_PREVIEW:"download-preview",RE_DOWNLOAD_FOR_FREE_EVENT:"re-download-for-free",LICENSE_FOR_FREE_EVENT:"license-for-free",ERROR_EVENT:"error",EVENT_INFO:"eventInfo",EVENT_VALUES:{CHECKOUT_ACCOUNT_CREATE:"event100",CHECKOUT_EMAIL_STEP:"event89",CHECKOUT_MODAL_CLOSE:"event97",CHECKOUT_STEP_FOUR:"event91",CHECKOUT_STEP_ONE:"event88",CHECKOUT_STEP_OVERAGE:"event287",CHECKOUT_STEP_REVIEW:"event96",CHECKOUT_STEP_SWITCH_PERSONAL:"event61,event62",CHECKOUT_STEP_TAX_ACCEPTED:"event97",CHECKOUT_STEP_TEAM_BUY_CHOICE:"event187",CHECKOUT_STEP_THREE:"event90",CREDIT_PACK_APPLIED:"event304",CREDIT_PACK_BUY_CHOICE_INSUFFICIENT_CREDITS:"event198",CREDIT_PACK_BUY_CHOICE_NO_CREDITS:"event197",CREDIT_PACK_BUY_CHOICE_ON_DEMAND_PURCHASE_CONTINUE:"event310",CREDIT_PACK_BUY_CHOICE_OPTIONS_RADIO_BUTTON:"event297",CREDIT_PACK_BUY_CHOICE_PURCHASE_CONTINUE:"event311",CREDIT_PACK_USAGE:"event302",CREDIT_PURCHASE_EVENT:"event300",CTA_TRACKER:"event97",DEFAULT_SUBSCRIPTION_SELECTED:"event92",ERROR:"event80",NEW_PAYMENT_ERROR:"event480",FIRST_USER_DOWNLOAD:"event270",FMF:"event94",NEW_BUYER:"event70",NUMBER_OF_PURCHASED_CREDITS:"event301",ORDER_CONFIRMATION:"event145",ORDER_CONFIRMATION_FOTOLIA_MIGRATION:"event186",OVERAGE_DONE:"event49",PERSISTENT_CHECKOUT:"event420",PERSISTENT_CHECKOUT_COMPLETE:"event421",PURCHASE:"purchase",REPEAT_BUYER:"event71",REPEAT_USER_DOWNLOAD:"event271",SAVE_IMAGE:"event95",SIGN_IN:"event412",SIGN_UP:"event418",STOCK_LOGIN_SUCCESS:"event73",SUBSCRIPTION:"event99",SWITCH_SUBSCRIPTION:"event98",TAX_START:"event77",TAX_STOP:"event78"},FILTERS_ACTION_UPDATE:"update",FILTERS_LOAD_TYPE:"filter",FINDING_METHOD:{HOMEPAGE:"homepage",SEARCH:"search",LIBRARIES:"libraries",LICENSE_HISTORY:"license history",PLANS:"plans",ADOBE_APPS:"Adobe apps",PREMIUM:"premium",ASSET:"asset",ARTIST:"artist",TEAMS:"teams",IMAGES:"images-landing-page",IMAGES_DETAIL:"images-asset-detail",VIDEO:"video-landing-page",VIDEO_DETAIL:"video-asset-detail",EDITORIAL:"editorial",TEMPLATES:"templates-landing-page",TEMPLATES_DETAIL:"templates-asset-detail",THREE_D:"3d-landing-page",THREE_D_DETAIL:"3d-asset-detail",CATEGORY:"category",PROMO:"promo",COLLECTIONS:"collections"},FIND_SIMILAR_EVENT:"findSimilar",FIND_SIMILAR_LOAD_TYPE:"find_similar",FIND_SIMILAR_THUMB:"Find Similar",FSC_OPTIONS:{FSC_OPTION_ALL:"all",FSC_OPTION_COLOR:"color",FSC_OPTION_CONTENT:"content",FSC_OPTION_COMPOSITION:"composition"},FIRST_DOWNLOAD:"new",FOTOLIA_TRANSFER_OVERAGE:"fotolia transfer overage",HEADER_EVENT:"header",INTERNAL_INFO:"internalInfo",LICENSE_ASSET_EVENT:"licenseAsset",BUY_LICENSE_AGAIN_EVENT:"buy license again",LICENSE_HISTORY_EVENT:"license history",LONGTAIL_SUGGESTED_KEYWORD:"long_tail_suggested_keyword",LONGTAIL:"long tail",MANAGE_ADOBE_ID_EVENT:"manage my Adobe ID",MEDIA_TYPE_LOAD_TYPE:"media type",MODAL_EVENT:"modal",NAVNAME_PROFILE:"profile",NA:"NA",NEW_BUYER:"new",NULL_RESULT:"null result",OPEN_IN_PANE:"open in",ORDER_PAGENAME:"orderConfirmationPage_OnLoadComplete",OVERAGE_OK_EVENT:"overageOk",OVERAGE_PAGENAME:"Overage:orderConfirmationPage_OnLoadComplete",PAGE_INFO:"pageInfo",PAGE_LOAD_EVENT:"pageload",PAGE_LOAD_TYPE:"page",ASSET_CLICK:"assetclick",INTERNAL_CAMP:"internalcamp",VIEW_RESULT:"view result",PREMIUM_BOTTOM_RAIL:{PREMIUM:"premium",PREMIUM_CAROUSEL:"premium-carousel"},FREE_BOTTOM_RAIL:{FREE_BR:"freebr",FREE_BR_CAROUSEL:"freebr-carousel"},PREMIUM_EVENT:"premium",PREVIEW_ASSET_EVENT:"previewAsset",PREVIEW_PANE:"preview",PRICING_EVENT:"pricing",PRODUCT:"product",REMOVE_THUMBNAIL:"removethumbnail",REPEAT_BUYER:"repeat",REPEAT_DOWNLOAD:"repeat",SAVE_TO_LIBRARY:"save-to-library",SEARCH:"search",SEARCH_TYPE:"search_type",SEARCH_EVENT:"AdobeStockSearch",SEARCH_LOAD_TYPE:"search",SEARCH_START_EVENT:"search_start",SEARCH_RESULT:"searchresult",SEE_MORE_EVENTS:{SERIES:"More from this Series",MODEL:"More from this Model",IMAGES:"More from Similar Images"},SEE_MORE_LOAD_TYPE:"see more",SELECTION_DETAIL:"detail",SELECTION_DIRECT:"direct",SELECTION_HOVER:"hover",SELECTION_TILE:"tile",SELL_EVENT:"sell",SIGNIN_EVENT:"sign in",SIGNOUT_EVENT:"signout",SIMILAR_PANE:"similar",STOCK_LOGO_EVENT:"stock logo",STOCK_NEW_BUYER:"Stock New Buyer",STOCK_REPEAT_BUYER:"Stock Repeat Buyer",SWITCH_TEAM_EVENT:"switch team",TRACK_INTERACTION:"trackInteraction",TRANSACTION:"transaction",UPGRADE_PAGENAME:"Upgrade:orderConfirmationPage_OnLoadComplete",USER:"user",USER_TYPE_ACTIVE:"stockactivestatus",VIEW_PREVIEW_EVENT:"viewPreview",VISUAL_LOAD_TYPE:"visual",VISUAL_SEARCH_BROWSE:"browse",VISUAL_SEARCH_DRAG:"drag",PHOTO:"Photo",ILLUSTRATION:"Illustration",VECTOR:"Vector",NEW_LIBRARY:"new library",EXISTING_LIBRARY:"existing library",MORE_OPTIONS_EVENT:"more-options",OPEN_IN_APP_EVENT:"open-in-app",SUSI_EVENT:"susi",SUSI_LOGIN:"login",SUSI_CREATE_ACCOUNT:"create-account",BLUE_BANNER_START_NOW:"blue-banner-start-now"}}),define("lib/license",["lodash","jquery","app/constants/analytics","lib/member"],function(e,t,n,a){"use strict";var i="Standard",s="Extended",r="Video_HD",o="Video_4K",l={},c={},u="License",d="Relicense";return{LICENSE_ID_HD:3,LICENSE_ID_4K:4,LICENSE_ID_EXTENDED:2,LICENSE_ID_STANDARD:1,LICENSE_ABBR_SHORT_4K:"4K",LICENSE_ABBR_SHORT_HD:"HD",LICENSE_ID_STANDARD_M:5,LICENSE_ID_VIDEO_HD_STANDARD:6,LICENSE_ID_ENHANCED:10,LICENSE_ID_LIMITED:17,ACTION_SAVE:"Save",ACTION_LICENSE:u,ACTION_RE_LICENSE:d,ACTION_SAVE_DEPRECATED:"SaveDeprecated",isLicenseAction:function(e){return e==u||e==d},setLicenseId:function(e,t){l[e]=t},getLicenseId:function(e){return l[e]?l[e]:null},getLicenseAbbrByLicenseId:function(e){var t=null;switch(e){case 1:t=i;break;case 2:t=s;break;case 3:t=r;break;case 4:t=o}return t},getLicenseIdByLicenseAbbr:function(e){var t=null;switch(e){case i:t=1;break;case s:t=2;break;case r:t=3;break;case o:t=4}return t},getLicenseIdVideoByResolution:function(){return{HD:3,"4K":4}},setDefaultLicenseId:function(e,n){var i=null,s=n.possible_licenses||[];if(!n.is_video&&t("#select-licenses option:selected").val())i=this.getLicenseIdByLicenseAbbr(t("#select-licenses option:selected").val());else if(n.license_id)i=n.license_id;else if(n.licensed)i=this.getLicenseIdByLicenseAbbr(n.licensed);else if(n.is_video){var r=this.getLicenseIdVideoByResolution();i=n.video_data&&r[n.video_data.resolution]?r[n.video_data.resolution]:n.resolution?r[n.resolution]:n.license?this.getLicenseIdByLicenseAbbr(n.license):a.getLicenseIdByContentTypeId(n.content_type_id)}else i=a.getLicenseIdByContentTypeId(n.content_type_id);s.length&&!s.includes(i)&&(i=s[0]),this.setLicenseId(e,i)},isAlreadyLicensed:function(e,t,n){var a=!1;n=n||this.getLicenseId(e);return(t.license_id&&t.license_id==n||t.licensed&&this.getLicenseIdByLicenseAbbr(t.licensed)==n||t.license&&this.getLicenseIdByLicenseAbbr(t.license)==n||t.license_details&&void 0!==t.license_details[n]&&t.license_details[n].downloaded)&&(a=!0),a},getLicenseIdIfLicensed:function(t){var n=!1,a=e.get(t,"license_details");return!!e.isObject(a)&&(Object.keys(a).forEach(function(i){e.get(a[i],"downloaded")&&(n=i,this.setLicenseId(t.content_id,i))},this),n)},getLicenseIdsIfLicensedForDifferrentSizes:function(t){var n,a=e.get(t,"license_details")||{},i=e.get(t,"possible_data_premium")||e.get(t,"possible_data_video");return e.isObject(i)?Object.keys(i).filter(function(t){return e.get(a[t],"downloaded")}):(n=this.getLicenseIdIfLicensed(t))?[n]:[]},getLicenseIdFromContent:function(e){var t;return e?t=e.selected_license_id?e.selected_license_id:e.licensed?this.getLicenseIdByLicenseAbbr(e.licensed):e.default_license_id?e.default_license_id:e.video_data&&e.video_data.resolution?this.getLicenseIdVideoByResolution()[e.video_data.resolution]:this.getLicenseId(e.content_id):t},getLicenseIdByType:function(e){if(e.is_template||e.is_3D)return 1},getDeprecatedLicenseIdUsed:function(e){return c[e]||null},hasDeprecatedLicenseIdUsed:function(e,n){var a,i,s=null;if(!t.isArray(n))return s;for(a in i=e.license_details||{})if(i[a]&&i[a].downloaded){if(n.indexOf(parseInt(a))>-1){s=null,c={};break}c[e.content_id]=a,s=a}return s},getContentDefaultLicenseId:function(e,t){var n,a=e.possible_licenses||[],i=e.license_details||{},s=a[0]||null,r=(t=t||[],e.default_license_id||null),o=parseInt(e.license_bookmark)||null;return n=a.filter(function(e){return t.indexOf(e)>-1})[0]||null,o&&-1==a.indexOf(o)&&(o=null),Object.keys(i).map(function(e){return parseInt(e)}).filter(function(e){return a.indexOf(e)>-1&&i[e].downloaded})[0]||null||o||r||n||s}}}),define("app/constants/compatibleApp",["page_config"],function(e){"use strict";return e.constants.compatible_app||{}}),define("app/constants/userActions",["page_config"],function(e){"use strict";return e.constants.user_actions}),define("app/constants/assetTypeFilters",["page_config"],function(e){"use strict";return e.constants.asset_type_filters}),define("app/constants/filters/usageCategory",[],function(){"use strict";var e="Backgrounds",t="Brochures and Catalogs",n="Business Cards",a="Calendars and Planners",i="Collages and Moodboards",s="Digital Magazines",r="Digital Presentations and Proposals",o="Flyers and Posters",l="Stationery",c="Frame Mockups",u="Image Effects",d="Infographics",p="Invitations and Cards",_="Label and Sticker Sets",h="Logo and Icon Sets",f="Logo Reveals",E="Lower Thirds",m="Menus",g="Mobile Mockup",T="Mobile UI/UX",b="Motion Effects",v="Motion Overlays",I="Pattern and Texture Sets",S="Print Design Mockups",A="Print Magazines",O="Print Presentations and Proposals",y="Resumes",C="Screen Mockups",R="Slideshows",L="Social Media",N="Text Effects",D="Titles",P="Transitions",w="Web Banners",M="Web UI/UX",k={};return k[e]={dataT:"backgrounds",label:"SEARCH::FILTERS::Backgrounds",value:e},k[t]={dataT:"brochures-and-catalogs",label:"SEARCH::FILTERS::Brochures & Catalogs",value:t},k[n]={dataT:"business-cards",label:"SEARCH::FILTERS::Business Cards",value:n},k[a]={dataT:"calendars-and-planners",label:"SEARCH::FILTERS::Calendars & Planners",value:a},k[i]={dataT:"collages-and-moodboards",label:"SEARCH::FILTERS::Collages & Moodboards",value:i},k[s]={dataT:"digital-magazines",label:"SEARCH::FILTERS::Digital Magazines",value:s},k[r]={dataT:"digital-presentations-and-proposals",label:"SEARCH::FILTERS::Digital Presentations & Proposals",value:r},k[o]={dataT:"flyers-and-posters",label:"SEARCH::FILTERS::Flyers & Posters",value:o},k[l]={dataT:"stationery",label:"SEARCH::FILTERS::Stationery",value:l},k[c]={dataT:"frame-mockups",label:"SEARCH::FILTERS::Frame Mockups",value:c},k[u]={dataT:"image-effects",label:"SEARCH::FILTERS::Image Effects",value:u},k[d]={dataT:"infographics",label:"SEARCH::FILTERS::Infographics",value:d},k[p]={dataT:"invitations-and-cards",label:"SEARCH::FILTERS::Invitations & Cards",value:p},k[_]={dataT:"label-and-sticker-sets",label:"SEARCH::FILTERS::Label & Sticker Sets",value:_},k[h]={dataT:"logo-and-icon-sets",label:"SEARCH::FILTERS::Logo & Icon Sets",value:h},k[f]={dataT:"logo-reveals",label:"SEARCH::FILTERS::Logo Reveals",value:f},k[E]={dataT:"lower-thirds",label:"SEARCH::FILTERS::Lower Thirds",value:E},k[m]={dataT:"menus",label:"SEARCH::FILTERS::Menus",value:m},k[g]={dataT:"mobile-mockups",label:"SEARCH::FILTERS::Mobile Mockups",value:g},k[T]={dataT:"mobile-ui-ux",label:"SEARCH::FILTERS::Mobile UI/UX",value:T},k[b]={dataT:"motion-effects",label:"SEARCH::FILTERS::Motion Effects",value:b},k[v]={dataT:"motion-overlays",label:"SEARCH::FILTERS::Motion Overlays",value:v},k[I]={dataT:"texture-sets",label:"SEARCH::FILTERS::Pattern & Texture Sets",value:I},k[S]={dataT:"print-design-mockup",label:"SEARCH::FILTERS::Print Design Mockups",value:S},k[A]={dataT:"print-magazines",label:"SEARCH::FILTERS::Print Magazines",value:A},k[O]={dataT:"print-presentations-and-proposals",label:"SEARCH::FILTERS::Print Presentations & Proposals",value:O},k[y]={dataT:"resumes",label:"SEARCH::FILTERS::Resumes",value:y},k[C]={dataT:"screen-mockups",label:"SEARCH::FILTERS::Screen Mockups",value:C},k[R]={dataT:"slideshows",label:"SEARCH::FILTERS::Slideshows",value:R},k[L]={dataT:"social-media",label:"SEARCH::FILTERS::Social Media",value:L},k[N]={dataT:"text-effects",label:"SEARCH::FILTERS::Text Effects",value:N},k[D]={dataT:"titles",label:"SEARCH::FILTERS::Titles",value:D},k[P]={dataT:"transitions",label:"SEARCH::FILTERS::Transitions",value:P},k[w]={dataT:"web-banners",label:"SEARCH::FILTERS::Web Banners",value:w},k[M]={dataT:"web-ui-ux",label:"SEARCH::FILTERS::Web UI/UX",value:M},{FILTER_NAME:"usage_category",FILTER_OPTIONS:k}}),define("app/constants/searchFilters",["app/constants/filters/usageCategory"],function(e){"use strict";var t="content_type:3d",n="content_type:illustration",a="content_type:image",i="content_type:photo",s="content_type:template",r="content_type:video",o="content_type:zip_vector",l="1157",c="1156",u="1155",d="indesign",p="photoshop",_="after_effects",h="photoshop",f="illustrator",E="indesign",m="after_effects",g="premiere_pro",T="motion_graphics",b="illustrator",v="rush_version",I="black",S="east_asian",A="hispanic",O="indigenous",y="middle_eastern",C="multiracial",R="pacific_islander",L="south_asian",N="southeast_asian",D="white",P="close_up",w="extreme_close_up",M="extreme_long_shot",k="long_shot",x="medium_shot",F="top_down",U="aerial",H="high_angle",j="low_angle",Y="eye_level";return{ALL_FILTER:"all",ASSET_FILTER_ALL_ON:"on",ASSET_ID:"asset_id",AUTHOR:"creator_id",BACKGROUND:"background",CATEGORIES_ALL:"all",CATEGORY:"ca",COLLECTION:"gallery_id",COLOR:"color",COMPATIBLE_APP:"compatible_app",CONTENT_TYPE_ALL:"content_type:all",CONTENT_TYPE_3D:t,CONTENT_TYPE_ILLUSTRATION:n,CONTENT_TYPE_IMAGE:a,IMAGE:"image",CONTENT_TYPE_PHOTO:i,PHOTO:"photo",CONTENT_TYPE_TEMPLATE:s,CONTENT_TYPE_VECTOR:o,CONTENT_TYPE_VIDEO:r,COPY_SPACE:"copy_space",COPY_SPACE_ALL:"all",COPY_SPACE_MANUFACTURED:"manufactured",COPY_SPACE_NATURAL:"natural",DEPTH_OF_FIELD:"ae_depth_of_field",DEPTH_OF_FIELD_DEFAULT_SCORING:"0",EDITORIAL:"is_editorial",EDITORIAL_ON:1,EDITORIAL_CATEGORIES:[u,l,c],EDITORIAL_CATEGORY_ENTERTAINMENT:u,EDITORIAL_CATEGORY_NEWS:l,EDITORIAL_CATEGORY_SPORTS:c,EDITORIAL_EVENT_DATE_START:"event_date_start",EDITORIAL_EVENT_DATE_END:"event_date_end",EDITORIAL_DATE_RANGE:"editorial_date_range",EDITORIAL_DATE_RANGE_CHOICE:"event-date-choice-range",EDITORIAL_DATE_OFFSET_AMOUNT:1,EDITORIAL_DATE_OFFSET_UNIT:"day",ETHNICITY:"ethnicity",ETHNICITY_BLACK:I,ETHNICITY_EAST_ASIAN:S,ETHNICITY_HISPANIC:A,ETHNICITY_INDIGENOUS:O,ETHNICITY_MIDDLE_EASTERN:y,ETHNICITY_MULTIRACIAL:C,ETHNICITY_PACIFIC_ISLANDER:R,ETHNICITY_SOUTH_ASIAN:L,ETHNICITY_SOUTHEAST_ASIAN:N,ETHNICITY_WHITE:D,EXCLUDE_PEOPLE:"releases:is_exclude",FIND_SIMILAR_CACHE_SIZE:20,FSC_IMAGE:"fsc_image",FSC_IMAGE_GROUP:"fsc_image_group",FILTERS:"filters",ILLUSTRATIVE:"illustrative",ILLUSTRATIVE_ALL:"all",ILLUSTRATIVE_EXCLUDE:"exclude",ILLUSTRATIVE_INCLUDE:"include",GENTECH:"gentech",GENTECH_ALL:"all",GENTECH_ONLY:"only",GENTECH_EXCLUDE:"exclude",INCLUDE_PEOPLE:"releases:is_include",IS_QUERY_SUGGESTED:"is_query_suggested",ISOLATED:"isolated",ISOLATED_ALL:"all",ISOLATED_HIDE:"hide",ISOLATED_ONLY:"only",UNDISCOVERED:"undiscovered",UNDISCOVERED_ALL:"all",UNDISCOVERED_ONLY:"only",LOCAL_ARTISTS:"local_artists",LOCAL_ARTISTS_ALL:"all",LOCAL_ARTISTS_ONLY:"only",IS_LOOP:"is_loop",IS_LOOP_ALL:"all",IS_LOOP_ONLY:"only",RELEASES_ALL:"releases:all",KEYWORD:"k",MAX_FIND_SIMILAR_IMAGES:2,MIME_TYPE:"mime_type",MODEL_ID:"model_id",NATIVE_VISUAL_SEARCH:"native_visual_search",ORDER:"order",ORDER_CREATION:"creation",ORDER_RELEVANCE:"relevance",ORIENTATION:"orientation",FILTER_SEPARATOR:",",PRICE:"price",PRICE_CLIENT_ALL:"all",PRICE_CLIENT_LOW:"low",PRICE_CLIENT_HIGH:"high",PRICE_SERVER_LOW:"$",PRICE_SERVER_MEDIUM:"$$",PRICE_SERVER_HIGH:"$$$",SAFE_SEARCH:"safe_search",SAFE_SEARCH_ON:1,SAFE_SEARCH_OFF:0,SCORING:"scoring",SERIE_ID:"serie_id",SIMILAR_CONTENT_ID:"similar_content_id",SIMILAR_CONTENT_ID_SEPARATOR:",",SIZE:"size",SIZE_PIXELS:"pixels",SIZE_MEGA_PIXELS:"mega_pixels",SIZE_PIXELS_WIDTH_MIN:"pixels_width_min",SIZE_PIXELS_HEIGHT_MIN:"pixels_height_min",SIZE_MEGA_PIXELS_MIN:"mega_pixels_min",SUPPORTED_CONTENT_TYPES:[n,a,i,s,t,o,r],SUPPORTED_ETHNICITIES:[I,S,A,O,y,C,R,L,N,D],SUPPORTED_TEMPLATE_TYPES:[h,f,E,m,g,T],FIND_SIMILAR_BY:"find_similar_by",TEMPLATE_APPLICATION_INDESIGN:d,TEMPLATE_APPLICATION_PHOTOSHOP:p,TEMPLATE_APPLICATION_AFTER_EFFECTS:_,MIME_TYPE_FILTER_VALUE_PHOTOSHOP:h,MIME_TYPE_FILTER_VALUE_ILLUSTRATOR:f,MIME_TYPE_FILTER_VALUE_INDESIGN:E,MIME_TYPE_FILTER_VALUE_AFTER_EFFECTS:m,MIME_TYPE_FILTER_VALUE_PREMIERE_PRO:g,MIME_TYPE_FILTER_VALUE_MOTION_GRAPHICS:T,TEMPLATE_APPLICATION_ILLUSTRATOR:b,TEMPLATE_APPLICATION_RUSH:v,TEMPLATE_APPLICATIONS:[d,p,_,b,v],THREE_D_TYPE:"3d_type_id",USAGE_CATEGORY:e,VALID_ORIENTATIONS:["horizontal","vertical","square","panoramic"],VALID_ORIENTATIONS_TEMPLATES:["horizontal","vertical","square"],VIDEO_DURATION_MAX:"video_duration_max",VIDEO_DURATION_MIN:"video_duration_min",VIDEO_DURATION_DEFAULT_MIN:0,VIDEO_DURATION_DEFAULT_MAX:60,VIDEO_FRAME_RATE:"video_frame_rate",VIDEO_FRAME_RATE_OPTIONS:["val23976","val24","val25","val2997","val30","val50","val5994","val60"],VIDEO_SHOT_ANGLE:"video_shot_angle",VIDEO_SHOT_ANGLE_OPTIONS:[F,U,H,Y,j],VIDEO_SHOT_ANGLE_TOP_DOWN:F,VIDEO_SHOT_ANGLE_AERIAL:U,VIDEO_SHOT_ANGLE_HIGH_ANGLE:H,VIDEO_SHOT_ANGLE_LOW_ANGLE:j,VIDEO_SHOT_ANGLE_EYE_LEVEL:Y,VIDEO_SHOT_SIZE:"video_shot_size",VIDEO_SHOT_SIZE_OPTIONS:[w,P,x,k,M],VIDEO_SHOT_SIZE_LONG_SHOT:k,VIDEO_SHOT_SIZE_CLOSE_UP:P,VIDEO_SHOT_SIZE_MEDIUM_SHOT:x,VIDEO_SHOT_SIZE_EXTREME_CLOSE_UP:w,VIDEO_SHOT_SIZE_EXTREME_LONG_SHOT:M,VIDEO_IS_ALL:"video_subcat_all:on",VIDEO_IS_4K:"license_V_4K:on",VIVID_COLOR:"ae_vivid_color",VIVID_COLOR_DEFAULT_SCORING:"0",VIDEO_DURATION:"video_duration",ALERT_ACTION_UNDO:"undo",ALERT_ACTION_SEARCH_IMAGES:"searchImages",ALERT_LIBRARIES_ERROR:"librariesError",CONTENT_TYPE_FREE_COLLECTION:"free_collection",TRANSPARENT:"transparent",TRANSPARENT_ALL:"all",TRANSPARENT_ONLY:"only",LIMIT:"limit",GET_FACETS:"get_facets",ICON:"icon",ICON_SHEET:"icon_sheet",ICON_SINGLE:"icon_single",ICON_ONLY:"only",ICON_ALL:"all"}}),define("app/constants/templateTypes",["page_config"],function(e){"use strict";return e.constants.template_types||{}}),define("app/constants/ui",[],function(){"use strict";return{ENTER_KEY:13,DOWN_KEY:40,UP_KEY:38,SPACE_KEY:32,TAB_KEY:9,ESC_KEY:27,FILTER_PANEL_CLOSE:"close",FILTER_PANEL_OPEN:"open"}}),define("lib/utils",["jquery","lodash","page_config","i18n","i18n-config","lib/assetsStore","lib/deparam","lib/member","lib/license","lib/contentDetails","lib/window","app/constants/compatibleApp","app/constants/userActions","app/constants/assetTypeFilters","app/constants/searchFilters","app/constants/templateTypes","app/constants/ui"],function(e,t,n,a,i,s,r,o,l,c,u,d,p,_,h,f,E){"use strict";var m,g=navigator.userAgent||navigator.vendor||window.opera,T={phonePattern:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,allDevicePattern:/mobi|android/i},b=/firefox/i,v={PHXS:"OpenInPs",IDSN:"OpenInId",ILST:"OpenInAi",PPRO:"OpenInPr",AEFT:"OpenInAe"},I={OpenInPs:"PHXS",OpenInId:"IDSN",OpenInAi:"ILST",OpenInPr:"PPRO",OpenInAe:"AEFT"},S=["OpenInPs","OpenInId","OpenInAi","OpenInPr","OpenInAe"],A={MODELS:"SEARCH::FILTERS::3D_CATEGORY::Models",LIGHTS:"SEARCH::FILTERS::3D_CATEGORY::Lights",MATERIALS:"SEARCH::FILTERS::3D_CATEGORY::Materials"};function O(e,t,n){e&&e.addEventListener(t,n)}function y(e){var t;return e&&(t=v[e]),t}function C(e){var t;return e&&(t=I[e]),t}function R(e){if(e){var t,n=[];return"image/jpeg"===(t=e.content_type?e.content_type:e.representations&&e.representations[0].type?e.representations[0].type:"image/jpeg")?n=["Ps","Ai","Pr","Ae","Id"]:e.is_video||e.isVideo?n=["Pr","Ae"]:e.is_3D||e.is3D?n=[]:e.is_template||e.isTemplate?("Photoshop"!==e.use_with&&"image/vnd.adobe.photoshop.template"!=t||(n=["Ps"]),"Illustrator"!==e.use_with&&"application/illustrator.template"!=t||(n=["Ai"]),"InDesign"!==e.use_with&&"application/vnd.adobe.indesign.template"!=t||(n=["Id"])):n=["Ps","Ai","Id"],n}}m=O;function L(e){var t=N(e)?Object.prototype.toString.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function N(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function D(e){try{return e?JSON.stringify(JSON.stringify(e)):""}catch(e){return""}}function P(e){var t,n,a;if(!e)return e;for(n in t=e.split("&"))a=t[n].split("="),t[n],a[0]!==h.SIMILAR_CONTENT_ID&&a[0]!==h.NATIVE_VISUAL_SEARCH||!a[1]||(t[n]=a[0]+"=");return t.join("&")}function w(e){if(!e)throw new Error("invalid argument");return new RegExp("(^|\\s)"+e+"(\\s|$)")}return{addClass:function(e,t){if(!e||!t)throw new Error("invalid argument");(function(e,t){if(!e||!t)throw new Error("invalid argument");return w(t).test(e.className)})(e,t)||(e.className+=" "+t)},addEventListener:O,addItemToLocalStorage:function(e,t){e&&t&&"string"==typeof e&&("object"==typeof t&&(t=D(t)),localStorage.setItem(e,t))},areEqualNumbers:function(e,t){return parseInt(e,10)===parseInt(t,10)},arrayFindByKeyValue:function(e,t,n){if(e){var a=e.filter(function(e){return e[t]==n});return a&&a[0]}},arrayToHashMap:function(e,t){return e?e.reduce(function(e,n){return e[n[t]]=n,e},{}):{}},assetUrlToBlob:function(t){var n=e.Deferred();return fetch(t).then(function(e){if(!e||!e.ok){var t=e&&e.url&&e.statusText?" for "+e.url+" with status text "+e.statusText:"";throw new Error("Failed to fetch asset URL data"+t)}return e.blob()}).then(function(e){n.resolve(e)}).catch(function(e){n.reject(new Error("Failed to convert "+t+" to blob"))}),n.promise()},bindElementsToListener:function(e,t,n){var a;if(e)for(a=0;a<e.length;a++)m(e[a],t,n)},blobToBase64:function(t){var n=e.Deferred(),a=new FileReader;return a.readAsDataURL(t),a.onload=function(){return n.resolve(a.result)},a.onerror=function(e){return n.reject(new Error("Error while converting blob to base64 data"))},n.promise()},capitalizeFirstCharacter:function(e){return"string"!=typeof e||e.length<2?e:e.charAt(0).toUpperCase()+e.slice(1)},coerceValue:function(e,t){var n;if("int"===t){if(n=parseInt(e),isNaN(n))throw new TypeError("Could not convert filter value to integer")}else n=e;return n},computeDownloadUrl:function(e,t){return void 0!==t&&t?n.base_url+"/Ajax/GetLicenseDownloadUrl/"+e+"/"+t:n.base_url+"/Ajax/GetDownloadUrl/"+e},doubleParseObject:function(e){try{return JSON.parse(JSON.parse(e))}catch(e){return null}},doubleStringifyObject:D,enforceLibraryMenuText:function(t){var n=e('.js-search-result-cell[data-content-id="'+t+'"]'),a=n.find(".js-save-title"),i=n.find(".js-save-second-title"),r=n.find(".js-open-preview-title");s.getAsset(t,s.ASSET_DETAIL.BASIC).then(function(e){var t=e.downloaded,n=e.licensed,s=!1;e.representations&&"purchased"==e.representations[0]["adobestock#trackingdata"].state&&(s=!0),t||n||s?(a.html(a.data("postLicensingLanguage")),i.html(i.data("postLicensingLanguage")),r.html(r.data("postLicensingLanguage"))):o.hasLicensesForContent(e)?(a.html(a.data("hasLicensesLanguage")),i.html(i.data("hasLicensesLanguage")),r.html(r.data("hasLicensesLanguage"))):(a.html(a.data("noLicensesLanguage")),i.html(i.data("noLicensesLanguage")),r.html(r.data("noLicensesLanguage")))})},findAncestor:function(e,t){return Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}),e.closest("."+t)},flattenReducers:function(e){if(!Array.isArray(e))throw new Error("flattenReducers requires an array of reducers");return function(t,n){var a=t;return e.forEach(function(e){a=e(a,n)}),a}},formatVideoDurationInput:function(e,t){var n=i.ngettext("SEARCH::FILTERS::%s second","SEARCH::FILTERS::%s seconds",Math.round(e));return Math.round(e)<10?(n=i.ngettext("SEARCH::FILTERS::%s second","SEARCH::FILTERS::%s seconds",Math.round(e)),a.sprintf(n,":0"+Math.round(e))):Math.round(e)>=t?(n=i.ngettext("SEARCH::FILTERS::%s second","SEARCH::FILTERS::%s seconds",Math.round(t)),a.sprintf(n,":"+t+"+")):a.sprintf(n,":"+Math.round(e))},formatVideoDurationOutput:function(e){return e.replace(/[:+]/g,"")},getCurrentDateFormatted:function(e,t){return t=t||new Date,e=(e||n.locale_code).replace("_","-"),t.toLocaleDateString(e,{hour:"2-digit",minute:"2-digit"})},getDefaultOpenInAppCode:function(e,t,n){if(!e||!t)return t;n||(n=R(e));var a,i=t.slice(6);return n.some(function(e){return e===i})||(e.representations&&e.representations[0]&&(a=e.representations[0].type),e.is_video||e.isVideo?t="OpenInPr":e.is_3D||e.is3D?t="":e.is_template||e.isTemplate?t="Photoshop"===e.use_with||"image/vnd.adobe.photoshop.template"===a?"OpenInPs":"Illustrator"===e.use_with||"application/illustrator.template"===a?"OpenInAi":"InDesign"===e.use_with||"application/vnd.adobe.indesign.template"===a?"OpenInId":"":"ai/eps"===e.format||"application/illustrator"===a?t="OpenInAi":"jpeg"!==e.format&&"image/jpeg"!==a||(t="OpenInPs")),t},getFindSimilarUrl:function(e,a){var i,s=[],r=t.get(a,"history",null),o=t.get(e,"is_editorial",!1),l=t.get(e,"is_premium",!1),c=t.get(e,"is_video",!1),u=t.get(e,"is_image",!1),d=t.get(e,"is_template",!1),p=t.get(e,"is_3D",!1),_="";return i=e.search_url?e.search_url:r?r.url+"?"+r.urlQuery:n.full_search_url,o?s.push(encodeURIComponent("filters[is_editorial]")+"=1"):l&&(s.push(encodeURIComponent("price[$$]")+"=1"),s.push(encodeURIComponent("price[$$$]")+"=1")),i.indexOf("content_type")<0&&(u?(s.push(encodeURIComponent("filters["+h.CONTENT_TYPE_IMAGE+"]")+"=1"),s.push(encodeURIComponent("filters["+h.CONTENT_TYPE_ILLUSTRATION+"]")+"=1"),s.push(encodeURIComponent("filters["+h.CONTENT_TYPE_PHOTO+"]")+"=1"),s.push(encodeURIComponent("filters["+h.CONTENT_TYPE_VECTOR+"]")+"=1")):c?s.push(encodeURIComponent("filters["+h.CONTENT_TYPE_VIDEO+"]")+"=1"):d?s.push(encodeURIComponent("filters["+h.CONTENT_TYPE_TEMPLATE+"]")+"=1"):p&&s.push(encodeURIComponent("filters["+h.CONTENT_TYPE_3D+"]")+"=1")),i=P(i),s.length&&(_=-1===i.indexOf("?")?"?":"&"),i+_+s.join("&")},getKeyNosInObject:function(e){var t=0;return N(e)&&(t=Object.keys(e).length),t},getLocalizedAssetType:function(e){switch(e){case _.ALL:return i.gettext("SEARCH::RESULTS::all");case _.IMAGES:return i.gettext("SEARCH::RESULTS::images");case _.ILLUSTRATIONS:return i.gettext("SEARCH::RESULTS::illustrations");case _.VECTORS:return i.gettext("SEARCH::RESULTS::vectors");case _.PHOTOS:return i.gettext("SEARCH::RESULTS::photos");case _.VIDEOS:return i.gettext("SEARCH::RESULTS::videos");case _.TEMPLATES:return i.gettext("SEARCH::RESULTS::templates");case _.THREED:return i.gettext("SEARCH::RESULTS::3D");case _.PREMIUM:return i.gettext("SEARCH::RESULTS::Premium");case _.EDITORIAL:return i.gettext("SEARCH::RESULTS::Editorial");case _.FREE:return i.gettext("SEARCH::RESULTS::Free");default:return""}},getMultipleOrientationFilters:function(e){return(e=e||"").split(h.FILTER_SEPARATOR)},getOpenInAction:y,getOpenInActionWithDefaultFallback:function(e,t){return e!==p.DEFAULT_ACTION?e:y(t)},getOpenInAppCode:C,getOpenInLibraryName:function(e,t){return e&&c.getContentData(e).is_template?t.templateString:t.defaultString},getOpenInOptions:R,getQueryParam:function(e){var t,n,a=window.location.search.replace(/^\?/,"").split("&");for(t=0;t<a.length;t++)if(2===(n=a[t].split("=")).length&&n[0]===e)return n[1];return null},getSaveToDeviceI18nText:function(){return"desktop"===n.device_os_family?i.gettext("FILE::DOWNLOAD::Computer"):i.gettext("FILE::DOWNLOAD::Device")},getStringFromProperty:function(e,t){var n=e&&e[t]||"";return Array.isArray(n)?n.join(" "):"string"==typeof n?n:""},getValueFromArrayById:function(e,t,n){if(!e)return null;var a=e.filter(function(e){return e[t]==n});return a.length>0?a[0]:null},isFirefox:function(){return b.test(g)},isFMFEnabled:function(){var t=e(".js-fmf-params"),n=!0;return t.length>0&&(n=t.data("fmf-enabled")),n},isFunction:L,isLicensedDownloadUrl:function(e){return e&&e.includes("/Download/DownloadFileDirectly/")},isMobile:function(){return T.allDevicePattern.test(g)},isObject:N,isPhone:function(){return T.phonePattern.test(g)},isSafariBrowser:function(){return navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&-1==navigator.userAgent.indexOf("CriOS")&&-1==navigator.userAgent.indexOf("FxiOS")},isTouch:function(){return"ontouchstart"in window},isValidEmailAddress:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},isValidOpenInAction:function(e){return S.indexOf(e)>=0},isValidPhoneNumber:function(e){return/^[a-zA-Z0-9\s\-\.\+\*\(\)]+$/.test(e)&&e.length>=7&&e.length<=24},isWatermarkedDownloadUrl:function(e){return e&&e.includes("/Download/Watermarked/")},keyboardTabbingHandler:function(e,t,n){e.shiftKey&&e.keyCode===E.TAB_KEY?document.activeElement===t&&(e.preventDefault(),n.focus()):e.keyCode===E.TAB_KEY&&document.activeElement===n&&(e.preventDefault(),t.focus())},lazyLoad:function(e){new IntersectionObserver(function(e,t){e.forEach(function(e){if(e.isIntersecting){var n=e.target,a=n.getAttribute("data-lazy");n.hasAttribute("srcset")?n.setAttribute("srcset",a):n.setAttribute("src",a),t.disconnect()}})}).observe(e)},map3DIdsToTypes:[A.MODELS,A.LIGHTS,A.MATERIALS],openInActionArray:S,preventDefaultHandler:function(e){e.preventDefault()},processLocalizedNumChars:function(e){return e.replace(/[\uFF0E-\uFF1A]/g,function(e){return String.fromCharCode(e.charCodeAt(0)-65248)})},removeClass:function(e,t){e.className=e.className.replace(w(t),"")},removeItemFromLocalStorage:function(e){localStorage.getItem(e)&&localStorage.removeItem(e)},removeLocalizationCategorization:function(e){var t=e.lastIndexOf("::");return t>-1?e.slice(t+2):e},removeQueryParam:function(t,n){var a=r(t);return a.hasOwnProperty(n)&&delete a[n],e.param(a)},replaceQueryParam:function(t,n,a){var i=r(t);return i.hasOwnProperty(n)&&(i[n]=a),e.param(i)},safelyExecuteFunction:function(e,t){var n=t||{};return L(e)&&(n=e()),n},scrollToTop:function(){"scrollBehavior"in document.documentElement.style?window.scroll({top:0,behavior:"smooth"}):e("html, body").animate({scrollTop:0})},setAddEventListener:function(e){m=e},setQueryParam:function(t,n,a){var i=r(t);return i[n]=a,e.param(i)},shouldAddCsrfToken:function(t){var n;return n=-1===t.url.indexOf("://")?u.getLocation().host:t.url.split("/")[2],-1===e.inArray(t.type.toUpperCase(),["GET","HEAD","OPTIONS","TRACE"])&&n===u.getLocation().host},threeDPromoTextMap:{1:{labelLocalized:"FILE::LABEL::Model",label:"Models"},2:{labelLocalized:"FILE::LABEL::Light",label:"Lights"},3:{labelLocalized:"FILE::LABEL::Material",label:"Materials"}},threeDTypes:A,toggleAttribute:function(t,n,a){!t instanceof e||(a?t.attr(n,!0):t.removeAttr(n))},toggleClassName:function(t,n,a){!t instanceof e||(a?t.addClass(n):t.removeClass(n))},unsetSimilarParams:P,updateAttribute:function(e,t,n){e&&e.setAttribute(t,n)},updateContainerState:function(e,t){e.removeClass(["logged-out-alert","library-selector-open","saving","saved","downloading","second-overage","wait"].join(" ")).addClass(t),t?e.attr("data-state",t):e.removeAttr("data-state")},updateCountDisplay:function(t,n){!t instanceof e||t.text(n?"("+n+")":"")},updateDefaultLibrary:function(t,a,i,s,r){var o;(n.isPhoenixEnabled?a&&"desktop"!==a?e("#memberDefaultLibraryId").val(a):e("#memberDefaultLibraryId").val():e("#memberDefaultLibraryId").val(a))!==a&&(i&&(o=C(i)),t.saveDefaultLibrary(a,null,!1,o),L(s)&&s(a,r))},isIPadSafari:function(){return"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1&&e(window).innerWidth()<=993}}}),define("app/utils/reducerHelpers",["jquery","page_config","lib/utils","app/constants/searchFilters","app/constants/assetTypeFilters"],function(e,t,n,a,i){"use strict";var s=[a.AUTHOR,a.CATEGORY,a.COLLECTION,a.COLOR,a.FILTERS,a.KEYWORD,a.MODEL_ID,a.NATIVE_VISUAL_SEARCH,a.ORDER,a.PRICE,a.SAFE_SEARCH,a.SCORING,a.SERIE_ID,a.SIMILAR_CONTENT_ID];return{getDefaultFilterState:function(){var i=t.search_params||{},r={};return s.forEach(function(t){var a=i[t];a&&(n.isObject(a)?Object.keys(a).length&&(r[t]=e.extend({},a)):r[t]=a)}),t.force_safe_search&&(r[a.SAFE_SEARCH]=1),r=function(e){var t,i;if(!e.filters)return e;t=e.filters[a.EDITORIAL],i=e.filters[a.CONTENT_TYPE_PHOTO]||e.filters[a.CONTENT_TYPE_ILLUSTRATION]||e.filters[a.CONTENT_TYPE_VECTOR],t&&"all"!==t&&(e.filters[a.EDITORIAL]=n.coerceValue(t,"int"));return e.filters[a.CONTENT_TYPE_IMAGE]=i,e}(r)},isAestheticFilterEnabled:function(e){return e[a.VIVID_COLOR]||e[a.DEPTH_OF_FIELD]},isPremiumContext:function(e){var t=e[a.PRICE];if(!t)return!1;var n=1===t[a.PRICE_SERVER_MEDIUM]&&1===t[a.PRICE_SERVER_HIGH]&&1===t[a.PRICE_CLIENT_HIGH],i=!!t[a.PRICE_CLIENT_HIGH]&&!!t.medium;return n||i},isCategoryCompatibleWithAssetType:function(e,t){var n=e===i.EDITORIAL,s=-1!==a.EDITORIAL_CATEGORIES.indexOf(t);return n&&s||!n&&!s}}}),define("app/reducers/filters",["jquery","lodash","page_config","lib/utils","app/actions/actionTypes","app/constants/searchFilters","app/constants/assetTypeFilters","app/utils/reducerHelpers"],function(e,t,n,a,i,s,r,o){"use strict";var l=[s.COMPATIBLE_APP,s.IS_LOOP,s.MIME_TYPE,s.USAGE_CATEGORY.FILTER_NAME,s.THREE_D_TYPE,s.VIDEO_DURATION_MAX,s.VIDEO_DURATION_MIN,s.VIDEO_FRAME_RATE,s.VIDEO_IS_4K,s.VIDEO_SHOT_ANGLE,s.VIDEO_SHOT_SIZE],c=[s.COMPATIBLE_APP,s.MIME_TYPE,s.THREE_D_TYPE,s.VIDEO_IS_4K,s.USAGE_CATEGORY.FILTER_NAME,s.VIDEO_FRAME_RATE,s.VIDEO_DURATION_MAX,s.VIDEO_DURATION_MIN,s.VIDEO_SHOT_SIZE,s.VIDEO_SHOT_ANGLE,s.IS_LOOP,s.COPY_SPACE],u=[s.COLOR,s.COMPATIBLE_APP,s.COPY_SPACE,s.DEPTH_OF_FIELD,s.ETHNICITY,s.EXCLUDE_PEOPLE,s.ILLUSTRATIVE,s.ILLUSTRATIVE_EXCLUDE,s.ILLUSTRATIVE_INCLUDE,s.INCLUDE_PEOPLE,s.GENTECH,s.GENTECH_ALL,s.GENTECH_ONLY,s.GENTECH_EXCLUDE,s.IS_LOOP,s.ISOLATED,s.LOCAL_ARTISTS,s.MIME_TYPE,s.ORIENTATION,s.PRICE_CLIENT_HIGH,s.PRICE_CLIENT_LOW,s.SIZE,s.SIZE_MEGA_PIXELS_MIN,s.SIZE_PIXELS_HEIGHT_MIN,s.SIZE_PIXELS_WIDTH_MIN,s.USAGE_CATEGORY.FILTER_NAME,s.VIDEO_DURATION,s.VIDEO_FRAME_RATE,s.VIDEO_IS_4K,s.VIVID_COLOR,s.ICON_SINGLE,s.ICON_SHEET],d=[s.COMPATIBLE_APP,s.CONTENT_TYPE_3D,s.CONTENT_TYPE_IMAGE,s.CONTENT_TYPE_ILLUSTRATION,s.CONTENT_TYPE_PHOTO,s.CONTENT_TYPE_TEMPLATE,s.CONTENT_TYPE_VECTOR,s.COPY_SPACE,s.DEPTH_OF_FIELD,s.ILLUSTRATIVE,s.ILLUSTRATIVE_EXCLUDE,s.ILLUSTRATIVE_INCLUDE,s.MIME_TYPE,s.PRICE_CLIENT_HIGH,s.PRICE_CLIENT_LOW,s.SIZE,s.SIZE_MEGA_PIXELS_MIN,s.SIZE_PIXELS_HEIGHT_MIN,s.SIZE_PIXELS_WIDTH_MIN,s.USAGE_CATEGORY.FILTER_NAME,s.THREE_D_TYPE,s.VIVID_COLOR,s.ICON_SINGLE,s.ICON_SHEET],p=[s.COLOR,s.CONTENT_TYPE_3D,s.CONTENT_TYPE_ILLUSTRATION,s.CONTENT_TYPE_IMAGE,s.CONTENT_TYPE_PHOTO,s.CONTENT_TYPE_VECTOR,s.CONTENT_TYPE_VIDEO,s.COPY_SPACE,s.DEPTH_OF_FIELD,s.EXCLUDE_PEOPLE,s.ILLUSTRATIVE,s.ILLUSTRATIVE_EXCLUDE,s.ILLUSTRATIVE_INCLUDE,s.INCLUDE_PEOPLE,s.IS_LOOP,s.ISOLATED,s.PRICE_CLIENT_HIGH,s.PRICE_CLIENT_LOW,s.SIZE,s.SIZE_MEGA_PIXELS_MIN,s.SIZE_PIXELS_HEIGHT_MIN,s.SIZE_PIXELS_WIDTH_MIN,s.THREE_D_TYPE,s.VIDEO_IS_4K,s.VIVID_COLOR,s.VIDEO_FRAME_RATE,s.VIDEO_DURATION,s.ICON_SINGLE,s.ICON_SHEET],_=[s.COMPATIBLE_APP,s.MIME_TYPE,s.USAGE_CATEGORY.FILTER_NAME,s.THREE_D_TYPE,s.VIDEO_IS_4K,s.PRICE_CLIENT_HIGH,s.PRICE_CLIENT_LOW,s.ETHNICITY,s.EXCLUDE_PEOPLE,s.INCLUDE_PEOPLE,s.CONTENT_TYPE_TEMPLATE,s.CONTENT_TYPE_3D,s.VIDEO_FRAME_RATE,s.VIDEO_DURATION,s.COPY_SPACE,s.ISOLATED,s.IS_LOOP,s.ICON_SINGLE,s.ICON_SHEET];function h(e,t){t.forEach(function(t){e[t]=void 0})}function f(t,n){var a,i={},r=[],u=!!t.filters&&t.filters[s.EDITORIAL],d=o.isPremiumContext(t);(i[s.CONTENT_TYPE_3D]=1,i[s.CONTENT_TYPE_ILLUSTRATION]=1,i[s.CONTENT_TYPE_IMAGE]=1,i[s.CONTENT_TYPE_PHOTO]=1,i[s.CONTENT_TYPE_TEMPLATE]=1,i[s.CONTENT_TYPE_VIDEO]=1,i[s.CONTENT_TYPE_VECTOR]=1,(a=e.extend(!0,{},t,{filters:i}))[s.ORDER]=s.ORDER_RELEVANCE,n)?(u&&(i[s.EDITORIAL]=1),r=c,d&&(a.filters[s.CONTENT_TYPE_VIDEO]=0)):(r=l.concat(s.EDITORIAL),h(a,[s.PRICE]));return h(a.filters,r),a}function E(t){var a,i={};return i[s.CONTENT_TYPE_3D]=0,i[s.CONTENT_TYPE_ILLUSTRATION]=1,i[s.CONTENT_TYPE_IMAGE]=1,i[s.CONTENT_TYPE_PHOTO]=1,i[s.CONTENT_TYPE_TEMPLATE]=0,i[s.CONTENT_TYPE_VIDEO]=0,i[s.CONTENT_TYPE_VECTOR]=1,(a=e.extend(!0,{},t,{filters:i}))[s.ORDER]=s.ORDER_RELEVANCE,l.push(s.EDITORIAL),h(a.filters,l),h(a,[s.PRICE]),a[s.PRICE]={},n.isGloballySafeCollectionEnabled||(a[s.PRICE][s.PRICE_CLIENT_LOW]=1,a[s.PRICE][s.PRICE_SERVER_LOW]=1),a}function m(t,a){var i,r={},o=[s.PRICE];return r[s.CONTENT_TYPE_IMAGE]=0,r[s.CONTENT_TYPE_3D]=0,r[s.CONTENT_TYPE_ILLUSTRATION]=0,r[s.CONTENT_TYPE_PHOTO]=0,r[s.CONTENT_TYPE_TEMPLATE]=0,r[s.CONTENT_TYPE_VIDEO]=0,r[s.CONTENT_TYPE_VECTOR]=0,r[a]=1,(i=e.extend(!0,{},t,{filters:r}))[s.ORDER]=s.ORDER_RELEVANCE,l.push(s.EDITORIAL),h(i.filters,l),h(i,o),i[s.PRICE]={},n.isGloballySafeCollectionEnabled||(i[s.PRICE][s.PRICE_CLIENT_LOW]=1,i[s.PRICE][s.PRICE_SERVER_LOW]=1),i}function g(e){return m(e,s.CONTENT_TYPE_PHOTO)}function T(e){return m(e,s.CONTENT_TYPE_ILLUSTRATION)}function b(e){return m(e,s.CONTENT_TYPE_VECTOR)}function v(t,n){var a,i=n[s.CONTENT_TYPE_IMAGE];return(a=e.extend(!0,{},t))[s.FILTERS][s.CONTENT_TYPE_PHOTO]=i,a[s.FILTERS][s.CONTENT_TYPE_ILLUSTRATION]=i,a[s.FILTERS][s.CONTENT_TYPE_VECTOR]=i,a}function I(t){var a=[s.PRICE,s.SCORING],i=[s.COMPATIBLE_APP,s.COPY_SPACE,s.MIME_TYPE,s.THREE_D_TYPE,s.USAGE_CATEGORY.FILTER_NAME,s.SIZE,s.SIZE_PIXELS_WIDTH_MIN,s.SIZE_PIXELS_HEIGHT_MIN,s.SIZE_MEGA_PIXELS_MIN,s.ILLUSTRATIVE,s.ILLUSTRATIVE_ALL,s.ILLUSTRATIVE_EXCLUDE,s.ILLUSTRATIVE_INCLUDE,s.ICON_SINGLE,s.ICON_SHEET];n.isFreeEnabled&&i.push(s.CONTENT_TYPE_FREE_COLLECTION);var r,o={};return o[s.CONTENT_TYPE_3D]=0,o[s.CONTENT_TYPE_ILLUSTRATION]=0,o[s.CONTENT_TYPE_IMAGE]=0,o[s.CONTENT_TYPE_PHOTO]=0,o[s.CONTENT_TYPE_TEMPLATE]=0,o[s.CONTENT_TYPE_VIDEO]=1,o[s.CONTENT_TYPE_VECTOR]=0,(r=e.extend(!0,{},t,{filters:o}))[s.ORDER]=s.ORDER_RELEVANCE,h(r,a),h(r.filters,i),r}function S(t){var a=[s.COLOR,s.SCORING],i=[s.COPY_SPACE,s.THREE_D_TYPE,s.VIDEO_IS_4K,s.ORIENTATION,s.EXCLUDE_PEOPLE,s.INCLUDE_PEOPLE,s.IS_LOOP,s.EDITORIAL,s.VIDEO_FRAME_RATE,s.VIDEO_DURATION_MAX,s.VIDEO_DURATION_MIN,s.VIDEO_SHOT_SIZE,s.VIDEO_SHOT_ANGLE,s.ISOLATED,s.SIZE,s.SIZE_PIXELS_WIDTH_MIN,s.SIZE_PIXELS_HEIGHT_MIN,s.SIZE_MEGA_PIXELS_MIN,s.ILLUSTRATIVE,s.ILLUSTRATIVE_ALL,s.ILLUSTRATIVE_EXCLUDE,s.ILLUSTRATIVE_INCLUDE,s.ICON_SINGLE,s.ICON_SHEET];n.isFreeEnabled&&i.push(s.CONTENT_TYPE_FREE_COLLECTION);var r,o={};return o[s.CONTENT_TYPE_3D]=0,o[s.CONTENT_TYPE_ILLUSTRATION]=0,o[s.CONTENT_TYPE_IMAGE]=0,o[s.CONTENT_TYPE_PHOTO]=0,o[s.CONTENT_TYPE_TEMPLATE]=1,o[s.CONTENT_TYPE_VIDEO]=0,o[s.CONTENT_TYPE_VECTOR]=0,(r=e.extend(!0,{},t,{filters:o}))[s.ORDER]=s.ORDER_RELEVANCE,a.push(s.PRICE),h(r,a),h(r.filters,i),r}function A(t){var a=[s.COLOR,s.SCORING],i=[s.COMPATIBLE_APP,s.COPY_SPACE,s.MIME_TYPE,s.VIDEO_IS_4K,s.ORIENTATION,s.ETHNICITY,s.EXCLUDE_PEOPLE,s.INCLUDE_PEOPLE,s.IS_LOOP,s.EDITORIAL,s.VIDEO_FRAME_RATE,s.VIDEO_DURATION_MAX,s.VIDEO_DURATION_MIN,s.VIDEO_SHOT_SIZE,s.VIDEO_SHOT_ANGLE,s.ISOLATED,s.SIZE,s.SIZE_PIXELS_WIDTH_MIN,s.SIZE_PIXELS_HEIGHT_MIN,s.SIZE_MEGA_PIXELS_MIN,s.ILLUSTRATIVE,s.ILLUSTRATIVE_ALL,s.ILLUSTRATIVE_EXCLUDE,s.ILLUSTRATIVE_INCLUDE,s.LOCAL_ARTISTS,s.LOCAL_ARTISTS_ALL,s.LOCAL_ARTISTS_ONLY,s.ICON_SINGLE,s.ICON_SHEET,s.USAGE_CATEGORY.FILTER_NAME];n.isFreeEnabled&&i.push(s.CONTENT_TYPE_FREE_COLLECTION);var r,o={};return o[s.CONTENT_TYPE_3D]=1,o[s.CONTENT_TYPE_ILLUSTRATION]=0,o[s.CONTENT_TYPE_IMAGE]=0,o[s.CONTENT_TYPE_PHOTO]=0,o[s.CONTENT_TYPE_TEMPLATE]=0,o[s.CONTENT_TYPE_VIDEO]=0,o[s.CONTENT_TYPE_VECTOR]=0,(r=e.extend(!0,{},t,{filters:o}))[s.ORDER]=s.ORDER_RELEVANCE,a.push(s.PRICE),h(r,a),h(r.filters,i),r}var O=[s.COMPATIBLE_APP,s.EDITORIAL,s.MIME_TYPE,s.THREE_D_TYPE,s.VIDEO_IS_4K,s.VIDEO_FRAME_RATE,s.VIDEO_DURATION_MAX,s.VIDEO_DURATION_MIN,s.VIDEO_SHOT_SIZE,s.VIDEO_SHOT_ANGLE,s.ISOLATED,s.IS_LOOP,s.ILLUSTRATIVE,s.ILLUSTRATIVE_ALL,s.ILLUSTRATIVE_EXCLUDE,s.ILLUSTRATIVE_INCLUDE,s.USAGE_CATEGORY.FILTER_NAME],y=[s.COMPATIBLE_APP,s.EDITORIAL,s.MIME_TYPE,s.THREE_D_TYPE,s.USAGE_CATEGORY.FILTER_NAME,s.VIDEO_IS_4K,s.VIDEO_FRAME_RATE,s.VIDEO_DURATION_MAX,s.VIDEO_DURATION_MIN,s.VIDEO_SHOT_SIZE,s.VIDEO_SHOT_ANGLE,s.IS_LOOP,s.ILLUSTRATIVE,s.ILLUSTRATIVE_ALL,s.ILLUSTRATIVE_EXCLUDE,s.ILLUSTRATIVE_INCLUDE,s.USAGE_CATEGORY.FILTER_NAME];function C(t){var n,a={},i={};return a[s.CONTENT_TYPE_3D]=0,a[s.CONTENT_TYPE_ILLUSTRATION]=1,a[s.CONTENT_TYPE_IMAGE]=1,a[s.CONTENT_TYPE_PHOTO]=1,a[s.CONTENT_TYPE_TEMPLATE]=0,a[s.CONTENT_TYPE_VECTOR]=1,a[s.CONTENT_TYPE_VIDEO]=0,i[s.PRICE_CLIENT_HIGH]=1,i[s.PRICE_CLIENT_LOW]=0,i[s.PRICE_SERVER_MEDIUM]=1,i[s.PRICE_SERVER_HIGH]=1,i[s.PRICE_SERVER_LOW]=0,(n=e.extend(!0,{},t,{filters:a,price:i}))[s.ORDER]=s.ORDER_RELEVANCE,h(n.filters,O),n}function R(t){var n,a={};return a[s.CONTENT_TYPE_3D]=0,a[s.CONTENT_TYPE_ILLUSTRATION]=1,a[s.CONTENT_TYPE_IMAGE]=1,a[s.CONTENT_TYPE_PHOTO]=1,a[s.CONTENT_TYPE_TEMPLATE]=0,a[s.CONTENT_TYPE_VECTOR]=1,a[s.CONTENT_TYPE_VIDEO]=0,a[s.CONTENT_TYPE_FREE_COLLECTION]=1,a[s.ORDER]=s.ORDER_RELEVANCE,h((n=e.extend(!0,{},t,{filters:a})).filters,y),n[s.PRICE]={},n}function L(t){var a,i={},r=[s.PRICE],o=[s.COMPATIBLE_APP,s.COPY_SPACE,s.ETHNICITY,s.EXCLUDE_PEOPLE,s.INCLUDE_PEOPLE,s.MIME_TYPE,s.THREE_D_TYPE,s.USAGE_CATEGORY.FILTER_NAME,s.VIDEO_IS_4K,s.VIDEO_FRAME_RATE,s.VIDEO_DURATION_MAX,s.VIDEO_DURATION_MIN,s.VIDEO_SHOT_SIZE,s.VIDEO_SHOT_ANGLE,s.IS_LOOP,s.ISOLATED,s.ILLUSTRATIVE,s.ILLUSTRATIVE_ALL,s.ILLUSTRATIVE_EXCLUDE,s.ILLUSTRATIVE_INCLUDE,s.USAGE_CATEGORY.FILTER_NAME];return i[s.CONTENT_TYPE_3D]=0,i[s.CONTENT_TYPE_ILLUSTRATION]=1,i[s.CONTENT_TYPE_PHOTO]=1,i[s.CONTENT_TYPE_TEMPLATE]=0,i[s.CONTENT_TYPE_VECTOR]=1,i[s.CONTENT_TYPE_IMAGE]=1,i[s.CONTENT_TYPE_VIDEO]=1,i[s.EDITORIAL]=1,(a=e.extend(!0,{},t,{filters:i}))[s.ORDER]=s.ORDER_CREATION,n.isFreeEnabled&&o.push(s.CONTENT_TYPE_FREE_COLLECTION),h(a,r),h(a.filters,o),a}n.isFreeEnabled&&(O.push(s.CONTENT_TYPE_FREE_COLLECTION),l.push(s.CONTENT_TYPE_FREE_COLLECTION));var N={"3d":A,all:f,images:E,photos:g,illustrations:T,vectors:b,templates:S,videos:I,premium:C,editorial:L,free:R};function D(t,n){var a=e.extend({},t),r=[];switch(n.type){case i.SET_ASSET_TYPE_TO_PREMIUM:return a[s.CATEGORY]&&-1!==s.EDITORIAL_CATEGORIES.indexOf(a[s.CATEGORY])&&(a[s.CATEGORY]=""),O.forEach(function(e){delete a[s.FILTERS][e]}),a;case i.UPDATE_ASSET_TYPE_FILTER:var o=[s.CONTENT_TYPE_FREE_COLLECTION,s.PRICE];return n.all===s.ASSET_FILTER_ALL_ON?a=f(t,!0):n.filters[s.CONTENT_TYPE_3D]?r=u:n.filters[s.CONTENT_TYPE_VIDEO]?r=d:n.filters[s.CONTENT_TYPE_TEMPLATE]?r=p:n.filters[s.CONTENT_TYPE_IMAGE]?r=l:t.filters[s.EDITORIAL]&&(r=_.concat([s.EDITORIAL])),r.forEach(function(e){o.includes(e)||delete a[s.FILTERS][e]}),a;default:return t}}return{filters:a.flattenReducers([function(t,n){var a=e.extend({},t);return n.type===i.SET_ASSET_TYPE_TO_PREMIUM?(a.filters=e.extend({},t.filters,a.filters),a.filters[s.CONTENT_TYPE_ILLUSTRATION]=1,a.filters[s.CONTENT_TYPE_IMAGE]=1,a.filters[s.CONTENT_TYPE_PHOTO]=1,a.filters[s.CONTENT_TYPE_VECTOR]=1,a.filters[s.CONTENT_TYPE_3D]=0,a.filters[s.CONTENT_TYPE_TEMPLATE]=0,a.filters[s.CONTENT_TYPE_VIDEO]=0,a.price=e.extend({},t.price,a.price),a.price[s.PRICE_CLIENT_LOW]=0,a.price[s.PRICE_CLIENT_HIGH]=1,a.price[s.PRICE_SERVER_LOW]=0,a.price[s.PRICE_SERVER_MEDIUM]=1,a.price[s.PRICE_SERVER_HIGH]=1,a[s.ORDER]=s.ORDER_RELEVANCE,a):t},function(t,n){var r,l,c,u,d,p="",_=[];switch(void 0===t&&(t=o.getDefaultFilterState()),n.type){case i.UPDATE_SEARCH_FILTERS:l=Object.keys(n.filters),r=e.extend({},t),l.forEach(function(i){var o;a.isObject(n.filters[i])?(o=e.extend({},t[i],n.filters[i]),Object.keys(o).forEach(function(e){o[e]||(o[e]=void 0)}),o=e.extend({},o),Object.keys(o).length?r[i]=o:r[i]=void 0):i!==s.SAFE_SEARCH?r[i]=n.filters[i]||void 0:r[i]=n.filters[i]}),r=function(t){var n,a;return t&&t[s.SERIE_ID]?(n=[s.COLLECTION],h(a=e.extend(!0,{},t),n),a):t}(r),r=function(t){var n,a;return t&&t[s.MODEL_ID]?(n=[s.COLLECTION],h(a=e.extend(!0,{},t),n),a):t}(r),r=e.extend({},r);break;case i.UPDATE_ASSET_TYPE_FILTER:case i.CLEAR_ASSET_TYPE_BREADCRUMB:(l={})[s.FILTERS]=e.extend({},t[s.FILTERS],n.filters),n.filters[s.CONTENT_TYPE_VIDEO]&&!n.all&&(l[s.PRICE]={},delete l[s.FILTERS][s.TRANSPARENT]),!n.filters[s.CONTENT_TYPE_TEMPLATE]&&!n.filters[s.CONTENT_TYPE_3D]||n.all||delete l[s.FILTERS][s.TRANSPARENT],r=v(r=e.extend({},t,l),n.filters);break;case i.UPDATE_IMAGE_SUBCATEGORY_FILTER:(r=e.extend({},t))[s.FILTERS]=e.extend({},t[s.FILTERS],n.filters);break;case i.UPDATE_ISOLATED_FILTER:r=e.extend({},t),void 0===n.filters[s.ISOLATED]&&r[s.FILTERS]?delete r[s.FILTERS][s.ISOLATED]:r[s.FILTERS]=e.extend({},t[s.FILTERS],n.filters);break;case i.UPDATE_BACKGROUND_FILTER:r=e.extend({},t),void 0===n.filters[s.TRANSPARENT]&&r[s.FILTERS]?delete r[s.FILTERS][s.TRANSPARENT]:r[s.FILTERS]=e.extend({},t[s.FILTERS],n.filters),void 0===n.filters[s.ISOLATED]&&r[s.FILTERS]?delete r[s.FILTERS][s.ISOLATED]:r[s.FILTERS]=e.extend({},t[s.FILTERS],n.filters);break;case i.UPDATE_ICON_FILTER:r=e.extend({},t),[s.ICON_SINGLE,s.ICON_SHEET].forEach(a=>{void 0===n.filters[a]&&r[s.FILTERS]?delete r[s.FILTERS][a]:r[s.FILTERS]=e.extend({},t[s.FILTERS],n.filters)});break;case i.UPDATE_ETHNICITY_FILTER:r=e.extend({},t),(l={})[s.ETHNICITY]=n.ethnicity,r[s.FILTERS]=e.extend({},t[s.FILTERS],l);break;case i.UPDATE_ILLUSTRATIVE_FILTER:r=e.extend({},t),void 0===n.filters[s.ILLUSTRATIVE]&&r[s.FILTERS]?delete r[s.FILTERS][s.ILLUSTRATIVE]:r[s.FILTERS]=e.extend({},t[s.FILTERS],n.filters);break;case i.UPDATE_GENTECH_FILTER:r=e.extend({},t),void 0===n.filters[s.GENTECH]&&r[s.FILTERS]?delete r[s.FILTERS][s.GENTECH]:r[s.FILTERS]=e.extend({},t[s.FILTERS],n.filters);break;case i.UPDATE_UNDISCOVERED_FILTER:r=e.extend({},t),void 0===n.filters[s.UNDISCOVERED]&&r[s.FILTERS]?delete r[s.FILTERS][s.UNDISCOVERED]:r[s.FILTERS]=e.extend({},t[s.FILTERS],n.filters);break;case i.UPDATE_LOCAL_ARTISTS_FILTER:r=e.extend({},t),void 0===n.filters[s.LOCAL_ARTISTS]&&r[s.FILTERS]?delete r[s.FILTERS][s.LOCAL_ARTISTS]:r[s.FILTERS]=e.extend({},t[s.FILTERS],n.filters);break;case i.UPDATE_IS_LOOP_FILTER:r=e.extend({},t),void 0===n.filters[s.IS_LOOP]&&r[s.FILTERS]?delete r[s.FILTERS][s.IS_LOOP]:r[s.FILTERS]=e.extend({},t[s.FILTERS],n.filters);break;case i.UPDATE_FRAME_RATE_FILTER:r=e.extend({},t),(l={})[s.VIDEO_FRAME_RATE]=n.frameRates,r[s.FILTERS]=e.extend({},t[s.FILTERS],l);break;case i.UPDATE_MIME_TYPE_FILTER:r=e.extend({},t),(l={})[s.MIME_TYPE]=n.mimeType,!n.mimeType&&r[s.FILTERS]?delete r[s.FILTERS][s.MIME_TYPE]:r[s.FILTERS]=e.extend({},t[s.FILTERS],l);break;case i.UPDATE_SHOT_SIZE_FILTER:r=e.extend({},t),(l={})[s.VIDEO_SHOT_SIZE]=n.shotSize,r[s.FILTERS]=e.extend({},t[s.FILTERS],l);break;case i.UPDATE_SHOT_ANGLE_FILTER:r=e.extend({},t),(l={})[s.VIDEO_SHOT_ANGLE]=n.shotAngle,r[s.FILTERS]=e.extend({},t[s.FILTERS],l);break;case i.UPDATE_FIND_SIMILAR_BY:(r=e.extend({},t))[s.FIND_SIMILAR_BY]=n.findSimilarBy,delete r.oa;break;case i.UPDATE_DURATION_FILTER:r=e.extend({},t),(l={})[s.VIDEO_DURATION_MIN]=n.min,l[s.VIDEO_DURATION_MAX]=n.max,r[s.FILTERS]=e.extend({},t[s.FILTERS],l);break;case i.UPDATE_COPY_SPACE_FILTER:r=e.extend({},t),(l={})[s.COPY_SPACE]=n.value,r[s.FILTERS]=e.extend({},t[s.FILTERS],l);break;case i.NAVIGATE_SEARCH_HISTORY:case i.ALERT_UNDO_ACTION:r=n.previousFilters||o.getDefaultFilterState();break;case i.UPDATE_SIZE_FILTER:u=n[s.SIZE],r=e.extend({},t),l=e.extend({},n.value),delete(d=r[s.FILTERS])[s.SIZE_PIXELS_WIDTH_MIN],delete d[s.SIZE_PIXELS_HEIGHT_MIN],delete d[s.SIZE_MEGA_PIXELS_MIN],u&&(r[s.FILTERS]=e.extend({},t[s.FILTERS],l));break;case i.UPDATE_USAGE_CATEGORY_FILTER:r=e.extend({},t),(l={})[s.USAGE_CATEGORY.FILTER_NAME]=n.usageCategories,r[s.FILTERS]=e.extend({},t[s.FILTERS],l);break;case i.UPDATE_PAGE_DATA:r=t,n.data.filter_asset_type&&(c=n.data.filter_asset_type,(r=e.extend(!0,{},N[c](t)))[s.CATEGORY]&&!o.isCategoryCompatibleWithAssetType(c,r[s.CATEGORY])&&(r[s.CATEGORY]="")),r=e.extend({},r);break;case i.CLEAR_SEARCH_FILTERS:(l={})[s.KEYWORD]=t[s.KEYWORD],l[s.SIMILAR_CONTENT_ID]=t[s.SIMILAR_CONTENT_ID],l[s.NATIVE_VISUAL_SEARCH]=t[s.NATIVE_VISUAL_SEARCH],l[s.SERIE_ID]=t[s.SERIE_ID],l[s.MODEL_ID]=t[s.MODEL_ID],l[s.SAFE_SEARCH]=s.SAFE_SEARCH_ON,r=e.extend(!0,{},N[n.data.filter_asset_type](l));break;case i.GET_SEARCH_RESULTS.begin:(l={})[s.SIMILAR_CONTENT_ID]=n.searchFilters[s.SIMILAR_CONTENT_ID],(r=e.extend(!0,{},t,l))[s.PRICE]=t[s.PRICE];break;case i.GET_SEARCH_RESULTS.success:case i.GET_SEARCH_RESULTS.failure:r=e.extend(!0,{},t,n.searchFilters||{},{search_page:n.isHistoryNavigationSearch?n.searchFilters.search_page:1}),t[s.COLLECTION]&&!n.searchFilters[s.COLLECTION]&&(r[s.COLLECTION]=void 0),r.is_recent_search=void 0,r[s.IS_QUERY_SUGGESTED]=void 0,r.get_facets=void 0,r=e.extend({},r);break;case i.MULTI_IMAGE_ADD:r=e.extend(!0,{},t,n.searchFilters||{});break;case i.MULTI_IMAGE_REMOVE:(r=e.extend(!0,{},t))[s.SIMILAR_CONTENT_ID]=void 0;break;case i.CLEAR_BREADCRUMB_FILTER:switch(r=e.extend(!0,{},t),n.filter.key){case s.PRICE_CLIENT_LOW:case s.PRICE_CLIENT_HIGH:r.price=void 0;break;case s.COLOR:case s.CATEGORY:r[n.filter.key]=void 0;break;case s.DEPTH_OF_FIELD:case s.VIVID_COLOR:r.scoring[n.filter.key]=void 0;break;case s.EDITORIAL_DATE_RANGE:r.filters[s.EDITORIAL_EVENT_DATE_START]=void 0,r.filters[s.EDITORIAL_EVENT_DATE_END]=void 0;break;case s.CONTENT_TYPE_PHOTO:r.filters[s.CONTENT_TYPE_ILLUSTRATION]||r.filters[s.CONTENT_TYPE_VECTOR]?r.filters[s.CONTENT_TYPE_PHOTO]=0:(r.filters[s.CONTENT_TYPE_ILLUSTRATION]=1,r.filters[s.CONTENT_TYPE_VECTOR]=1);break;case s.CONTENT_TYPE_ILLUSTRATION:r.filters[s.CONTENT_TYPE_PHOTO]||r.filters[s.CONTENT_TYPE_VECTOR]?r.filters[s.CONTENT_TYPE_ILLUSTRATION]=0:(r.filters[s.CONTENT_TYPE_PHOTO]=1,r.filters[s.CONTENT_TYPE_VECTOR]=1);break;case s.CONTENT_TYPE_VECTOR:r.filters[s.CONTENT_TYPE_ILLUSTRATION]||r.filters[s.CONTENT_TYPE_PHOTO]?r.filters[s.CONTENT_TYPE_VECTOR]=0:(r.filters[s.CONTENT_TYPE_ILLUSTRATION]=1,r.filters[s.CONTENT_TYPE_PHOTO]=1);break;case s.SAFE_SEARCH:r[s.SAFE_SEARCH]=s.SAFE_SEARCH_ON;break;case s.COMPATIBLE_APP:r.filters[s.COMPATIBLE_APP]=[];break;case s.ISOLATED:r.filters[s.ISOLATED]=void 0;break;case s.UNDISCOVERED:r.filters[s.UNDISCOVERED]=void 0;break;case s.ILLUSTRATIVE:r.filters[s.ILLUSTRATIVE]=void 0;break;case s.SIZE:r.filters[s.SIZE_MEGA_PIXELS_MIN]=void 0,r.filters[s.SIZE_PIXELS_WIDTH_MIN]=void 0,r.filters[s.SIZE_PIXELS_HEIGHT_MIN]=void 0;break;case s.FIND_SIMILAR_BY:r[s.FIND_SIMILAR_BY]=void 0,r[s.SIMILAR_CONTENT_ID]=void 0;break;case s.ORIENTATION:p=r[s.FILTERS][s.ORIENTATION],(_=a.getMultipleOrientationFilters(p)).splice(_.indexOf(n.filter.value),1),r[s.FILTERS][s.ORIENTATION]=_.length?_.join(s.FILTER_SEPARATOR):void 0;break;default:Array.isArray(t.filters[n.filter.key])?r.filters[n.filter.key].splice(r.filters[n.filter.key].lastIndexOf(n.filter.value),1):t.filters[n.filter.key]&&(r.filters[n.filter.key]=void 0)}break;case i.UPDATE_ASSET_ID:(r=e.extend(!0,{},t))[s.ASSET_ID]=n.value;break;default:r=t}return r},D]),allFiltersSwitchState:f,imagesFiltersSwitchState:E,vectorsFiltersSwitchState:b,illustrationsFiltersSwitchState:T,photosFiltersSwitchState:g,applyImageFilterToImageTypes:v,videosFiltersSwitchState:I,templatesFiltersSwitchState:S,threeDFiltersSwitchState:A,premiumFiltersSwitchState:C,freeFiltersSwitchState:R,editorialViewSwitchState:L,unsetFiltersReducer:D}}),define("app/constants/cookies",[],function(){"use strict";return{LAST_SELECTED_ASSET_TYPE:"last_selected_asset_type",FIRST_LIBRARY_CREATING:"first_library_creating"}}),define("app/constants/errors",[],function(){"use strict";return{MISSING_URL:"Url must be a string."}}),define("app/constants/mediaTypes",["page_config"],function(e){"use strict";return e.constants.media_types}),define("app/constants/routes",[],function(){"use strict";var e="/collections",t="/contributor",n="/premium",a="/search",i="/search/audio",s="/collections/editorial",r="Member/RefreshContext",o="/Member/RefreshContext",l="Member/SwitchAccount",c="/Member/SwitchPersonal",u="Member/SwitchTeam",d={COLLECTIONS:e,CONTRIBUTORS:t,EDITORIAL_COLLECTIONS:s,PREMIUM_COLLECTIONS:n,SEARCH:a},p={};return p[l]="/Member/SwitchAccount/:guid",p["Member/SwitchPersonal"]=c,p[u]="/Member/SwitchTeam/:guid",p["License-Terms"]="/license-terms",p[r]=o,p[i]=i,p.root="/",{allSearchRoutes:d,CONTRIBUTORS:t,COLLECTIONS:e,DOWNLOAD_API:"/Rest/Libraries/Download/",EDITORIAL_COLLECTIONS:s,PLANS:"/plans",PREMIUM_COLLECTIONS:n,ROOT:"/",ROUTES_NAME_MAP:p,REFRESH_CONTEXT_NAME:r,REFRESH_CONTEXT:o,SEARCH:a,SEARCH_IMAGES:"/search/images",SEARCH_VIDEO:"/search/video",SEARCH_AUDIO:i,SEARCH_TEMPLATES:"/search/templates",SEARCH_3D:"/search/3d-assets",SEARCH_EDITORIAL:"/search/editorial",SEARCH_PREMIUM:"/search/premium",SWITCH_PERSONAL:c,SWITCH_TEAM_NAME:u,SWITCH_ACCOUNT_NAME:l,SEARCH_FREE:"/search/free"}}),define("app/constants/index",["page_config","lib/window","app/constants/assetTypeFilters","app/constants/cookies","app/constants/errors","app/constants/mediaTypes","app/constants/routes","app/constants/searchFilters","app/constants/templateTypes","app/constants/ui"],function(e,t,n,a,i,s,r,o,l,c){"use strict";return{assetTypeFilters:n,cookies:a,errors:i,mediaTypes:s,routes:r,searchFilters:o,templateTypes:l,ui:c}}),define("app/constants/page",["page_config","lib/window"],function(e,t){"use strict";return{BASE_URL:t.getOrigin()+e.base_url}}),define("app/utils/url",[],function(){"use strict";return{uriEncodeData:function(e){var t="",n=!0;for(var a in e)if(e.hasOwnProperty(a)&&void 0!==e[a]){var i=encodeURIComponent(a),s=e[a];t+=(n?"":"&")+i+"="+(null===s?"null":"object"==typeof s?encodeURIComponent(JSON.stringify(s)):encodeURIComponent(s)),n=!1}return t},buildQueryString:function(e,t){if(e){var n=this.uriEncodeData(e);return n&&(n=t&&-1!==t.indexOf("?")?"&"+n:"?"+n),n}return""},removeLocale:function(e){var t=e.split("/"),n=e;return/^[a-zA-Z]{2,3}([-_][a-zA-Z]{2,3})?$/.test(t[3])&&(t.splice(3,1),n=t.join("/")),n}}}),define("app/utils/routes",["page_config","app/constants/routes","app/utils/url","lib/window"],function(e,t,n,a){"use strict";var i=function(e,t){return e&&-1!==e.indexOf(t)},s=function(n){var a={all:t.SEARCH,images:t.SEARCH_IMAGES,photos:t.SEARCH_IMAGES,illustrations:t.SEARCH_IMAGES,vectors:t.SEARCH_IMAGES,videos:t.SEARCH_VIDEO,audio:t.SEARCH_AUDIO,templates:t.SEARCH_TEMPLATES,"3d":t.SEARCH_3D,premium:t.SEARCH_PREMIUM,editorial:t.SEARCH_EDITORIAL};return e.isFreeEnabled&&(a.free=t.SEARCH_FREE),a[n]};return{shouldRouteToSearch:function(e){var n,a,i,s,r=!1;if(e)for(a=(n=Object.keys(t.allSearchRoutes)).length,i=0;i<a;i++)if(s=t.allSearchRoutes[n[i]],-1!==e.indexOf(s)){r=!0;break}return r},isPremiumRoute:function(e){return i(e,t.PREMIUM_COLLECTIONS)},isCollectionsRoute:function(e){return i(e,t.COLLECTIONS)},isEditorialCollectionsRoute:function(e){return i(e,t.EDITORIAL_COLLECTIONS)},isHomePageRoute:function(){return a.getLocation("pathname")===e.base_url+t.ROOT},isPlansPageRoute:function(){return a.getLocation("pathname")===e.base_url+t.PLANS},isVideoDetailsPage:function(){var t=a.getLocation("pathname"),n=e.base_url+"/video/";return t.startsWith(n)},getSwitchPersonalRoute:function(e){var a=t.SWITCH_PERSONAL;return a+n.buildQueryString({referrer_uri:e},a)},getSearchRoute:s,getSearchRouteWithBaseURL:function(t){return e.base_url+s(t)},getLicenseHistoryURL:function(t){var n=t?"/Member/EnterpriseReport":"/Member/LicenseHistory";return n="//"+a.getLocation("host")+e.base_url+n},getRefreshedContextRoute:function(e){var a=t.REFRESH_CONTEXT;return a+n.buildQueryString({referrer_uri:e},a)},getRoute:function(a,i,s){var r=t.ROUTES_NAME_MAP[i];return r&&(Object.keys(a).forEach(function(e){r=r.replace(":"+e,a[e])}),r+=n.buildQueryString(s,r),e.base_url&&(r=e.base_url+r)),r}}}),define("app/reducers/history",["jquery","i18n-config","app/actions/actionTypes","app/constants/index","app/constants/page","app/utils/routes","lib/utils","page_config"],function(e,t,n,a,i,s,r,o){"use strict";var l=i.BASE_URL+location.pathname.replace(o.base_url,""),c=document.title,u=function(){var e=o.search_params||{},t=window.location;return{oldKeyword:e.k||"",paramHistory:{},skipUrl:!1,title:c,url:l,urlQuery:0===t.search.indexOf("?")?t.search.substr(1):t.search}};return{history:function(o,l){var c,d;switch(void 0===o&&(o=u()),l.type){case n.UPDATE_META_DATA:c=e.extend({},o,l.newMetaData);break;case n.GET_SEARCH_RESULTS.begin:c=e.extend({},o,{oldKeyword:l.searchFilters.k,urlQuery:l.newUrlQuery}),l.isHistoryNavigationSearch||(delete c.paramHistory[l.newUrlQuery],c.url=function(e,t,n){var r=(e||{}).url;if(!r)throw a.errors.MISSING_URL;return(s.shouldRouteToSearch(r)||n)&&(r=i.BASE_URL+s.getSearchRoute(t)),r}(c,l.assetType,l.forceSearchRoute),c.title=function(e,n){var i=e||"",s=n.title,o=r.capitalizeFirstCharacter(i);return-1!==n.url.indexOf(a.routes.SEARCH)&&(s=o?t.sprintf(t.gettext("META::%s stock photos, royalty-free images, vectors, video"),o):t.gettext("META::Stock photos, royalty-free images, graphics, vectors & videos")),s}(l.searchFilters.k,c),c.paramHistory[l.newUrlQuery]={assetType:l.assetType,filters:l.searchFilters,pagination:l.searchPagination,title:c.title,url:c.url});break;case n.GET_SEARCH_RESULTS.success:if(l.result.is_csam_search){c=e.extend({},o,{title:t.gettext("META::No Results")});break}case n.GET_SEARCH_RESULTS.failure:c=e.extend({},o,{skipUrl:!1});break;case n.NAVIGATE_SEARCH_HISTORY:case n.ALERT_UNDO_ACTION:d=u(),c=e.extend({},o,{oldKeyword:l.pastKeyword||d.oldKeyword,skipUrl:l.shouldSkipUrl,title:l.previousTitle||d.title,url:l.previousUrl||d.url});break;default:c=o}return c}}}),define("app/actions/memberActions",["app/actions/actionTypes"],function(e){"use strict";function t(e){return!!(e&&e.default_entitlement&&e.default_entitlement.has_subscription)}return{hasSubscription:t,memberLoggedIn:function(n,a){return{stockProfile:n,imsProfile:a,hasSubscription:t(n),type:e.MEMBER_LOGGED_IN}},memberUpdatedEntitlement:function(n){return{stockProfile:n,hasSubscription:t(n),type:e.MEMBER_UPDATED_ENTITLEMENT}}}}),define("app/reducers/member",["page_config","app/actions/actionTypes","app/actions/memberActions","jquery","lib/member"],function(e,t,n,a,i){"use strict";return{member:function(s,r){var o,l,c,u,d;if(void 0===s)return l=null,c=null,u=null,d=null,!a.isEmptyObject(e.member)&&e.SUSI&&e.SUSI.profile&&(c=e.SUSI.profile,u=e.member,i.setImsProfile(a.extend(!0,{},c)),i.setStockProfile(a.extend(!0,{},u)),l=n.hasSubscription(u),d=i.getUsername()),{username:d,avatar:null,imsProfile:c,stockProfile:u,hasSubscription:l,universalSubscriptionFlags:e.universalSubscriptionFlags};switch(r.type){case t.MEMBER_LOGGED_IN:i.setImsProfile(a.extend(!0,{},r.imsProfile)),i.setStockProfile(a.extend(!0,{},r.stockProfile)),o={username:i.getUsername(),avatar:"",imsProfile:r.imsProfile,stockProfile:r.stockProfile,hasSubscription:r.hasSubscription};break;case t.MEMBER_UPDATED_ENTITLEMENT:i.setStockProfile(a.extend(!0,{},r.stockProfile)),o={username:s.username,avatar:s.avatar,imsProfile:s.imsProfile,stockProfile:r.stockProfile,hasSubscription:r.hasSubscription};break;default:return s}return o}}}),define("app/reducers/pagination",["jquery","page_config","lib/utils","app/actions/actionTypes"],function(e,t,n,a){"use strict";var i=function(){var e=t.search_pagination||{},n=parseInt(e.total_pages),a=parseInt(e.current_page),i=parseInt(e.total_results),s=t.search_pagination||{};return{numPages:parseInt(s.total_pages)||1,page:a||1,pageLimit:n||100,total:i||0}};return{pagination:function(t,n){var s;switch(void 0===t&&(t=i()),n.type){case a.GET_SEARCH_RESULTS.success:s=e.extend({},t,{numPages:n.result.num_pages,page:n.result.search_page,pageLimit:n.result.page_limit,total:n.result.total});break;case a.NAVIGATE_SEARCH_HISTORY:case a.ALERT_UNDO_ACTION:s=n.previousPagination||i();break;case a.UPDATE_PAGE_DATA:case a.SET_ASSET_TYPE_TO_PREMIUM:s=e.extend({},t,{page:1});break;default:s=t}return s}}}),define("app/reducers/search",["jquery","app/actions/actionTypes","page_config","app/utils/routes","lib/contentDetails"],function(e,t,n,a,i){"use strict";return{search:function(s,r){var o;switch(void 0===s&&(s=function(){var t=i.getContentDataDic(),a={items:e.isEmptyObject(t)?[]:t,loading:!1,originalTotal:null,suggestedKeywords:null,categoryUrl:n.category_url||null};return a.originalTotal=n.original_total||null,a.suggestedKeywords=n.suggest_used||null,a.availableAssetTypes=n.available_asset_types||[],a.longtailKeywords=n.longtail_keywords||[],a.facets=n.facets||null,a.querySuggestions=n.query_suggestions||[],a.contributorRedirect=n.contributor_redirect||[],a.isCsamSearch=n.is_csam_search||!1,a.ussInstrumentation=n.uss_instrumentation,a}()),r.type){case t.GET_SEARCH_RESULTS.begin:return e.extend({},s,{loading:!0});case t.GET_SEARCH_RESULTS.success:return r.result.content_url_redirect?e.extend({},s,{content_url_redirect:r.result.content_url_redirect}):(o=e.extend({},s,{items:r.result.items||{},loading:!1,originalTotal:r.result.original_total||null,suggestedKeywords:r.result.suggest_used||null,categoryUrl:a.getSearchRoute(r.assetType),assetTypeLinks:r.result.asset_type_links||[],availableAssetTypes:r.result.available_asset_types||[],longtailKeywords:r.result.longtail_keywords||[],isCsamSearch:r.result.is_csam_search||!1,ussInstrumentation:r.result.uss_instrumentation||null}),r.searchFilters&&"pagination"!==r.searchFilters.search_type&&(r.searchFilters.get_facets||r.result.facets&&r.result.facets.asset_type)&&(o.facets=r.result.facets),n.isQISAsyncEnabled||(o.querySuggestions=r.result.query_suggestions),o.contributorRedirect=r.result.contributor_redirect,o);case t.GET_SEARCH_RESULTS.failure:return e.extend({},s,{loading:!1,errors:r.error});case t.OPEN_FILTERS_PANEL.success:return(o=e.extend({},s)).facets=r.result.facets,o;case t.UPDATE_LIBRARY_ITEMS:return(o=e.extend({},s)).items=r.items,o;case t.ADD_ITEM_DETAILS:return s.items[r.content_id]?((o=s).items=e.extend({},s.items),o.items[r.content_id].editorial_data=e.extend({},r.data.editorial_data),o):s;default:return s}}}}),define("app/reducers/page",["jquery","app/actions/actionTypes","app/constants/assetTypeFilters","app/constants/cookies","page_config","lib/cookie","app/constants/localStorage"],function(e,t,n,a,i,s,r){"use strict";var o={"3d-trigger":!0,"applications-trigger":!0,"asset-trigger":!0,"category-trigger":!0,"color-trigger":!0,"copy-space-trigger":!0,"dof-trigger":!0,"editorial-date-range-trigger":!0,"editorial-trigger":!0,"ethnicity-trigger":!0,"frame-rate-trigger":!1,"video-shot-size-trigger":!0,"video-shot-angle-trigger":!0,"duration-trigger":!0,"images-trigger":!0,"isolated-trigger":!0,"background-trigger":!0,"icon-trigger":!0,"gentech-trigger":!0,"illustrative-trigger":!0,"undiscovered-trigger":!0,"local-artists-trigger":!0,"looping-trigger":!0,"media-trigger":!0,"mime-type-trigger":!0,"order-trigger":!0,"orientation-trigger":!0,"people-trigger":!0,"price-trigger":!0,"safe-search-trigger":!0,"size-trigger":!0,"templates-trigger":!0,"videos-trigger":!0,"vivid-color-trigger":!1};return{page:function(l,c){var u={};switch(void 0===l&&(l=function(){var t=e.extend({},i.page_data||{}),l=s(a.LAST_SELECTED_ASSET_TYPE)||n.DEFAULT_TYPE,c=localStorage.getItem(r.VECTOR_DOWNLOAD_CHOICE_KEY);return i.isHideAllFromDropdownEnabled&&l===n.ALL&&(l=n.IMAGES),l&&(t.original_asset_type=l),c&&(t.vectorDownloadChoice=c),e.extend(t,o),t}()),c.type){case t.CHECK_FILTER_TOGGLE:(u=e.extend({},l))[c.name]=c.checked;break;case t.RESET_FILTER_TOGGLE:u=e.extend({},l,o);break;case t.UPDATE_PAGE_DATA:u=e.extend({},l,c.data);break;case t.SET_ASSET_TYPE_TO_PREMIUM:(u=e.extend({},l)).filter_asset_type="premium";break;case t.NAVIGATE_SEARCH_HISTORY:case t.ALERT_UNDO_ACTION:u=e.extend(l,{filter_asset_type:c.previousAssetType||l.original_asset_type});break;case t.OPEN_VECTOR_DOWNLOAD_SETTINGS:u=e.extend({},l,{shouldShowVectorDownloadSettingsModal:!0});break;case t.CLOSE_VECTOR_DOWNLOAD_SETTINGS:u=e.extend({},l,{shouldShowVectorDownloadSettingsModal:!1});break;case t.SAVE_VECTOR_DOWNLOAD_PREFERENCE:u=e.extend({},l,{shouldShowVectorDownloadSettingsModal:!1,vectorDownloadChoice:c.value});break;default:u=l}return u}}}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("moment",t):e.moment=t()}(this,function(){"use strict";var e,t;function n(){return e.apply(null,arguments)}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e){return void 0===e}function r(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function o(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function l(e,t){var n,a=[];for(n=0;n<e.length;++n)a.push(t(e[n],n));return a}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){for(var n in t)c(t,n)&&(e[n]=t[n]);return c(t,"toString")&&(e.toString=t.toString),c(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,n,a){return Dt(e,t,n,a,!0).utc()}function p(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function _(e){if(null==e._isValid){var n=p(e),a=t.call(n.parsedDateParts,function(e){return null!=e}),i=!isNaN(e._d.getTime())&&n.overflow<0&&!n.empty&&!n.invalidMonth&&!n.invalidWeekday&&!n.weekdayMismatch&&!n.nullInput&&!n.invalidFormat&&!n.userInvalidated&&(!n.meridiem||n.meridiem&&a);if(e._strict&&(i=i&&0===n.charsLeftOver&&0===n.unusedTokens.length&&void 0===n.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function h(e){var t=d(NaN);return null!=e?u(p(t),e):p(t).userInvalidated=!0,t}t=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,a=0;a<n;a++)if(a in t&&e.call(this,t[a],a,t))return!0;return!1};var f=n.momentProperties=[];function E(e,t){var n,a,i;if(s(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),s(t._i)||(e._i=t._i),s(t._f)||(e._f=t._f),s(t._l)||(e._l=t._l),s(t._strict)||(e._strict=t._strict),s(t._tzm)||(e._tzm=t._tzm),s(t._isUTC)||(e._isUTC=t._isUTC),s(t._offset)||(e._offset=t._offset),s(t._pf)||(e._pf=p(t)),s(t._locale)||(e._locale=t._locale),f.length>0)for(n=0;n<f.length;n++)s(i=t[a=f[n]])||(e[a]=i);return e}var m=!1;function g(e){E(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===m&&(m=!0,n.updateOffset(this),m=!1)}function T(e){return e instanceof g||null!=e&&null!=e._isAMomentObject}function b(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function v(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=b(t)),n}function I(e,t,n){var a,i=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),r=0;for(a=0;a<i;a++)(n&&e[a]!==t[a]||!n&&v(e[a])!==v(t[a]))&&r++;return r+s}function S(e){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn}function A(e,t){var a=!0;return u(function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,e),a){for(var i,s=[],r=0;r<arguments.length;r++){if(i="","object"==typeof arguments[r]){for(var o in i+="\n["+r+"] ",arguments[0])i+=o+": "+arguments[0][o]+", ";i=i.slice(0,-2)}else i=arguments[r];s.push(i)}S((Array.prototype.slice.call(s).join(""),(new Error).stack)),a=!1}return t.apply(this,arguments)},t)}var O,y={};function C(e,t){null!=n.deprecationHandler&&n.deprecationHandler(e,t),y[e]||(S(),y[e]=!0)}function R(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function L(e,t){var n,a=u({},e);for(n in t)c(t,n)&&(i(e[n])&&i(t[n])?(a[n]={},u(a[n],e[n]),u(a[n],t[n])):null!=t[n]?a[n]=t[n]:delete a[n]);for(n in e)c(e,n)&&!c(t,n)&&i(e[n])&&(a[n]=u({},a[n]));return a}function N(e){null!=e&&this.set(e)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,O=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)c(e,t)&&n.push(t);return n};var D={};function P(e,t){var n=e.toLowerCase();D[n]=D[n+"s"]=D[t]=e}function w(e){return"string"==typeof e?D[e]||D[e.toLowerCase()]:void 0}function M(e){var t,n,a={};for(n in e)c(e,n)&&(t=w(n))&&(a[t]=e[n]);return a}var k={};function x(e,t){k[e]=t}function F(e,t,n){var a=""+Math.abs(e),i=t-a.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+a}var U=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,H=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,j={},Y={};function V(e,t,n,a){var i=a;"string"==typeof a&&(i=function(){return this[a]()}),e&&(Y[e]=i),t&&(Y[t[0]]=function(){return F(i.apply(this,arguments),t[1],t[2])}),n&&(Y[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function G(e,t){return e.isValid()?(t=B(t,e.localeData()),j[t]=j[t]||function(e){var t,n,a,i=e.match(U);for(t=0,n=i.length;t<n;t++)Y[i[t]]?i[t]=Y[i[t]]:i[t]=(a=i[t]).match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"");return function(t){var a,s="";for(a=0;a<n;a++)s+=R(i[a])?i[a].call(t,e):i[a];return s}}(t),j[t](e)):e.localeData().invalidDate()}function B(e,t){var n=5;function a(e){return t.longDateFormat(e)||e}for(H.lastIndex=0;n>=0&&H.test(e);)e=e.replace(H,a),H.lastIndex=0,n-=1;return e}var q=/\d/,W=/\d\d/,K=/\d{3}/,z=/\d{4}/,Q=/[+-]?\d{6}/,Z=/\d\d?/,X=/\d\d\d\d?/,$=/\d\d\d\d\d\d?/,J=/\d{1,3}/,ee=/\d{1,4}/,te=/[+-]?\d{1,6}/,ne=/\d+/,ae=/[+-]?\d+/,ie=/Z|[+-]\d\d:?\d\d/gi,se=/Z|[+-]\d\d(?::?\d\d)?/gi,re=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,oe={};function le(e,t,n){oe[e]=R(t)?t:function(e,a){return e&&n?n:t}}function ce(e,t){return c(oe,e)?oe[e](t._strict,t._locale):new RegExp(ue(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,a,i){return t||n||a||i})))}function ue(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var de={};function pe(e,t){var n,a=t;for("string"==typeof e&&(e=[e]),r(t)&&(a=function(e,n){n[t]=v(e)}),n=0;n<e.length;n++)de[e[n]]=a}function _e(e,t){pe(e,function(e,n,a,i){a._w=a._w||{},t(e,a._w,a,i)})}function he(e,t,n){null!=t&&c(de,e)&&de[e](t,n._a,n,e)}var fe=0,Ee=1,me=2,ge=3,Te=4,be=5,ve=6,Ie=7,Se=8;function Ae(e){return Oe(e)?366:365}function Oe(e){return e%4==0&&e%100!=0||e%400==0}V("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),V(0,["YY",2],0,function(){return this.year()%100}),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),P("year","y"),x("year",1),le("Y",ae),le("YY",Z,W),le("YYYY",ee,z),le("YYYYY",te,Q),le("YYYYYY",te,Q),pe(["YYYYY","YYYYYY"],fe),pe("YYYY",function(e,t){t[fe]=2===e.length?n.parseTwoDigitYear(e):v(e)}),pe("YY",function(e,t){t[fe]=n.parseTwoDigitYear(e)}),pe("Y",function(e,t){t[fe]=parseInt(e,10)}),n.parseTwoDigitYear=function(e){return v(e)+(v(e)>68?1900:2e3)};var ye,Ce=Re("FullYear",!0);function Re(e,t){return function(a){return null!=a?(Ne(this,e,a),n.updateOffset(this,t),this):Le(this,e)}}function Le(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Ne(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&Oe(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),De(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function De(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,a=(t%(n=12)+n)%n;return e+=(t-a)/12,1===a?Oe(e)?29:28:31-a%7%2}ye=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},V("M",["MM",2],"Mo",function(){return this.month()+1}),V("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),V("MMMM",0,0,function(e){return this.localeData().months(this,e)}),P("month","M"),x("month",8),le("M",Z),le("MM",Z,W),le("MMM",function(e,t){return t.monthsShortRegex(e)}),le("MMMM",function(e,t){return t.monthsRegex(e)}),pe(["M","MM"],function(e,t){t[Ee]=v(e)-1}),pe(["MMM","MMMM"],function(e,t,n,a){var i=n._locale.monthsParse(e,a,n._strict);null!=i?t[Ee]=i:p(n).invalidMonth=e});var Pe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,we="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var Me="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function ke(e,t,n){var a,i,s,r=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],a=0;a<12;++a)s=d([2e3,a]),this._shortMonthsParse[a]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[a]=this.months(s,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=ye.call(this._shortMonthsParse,r))?i:null:-1!==(i=ye.call(this._longMonthsParse,r))?i:null:"MMM"===t?-1!==(i=ye.call(this._shortMonthsParse,r))||-1!==(i=ye.call(this._longMonthsParse,r))?i:null:-1!==(i=ye.call(this._longMonthsParse,r))||-1!==(i=ye.call(this._shortMonthsParse,r))?i:null}function xe(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=v(t);else if(!r(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),De(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Fe(e){return null!=e?(xe(this,e),n.updateOffset(this,!0),this):Le(this,"Month")}var Ue=re;var He=re;function je(){function e(e,t){return t.length-e.length}var t,n,a=[],i=[],s=[];for(t=0;t<12;t++)n=d([2e3,t]),a.push(this.monthsShort(n,"")),i.push(this.months(n,"")),s.push(this.months(n,"")),s.push(this.monthsShort(n,""));for(a.sort(e),i.sort(e),s.sort(e),t=0;t<12;t++)a[t]=ue(a[t]),i[t]=ue(i[t]);for(t=0;t<24;t++)s[t]=ue(s[t]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Ye(e,t,n,a,i,s,r){var o;return e<100&&e>=0?(o=new Date(e+400,t,n,a,i,s,r),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,n,a,i,s,r),o}function Ve(e){var t;if(e<100&&e>=0){var n=Array.prototype.slice.call(arguments);n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function Ge(e,t,n){var a=7+t-n;return-((7+Ve(e,0,a).getUTCDay()-t)%7)+a-1}function Be(e,t,n,a,i){var s,r,o=1+7*(t-1)+(7+n-a)%7+Ge(e,a,i);return o<=0?r=Ae(s=e-1)+o:o>Ae(e)?(s=e+1,r=o-Ae(e)):(s=e,r=o),{year:s,dayOfYear:r}}function qe(e,t,n){var a,i,s=Ge(e.year(),t,n),r=Math.floor((e.dayOfYear()-s-1)/7)+1;return r<1?a=r+We(i=e.year()-1,t,n):r>We(e.year(),t,n)?(a=r-We(e.year(),t,n),i=e.year()+1):(i=e.year(),a=r),{week:a,year:i}}function We(e,t,n){var a=Ge(e,t,n),i=Ge(e+1,t,n);return(Ae(e)-a+i)/7}V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),P("week","w"),P("isoWeek","W"),x("week",5),x("isoWeek",5),le("w",Z),le("ww",Z,W),le("W",Z),le("WW",Z,W),_e(["w","ww","W","WW"],function(e,t,n,a){t[a.substr(0,1)]=v(e)});function Ke(e,t){return e.slice(t,7).concat(e.slice(0,t))}V("d",0,"do","day"),V("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),V("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),V("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),P("day","d"),P("weekday","e"),P("isoWeekday","E"),x("day",11),x("weekday",11),x("isoWeekday",11),le("d",Z),le("e",Z),le("E",Z),le("dd",function(e,t){return t.weekdaysMinRegex(e)}),le("ddd",function(e,t){return t.weekdaysShortRegex(e)}),le("dddd",function(e,t){return t.weekdaysRegex(e)}),_e(["dd","ddd","dddd"],function(e,t,n,a){var i=n._locale.weekdaysParse(e,a,n._strict);null!=i?t.d=i:p(n).invalidWeekday=e}),_e(["d","e","E"],function(e,t,n,a){t[a]=v(e)});var ze="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var Qe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var Ze="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Xe(e,t,n){var a,i,s,r=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],a=0;a<7;++a)s=d([2e3,1]).day(a),this._minWeekdaysParse[a]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[a]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[a]=this.weekdays(s,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=ye.call(this._weekdaysParse,r))?i:null:"ddd"===t?-1!==(i=ye.call(this._shortWeekdaysParse,r))?i:null:-1!==(i=ye.call(this._minWeekdaysParse,r))?i:null:"dddd"===t?-1!==(i=ye.call(this._weekdaysParse,r))||-1!==(i=ye.call(this._shortWeekdaysParse,r))||-1!==(i=ye.call(this._minWeekdaysParse,r))?i:null:"ddd"===t?-1!==(i=ye.call(this._shortWeekdaysParse,r))||-1!==(i=ye.call(this._weekdaysParse,r))||-1!==(i=ye.call(this._minWeekdaysParse,r))?i:null:-1!==(i=ye.call(this._minWeekdaysParse,r))||-1!==(i=ye.call(this._weekdaysParse,r))||-1!==(i=ye.call(this._shortWeekdaysParse,r))?i:null}var $e=re;var Je=re;var et=re;function tt(){function e(e,t){return t.length-e.length}var t,n,a,i,s,r=[],o=[],l=[],c=[];for(t=0;t<7;t++)n=d([2e3,1]).day(t),a=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),s=this.weekdays(n,""),r.push(a),o.push(i),l.push(s),c.push(a),c.push(i),c.push(s);for(r.sort(e),o.sort(e),l.sort(e),c.sort(e),t=0;t<7;t++)o[t]=ue(o[t]),l[t]=ue(l[t]),c[t]=ue(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function nt(){return this.hours()%12||12}function at(e,t){V(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function it(e,t){return t._meridiemParse}V("H",["HH",2],0,"hour"),V("h",["hh",2],0,nt),V("k",["kk",2],0,function(){return this.hours()||24}),V("hmm",0,0,function(){return""+nt.apply(this)+F(this.minutes(),2)}),V("hmmss",0,0,function(){return""+nt.apply(this)+F(this.minutes(),2)+F(this.seconds(),2)}),V("Hmm",0,0,function(){return""+this.hours()+F(this.minutes(),2)}),V("Hmmss",0,0,function(){return""+this.hours()+F(this.minutes(),2)+F(this.seconds(),2)}),at("a",!0),at("A",!1),P("hour","h"),x("hour",13),le("a",it),le("A",it),le("H",Z),le("h",Z),le("k",Z),le("HH",Z,W),le("hh",Z,W),le("kk",Z,W),le("hmm",X),le("hmmss",$),le("Hmm",X),le("Hmmss",$),pe(["H","HH"],ge),pe(["k","kk"],function(e,t,n){var a=v(e);t[ge]=24===a?0:a}),pe(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),pe(["h","hh"],function(e,t,n){t[ge]=v(e),p(n).bigHour=!0}),pe("hmm",function(e,t,n){var a=e.length-2;t[ge]=v(e.substr(0,a)),t[Te]=v(e.substr(a)),p(n).bigHour=!0}),pe("hmmss",function(e,t,n){var a=e.length-4,i=e.length-2;t[ge]=v(e.substr(0,a)),t[Te]=v(e.substr(a,2)),t[be]=v(e.substr(i)),p(n).bigHour=!0}),pe("Hmm",function(e,t,n){var a=e.length-2;t[ge]=v(e.substr(0,a)),t[Te]=v(e.substr(a))}),pe("Hmmss",function(e,t,n){var a=e.length-4,i=e.length-2;t[ge]=v(e.substr(0,a)),t[Te]=v(e.substr(a,2)),t[be]=v(e.substr(i))});var st,rt=Re("Hours",!0),ot={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:we,monthsShort:Me,week:{dow:0,doy:6},weekdays:ze,weekdaysMin:Ze,weekdaysShort:Qe,meridiemParse:/[ap]\.?m?\.?/i},lt={},ct={};function ut(e){return e?e.toLowerCase().replace("_","-"):e}function dt(e){var t=null;if(!lt[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=st._abbr,require("./locale/"+e),pt(t)}catch(e){}return lt[e]}function pt(e,t){var n;return e&&((n=s(t)?ht(e):_t(e,t))?st=n:"undefined"!=typeof console&&console.warn),st._abbr}function _t(e,t){if(null!==t){var n,a=ot;if(t.abbr=e,null!=lt[e])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),a=lt[e]._config;else if(null!=t.parentLocale)if(null!=lt[t.parentLocale])a=lt[t.parentLocale]._config;else{if(null==(n=dt(t.parentLocale)))return ct[t.parentLocale]||(ct[t.parentLocale]=[]),ct[t.parentLocale].push({name:e,config:t}),null;a=n._config}return lt[e]=new N(L(a,t)),ct[e]&&ct[e].forEach(function(e){_t(e.name,e.config)}),pt(e),lt[e]}return delete lt[e],null}function ht(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return st;if(!a(e)){if(t=dt(e))return t;e=[e]}return function(e){for(var t,n,a,i,s=0;s<e.length;){for(t=(i=ut(e[s]).split("-")).length,n=(n=ut(e[s+1]))?n.split("-"):null;t>0;){if(a=dt(i.slice(0,t).join("-")))return a;if(n&&n.length>=t&&I(i,n,!0)>=t-1)break;t--}s++}return st}(e)}function ft(e){var t,n=e._a;return n&&-2===p(e).overflow&&(t=n[Ee]<0||n[Ee]>11?Ee:n[me]<1||n[me]>De(n[fe],n[Ee])?me:n[ge]<0||n[ge]>24||24===n[ge]&&(0!==n[Te]||0!==n[be]||0!==n[ve])?ge:n[Te]<0||n[Te]>59?Te:n[be]<0||n[be]>59?be:n[ve]<0||n[ve]>999?ve:-1,p(e)._overflowDayOfYear&&(t<fe||t>me)&&(t=me),p(e)._overflowWeeks&&-1===t&&(t=Ie),p(e)._overflowWeekday&&-1===t&&(t=Se),p(e).overflow=t),e}function Et(e,t,n){return null!=e?e:null!=t?t:n}function mt(e){var t,a,i,s,r,o=[];if(!e._d){for(i=function(e){var t=new Date(n.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[me]&&null==e._a[Ee]&&function(e){var t,n,a,i,s,r,o,l;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)s=1,r=4,n=Et(t.GG,e._a[fe],qe(Pt(),1,4).year),a=Et(t.W,1),((i=Et(t.E,1))<1||i>7)&&(l=!0);else{s=e._locale._week.dow,r=e._locale._week.doy;var c=qe(Pt(),s,r);n=Et(t.gg,e._a[fe],c.year),a=Et(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(l=!0):null!=t.e?(i=t.e+s,(t.e<0||t.e>6)&&(l=!0)):i=s}a<1||a>We(n,s,r)?p(e)._overflowWeeks=!0:null!=l?p(e)._overflowWeekday=!0:(o=Be(n,a,i,s,r),e._a[fe]=o.year,e._dayOfYear=o.dayOfYear)}(e),null!=e._dayOfYear&&(r=Et(e._a[fe],i[fe]),(e._dayOfYear>Ae(r)||0===e._dayOfYear)&&(p(e)._overflowDayOfYear=!0),a=Ve(r,0,e._dayOfYear),e._a[Ee]=a.getUTCMonth(),e._a[me]=a.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=i[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ge]&&0===e._a[Te]&&0===e._a[be]&&0===e._a[ve]&&(e._nextDay=!0,e._a[ge]=0),e._d=(e._useUTC?Ve:Ye).apply(null,o),s=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ge]=24),e._w&&void 0!==e._w.d&&e._w.d!==s&&(p(e).weekdayMismatch=!0)}}var gt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Tt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,bt=/Z|[+-]\d\d(?::?\d\d)?/,vt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],It=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],St=/^\/?Date\((\-?\d+)/i;function At(e){var t,n,a,i,s,r,o=e._i,l=gt.exec(o)||Tt.exec(o);if(l){for(p(e).iso=!0,t=0,n=vt.length;t<n;t++)if(vt[t][1].exec(l[1])){i=vt[t][0],a=!1!==vt[t][2];break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=It.length;t<n;t++)if(It[t][1].exec(l[3])){s=(l[2]||" ")+It[t][0];break}if(null==s)return void(e._isValid=!1)}if(!a&&null!=s)return void(e._isValid=!1);if(l[4]){if(!bt.exec(l[4]))return void(e._isValid=!1);r="Z"}e._f=i+(s||"")+(r||""),Lt(e)}else e._isValid=!1}var Ot=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function yt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}var Ct={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Rt(e){var t,n,a,i,s,r,o,l=Ot.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(l){var c=(t=l[4],n=l[3],a=l[2],i=l[5],s=l[6],r=l[7],o=[yt(t),Me.indexOf(n),parseInt(a,10),parseInt(i,10),parseInt(s,10)],r&&o.push(parseInt(r,10)),o);if(!function(e,t,n){return!e||Qe.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(p(n).weekdayMismatch=!0,n._isValid=!1,!1)}(l[1],c,e))return;e._a=c,e._tzm=function(e,t,n){if(e)return Ct[e];if(t)return 0;var a=parseInt(n,10),i=a%100;return(a-i)/100*60+i}(l[8],l[9],l[10]),e._d=Ve.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),p(e).rfc2822=!0}else e._isValid=!1}function Lt(e){if(e._f!==n.ISO_8601)if(e._f!==n.RFC_2822){e._a=[],p(e).empty=!0;var t,a,i,s,r,o=""+e._i,l=o.length,c=0;for(i=B(e._f,e._locale).match(U)||[],t=0;t<i.length;t++)s=i[t],(a=(o.match(ce(s,e))||[])[0])&&((r=o.substr(0,o.indexOf(a))).length>0&&p(e).unusedInput.push(r),o=o.slice(o.indexOf(a)+a.length),c+=a.length),Y[s]?(a?p(e).empty=!1:p(e).unusedTokens.push(s),he(s,a,e)):e._strict&&!a&&p(e).unusedTokens.push(s);p(e).charsLeftOver=l-c,o.length>0&&p(e).unusedInput.push(o),e._a[ge]<=12&&!0===p(e).bigHour&&e._a[ge]>0&&(p(e).bigHour=void 0),p(e).parsedDateParts=e._a.slice(0),p(e).meridiem=e._meridiem,e._a[ge]=function(e,t,n){var a;if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((a=e.isPM(n))&&t<12&&(t+=12),a||12!==t||(t=0),t):t}(e._locale,e._a[ge],e._meridiem),mt(e),ft(e)}else Rt(e);else At(e)}function Nt(e){var t=e._i,c=e._f;return e._locale=e._locale||ht(e._l),null===t||void 0===c&&""===t?h({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),T(t)?new g(ft(t)):(o(t)?e._d=t:a(c)?function(e){var t,n,a,i,s;if(0===e._f.length)return p(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)s=0,t=E({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Lt(t),_(t)&&(s+=p(t).charsLeftOver,s+=10*p(t).unusedTokens.length,p(t).score=s,(null==a||s<a)&&(a=s,n=t));u(e,n||t)}(e):c?Lt(e):function(e){var t=e._i;s(t)?e._d=new Date(n.now()):o(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=St.exec(e._i);null===t?(At(e),!1===e._isValid&&(delete e._isValid,Rt(e),!1===e._isValid&&(delete e._isValid,n.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):a(t)?(e._a=l(t.slice(0),function(e){return parseInt(e,10)}),mt(e)):i(t)?function(e){if(!e._d){var t=M(e._i);e._a=l([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),mt(e)}}(e):r(t)?e._d=new Date(t):n.createFromInputFallback(e)}(e),_(e)||(e._d=null),e))}function Dt(e,t,n,s,r){var o,l={};return!0!==n&&!1!==n||(s=n,n=void 0),(i(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||a(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=r,l._l=n,l._i=e,l._f=t,l._strict=s,(o=new g(ft(Nt(l))))._nextDay&&(o.add(1,"d"),o._nextDay=void 0),o}function Pt(e,t,n,a){return Dt(e,t,n,a,!1)}n.createFromInputFallback=A("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),n.ISO_8601=function(){},n.RFC_2822=function(){};var wt=A("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Pt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:h()}),Mt=A("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Pt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:h()});function kt(e,t){var n,i;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return Pt();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}var xt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ft(e){var t=M(e),n=t.year||0,a=t.quarter||0,i=t.month||0,s=t.week||t.isoWeek||0,r=t.day||0,o=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===ye.call(xt,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,a=0;a<xt.length;++a)if(e[xt[a]]){if(n)return!1;parseFloat(e[xt[a]])!==v(e[xt[a]])&&(n=!0)}return!0}(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*o*60*60,this._days=+r+7*s,this._months=+i+3*a+12*n,this._data={},this._locale=ht(),this._bubble()}function Ut(e){return e instanceof Ft}function Ht(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function jt(e,t){V(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+F(~~(e/60),2)+t+F(~~e%60,2)})}jt("Z",":"),jt("ZZ",""),le("Z",se),le("ZZ",se),pe(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Vt(se,e)});var Yt=/([\+\-]|\d\d)/gi;function Vt(e,t){var n=(t||"").match(e);if(null===n)return null;var a=((n[n.length-1]||[])+"").match(Yt)||["-",0,0],i=60*a[1]+v(a[2]);return 0===i?0:"+"===a[0]?i:-i}function Gt(e,t){var a,i;return t._isUTC?(a=t.clone(),i=(T(e)||o(e)?e.valueOf():Pt(e).valueOf())-a.valueOf(),a._d.setTime(a._d.valueOf()+i),n.updateOffset(a,!1),a):Pt(e).local()}function Bt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function qt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}n.updateOffset=function(){};var Wt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Kt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function zt(e,t){var n,a,i,s=e,o=null;return Ut(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:r(e)?(s={},t?s[t]=e:s.milliseconds=e):(o=Wt.exec(e))?(n="-"===o[1]?-1:1,s={y:0,d:v(o[me])*n,h:v(o[ge])*n,m:v(o[Te])*n,s:v(o[be])*n,ms:v(Ht(1e3*o[ve]))*n}):(o=Kt.exec(e))?(n="-"===o[1]?-1:1,s={y:Qt(o[2],n),M:Qt(o[3],n),w:Qt(o[4],n),d:Qt(o[5],n),h:Qt(o[6],n),m:Qt(o[7],n),s:Qt(o[8],n)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(i=function(e,t){var n;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=Gt(t,e),e.isBefore(t)?n=Zt(e,t):((n=Zt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(Pt(s.from),Pt(s.to)),(s={}).ms=i.milliseconds,s.M=i.months),a=new Ft(s),Ut(e)&&c(e,"_locale")&&(a._locale=e._locale),a}function Qt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Zt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Xt(e,t){return function(n,a){var i;return null===a||isNaN(+a)||(C(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=a,a=i),$t(this,zt(n="string"==typeof n?+n:n,a),e),this}}function $t(e,t,a,i){var s=t._milliseconds,r=Ht(t._days),o=Ht(t._months);e.isValid()&&(i=null==i||i,o&&xe(e,Le(e,"Month")+o*a),r&&Ne(e,"Date",Le(e,"Date")+r*a),s&&e._d.setTime(e._d.valueOf()+s*a),i&&n.updateOffset(e,r||o))}zt.fn=Ft.prototype,zt.invalid=function(){return zt(NaN)};var Jt=Xt(1,"add"),en=Xt(-1,"subtract");function tn(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),a=e.clone().add(n,"months");return-(n+(t-a<0?(t-a)/(a-e.clone().add(n-1,"months")):(t-a)/(e.clone().add(n+1,"months")-a)))||0}function nn(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ht(e))&&(this._locale=t),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var an=A("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function sn(){return this._locale}var rn=1e3,on=60*rn,ln=60*on,cn=3506328*ln;function un(e,t){return(e%t+t)%t}function dn(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-cn:new Date(e,t,n).valueOf()}function pn(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-cn:Date.UTC(e,t,n)}function _n(e,t){V(0,[e,e.length],0,t)}function hn(e,t,n,a,i){var s;return null==e?qe(this,a,i).year:(t>(s=We(e,a,i))&&(t=s),fn.call(this,e,t,n,a,i))}function fn(e,t,n,a,i){var s=Be(e,t,n,a,i),r=Ve(s.year,0,s.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}V(0,["gg",2],0,function(){return this.weekYear()%100}),V(0,["GG",2],0,function(){return this.isoWeekYear()%100}),_n("gggg","weekYear"),_n("ggggg","weekYear"),_n("GGGG","isoWeekYear"),_n("GGGGG","isoWeekYear"),P("weekYear","gg"),P("isoWeekYear","GG"),x("weekYear",1),x("isoWeekYear",1),le("G",ae),le("g",ae),le("GG",Z,W),le("gg",Z,W),le("GGGG",ee,z),le("gggg",ee,z),le("GGGGG",te,Q),le("ggggg",te,Q),_e(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,a){t[a.substr(0,2)]=v(e)}),_e(["gg","GG"],function(e,t,a,i){t[i]=n.parseTwoDigitYear(e)}),V("Q",0,"Qo","quarter"),P("quarter","Q"),x("quarter",7),le("Q",q),pe("Q",function(e,t){t[Ee]=3*(v(e)-1)}),V("D",["DD",2],"Do","date"),P("date","D"),x("date",9),le("D",Z),le("DD",Z,W),le("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),pe(["D","DD"],me),pe("Do",function(e,t){t[me]=v(e.match(Z)[0])});var En=Re("Date",!0);V("DDD",["DDDD",3],"DDDo","dayOfYear"),P("dayOfYear","DDD"),x("dayOfYear",4),le("DDD",J),le("DDDD",K),pe(["DDD","DDDD"],function(e,t,n){n._dayOfYear=v(e)}),V("m",["mm",2],0,"minute"),P("minute","m"),x("minute",14),le("m",Z),le("mm",Z,W),pe(["m","mm"],Te);var mn=Re("Minutes",!1);V("s",["ss",2],0,"second"),P("second","s"),x("second",15),le("s",Z),le("ss",Z,W),pe(["s","ss"],be);var gn,Tn=Re("Seconds",!1);for(V("S",0,0,function(){return~~(this.millisecond()/100)}),V(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,function(){return 10*this.millisecond()}),V(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),V(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),V(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),V(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),V(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),P("millisecond","ms"),x("millisecond",16),le("S",J,q),le("SS",J,W),le("SSS",J,K),gn="SSSS";gn.length<=9;gn+="S")le(gn,ne);function bn(e,t){t[ve]=v(1e3*("0."+e))}for(gn="S";gn.length<=9;gn+="S")pe(gn,bn);var vn=Re("Milliseconds",!1);V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var In=g.prototype;function Sn(e){return e}In.add=Jt,In.calendar=function(e,t){var a=e||Pt(),i=Gt(a,this).startOf("day"),s=n.calendarFormat(this,i)||"sameElse",r=t&&(R(t[s])?t[s].call(this,a):t[s]);return this.format(r||this.localeData().calendar(s,this,Pt(a)))},In.clone=function(){return new g(this)},In.diff=function(e,t,n){var a,i,s;if(!this.isValid())return NaN;if(!(a=Gt(e,this)).isValid())return NaN;switch(i=6e4*(a.utcOffset()-this.utcOffset()),t=w(t)){case"year":s=tn(this,a)/12;break;case"month":s=tn(this,a);break;case"quarter":s=tn(this,a)/3;break;case"second":s=(this-a)/1e3;break;case"minute":s=(this-a)/6e4;break;case"hour":s=(this-a)/36e5;break;case"day":s=(this-a-i)/864e5;break;case"week":s=(this-a-i)/6048e5;break;default:s=this-a}return n?s:b(s)},In.endOf=function(e){var t;if(void 0===(e=w(e))||"millisecond"===e||!this.isValid())return this;var a=this._isUTC?pn:dn;switch(e){case"year":t=a(this.year()+1,0,1)-1;break;case"quarter":t=a(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=a(this.year(),this.month()+1,1)-1;break;case"week":t=a(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=a(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=a(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=ln-un(t+(this._isUTC?0:this.utcOffset()*on),ln)-1;break;case"minute":t=this._d.valueOf(),t+=on-un(t,on)-1;break;case"second":t=this._d.valueOf(),t+=rn-un(t,rn)-1}return this._d.setTime(t),n.updateOffset(this,!0),this},In.format=function(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=G(this,e);return this.localeData().postformat(t)},In.from=function(e,t){return this.isValid()&&(T(e)&&e.isValid()||Pt(e).isValid())?zt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},In.fromNow=function(e){return this.from(Pt(),e)},In.to=function(e,t){return this.isValid()&&(T(e)&&e.isValid()||Pt(e).isValid())?zt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},In.toNow=function(e){return this.to(Pt(),e)},In.get=function(e){return R(this[e=w(e)])?this[e]():this},In.invalidAt=function(){return p(this).overflow},In.isAfter=function(e,t){var n=T(e)?e:Pt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=w(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},In.isBefore=function(e,t){var n=T(e)?e:Pt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=w(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},In.isBetween=function(e,t,n,a){var i=T(e)?e:Pt(e),s=T(t)?t:Pt(t);return!!(this.isValid()&&i.isValid()&&s.isValid())&&(("("===(a=a||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===a[1]?this.isBefore(s,n):!this.isAfter(s,n)))},In.isSame=function(e,t){var n,a=T(e)?e:Pt(e);return!(!this.isValid()||!a.isValid())&&("millisecond"===(t=w(t)||"millisecond")?this.valueOf()===a.valueOf():(n=a.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},In.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},In.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},In.isValid=function(){return _(this)},In.lang=an,In.locale=nn,In.localeData=sn,In.max=Mt,In.min=wt,In.parsingFlags=function(){return u({},p(this))},In.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:k[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=M(e)),a=0;a<n.length;a++)this[n[a].unit](e[n[a].unit]);else if(R(this[e=w(e)]))return this[e](t);return this},In.startOf=function(e){var t;if(void 0===(e=w(e))||"millisecond"===e||!this.isValid())return this;var a=this._isUTC?pn:dn;switch(e){case"year":t=a(this.year(),0,1);break;case"quarter":t=a(this.year(),this.month()-this.month()%3,1);break;case"month":t=a(this.year(),this.month(),1);break;case"week":t=a(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=a(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=a(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=un(t+(this._isUTC?0:this.utcOffset()*on),ln);break;case"minute":t=this._d.valueOf(),t-=un(t,on);break;case"second":t=this._d.valueOf(),t-=un(t,rn)}return this._d.setTime(t),n.updateOffset(this,!0),this},In.subtract=en,In.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},In.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},In.toDate=function(){return new Date(this.valueOf())},In.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?G(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):R(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",G(n,"Z")):G(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},In.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',a=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+a+"-MM-DD[T]HH:mm:ss.SSS"+i)},In.toJSON=function(){return this.isValid()?this.toISOString():null},In.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},In.unix=function(){return Math.floor(this.valueOf()/1e3)},In.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},In.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},In.year=Ce,In.isLeapYear=function(){return Oe(this.year())},In.weekYear=function(e){return hn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},In.isoWeekYear=function(e){return hn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},In.quarter=In.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},In.month=Fe,In.daysInMonth=function(){return De(this.year(),this.month())},In.week=In.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},In.isoWeek=In.isoWeeks=function(e){var t=qe(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},In.weeksInYear=function(){var e=this.localeData()._week;return We(this.year(),e.dow,e.doy)},In.isoWeeksInYear=function(){return We(this.year(),1,4)},In.date=En,In.day=In.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},In.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},In.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},In.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},In.hour=In.hours=rt,In.minute=In.minutes=mn,In.second=In.seconds=Tn,In.millisecond=In.milliseconds=vn,In.utcOffset=function(e,t,a){var i,s=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Vt(se,e)))return this}else Math.abs(e)<16&&!a&&(e*=60);return!this._isUTC&&t&&(i=Bt(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),s!==e&&(!t||this._changeInProgress?$t(this,zt(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:Bt(this)},In.utc=function(e){return this.utcOffset(0,e)},In.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Bt(this),"m")),this},In.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Vt(ie,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},In.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Pt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},In.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},In.isLocal=function(){return!!this.isValid()&&!this._isUTC},In.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},In.isUtc=qt,In.isUTC=qt,In.zoneAbbr=function(){return this._isUTC?"UTC":""},In.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},In.dates=A("dates accessor is deprecated. Use date instead.",En),In.months=A("months accessor is deprecated. Use month instead",Fe),In.years=A("years accessor is deprecated. Use year instead",Ce),In.zone=A("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),In.isDSTShifted=A("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!s(this._isDSTShifted))return this._isDSTShifted;var e={};if(E(e,this),(e=Nt(e))._a){var t=e._isUTC?d(e._a):Pt(e._a);this._isDSTShifted=this.isValid()&&I(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var An=N.prototype;function On(e,t,n,a){var i=ht(),s=d().set(a,t);return i[n](s,e)}function yn(e,t,n){if(r(e)&&(t=e,e=void 0),e=e||"",null!=t)return On(e,t,n,"month");var a,i=[];for(a=0;a<12;a++)i[a]=On(e,a,n,"month");return i}function Cn(e,t,n,a){"boolean"==typeof e?(r(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,r(t)&&(n=t,t=void 0),t=t||"");var i,s=ht(),o=e?s._week.dow:0;if(null!=n)return On(t,(n+o)%7,a,"day");var l=[];for(i=0;i<7;i++)l[i]=On(t,(i+o)%7,a,"day");return l}An.calendar=function(e,t,n){var a=this._calendar[e]||this._calendar.sameElse;return R(a)?a.call(t,n):a},An.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},An.invalidDate=function(){return this._invalidDate},An.ordinal=function(e){return this._ordinal.replace("%d",e)},An.preparse=Sn,An.postformat=Sn,An.relativeTime=function(e,t,n,a){var i=this._relativeTime[n];return R(i)?i(e,t,n,a):i.replace(/%d/i,e)},An.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return R(n)?n(t):n.replace(/%s/i,t)},An.set=function(e){var t,n;for(n in e)R(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},An.months=function(e,t){return e?a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Pe).test(t)?"format":"standalone"][e.month()]:a(this._months)?this._months:this._months.standalone},An.monthsShort=function(e,t){return e?a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Pe.test(t)?"format":"standalone"][e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},An.monthsParse=function(e,t,n){var a,i,s;if(this._monthsParseExact)return ke.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),a=0;a<12;a++){if(i=d([2e3,a]),n&&!this._longMonthsParse[a]&&(this._longMonthsParse[a]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[a]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[a]||(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[a]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[a].test(e))return a;if(n&&"MMM"===t&&this._shortMonthsParse[a].test(e))return a;if(!n&&this._monthsParse[a].test(e))return a}},An.monthsRegex=function(e){return this._monthsParseExact?(c(this,"_monthsRegex")||je.call(this),e?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=He),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},An.monthsShortRegex=function(e){return this._monthsParseExact?(c(this,"_monthsRegex")||je.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=Ue),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},An.week=function(e){return qe(e,this._week.dow,this._week.doy).week},An.firstDayOfYear=function(){return this._week.doy},An.firstDayOfWeek=function(){return this._week.dow},An.weekdays=function(e,t){var n=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ke(n,this._week.dow):e?n[e.day()]:n},An.weekdaysMin=function(e){return!0===e?Ke(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},An.weekdaysShort=function(e){return!0===e?Ke(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},An.weekdaysParse=function(e,t,n){var a,i,s;if(this._weekdaysParseExact)return Xe.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),a=0;a<7;a++){if(i=d([2e3,1]).day(a),n&&!this._fullWeekdaysParse[a]&&(this._fullWeekdaysParse[a]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[a]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[a]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[a]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[a]=new RegExp(s.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[a].test(e))return a;if(n&&"ddd"===t&&this._shortWeekdaysParse[a].test(e))return a;if(n&&"dd"===t&&this._minWeekdaysParse[a].test(e))return a;if(!n&&this._weekdaysParse[a].test(e))return a}},An.weekdaysRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||tt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=$e),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},An.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||tt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Je),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},An.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||tt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=et),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},An.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},An.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},pt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===v(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),n.lang=A("moment.lang is deprecated. Use moment.locale instead.",pt),n.langData=A("moment.langData is deprecated. Use moment.localeData instead.",ht);var Rn=Math.abs;function Ln(e,t,n,a){var i=zt(t,n);return e._milliseconds+=a*i._milliseconds,e._days+=a*i._days,e._months+=a*i._months,e._bubble()}function Nn(e){return e<0?Math.floor(e):Math.ceil(e)}function Dn(e){return 4800*e/146097}function Pn(e){return 146097*e/4800}function wn(e){return function(){return this.as(e)}}var Mn=wn("ms"),kn=wn("s"),xn=wn("m"),Fn=wn("h"),Un=wn("d"),Hn=wn("w"),jn=wn("M"),Yn=wn("Q"),Vn=wn("y");function Gn(e){return function(){return this.isValid()?this._data[e]:NaN}}var Bn=Gn("milliseconds"),qn=Gn("seconds"),Wn=Gn("minutes"),Kn=Gn("hours"),zn=Gn("days"),Qn=Gn("months"),Zn=Gn("years");var Xn=Math.round,$n={ss:44,s:45,m:45,h:22,d:26,M:11};function Jn(e,t,n,a,i){return i.relativeTime(t||1,!!n,e,a)}var ea=Math.abs;function ta(e){return(e>0)-(e<0)||+e}function na(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=ea(this._milliseconds)/1e3,a=ea(this._days),i=ea(this._months);e=b(n/60),t=b(e/60),n%=60,e%=60;var s=b(i/12),r=i%=12,o=a,l=t,c=e,u=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var p=d<0?"-":"",_=ta(this._months)!==ta(d)?"-":"",h=ta(this._days)!==ta(d)?"-":"",f=ta(this._milliseconds)!==ta(d)?"-":"";return p+"P"+(s?_+s+"Y":"")+(r?_+r+"M":"")+(o?h+o+"D":"")+(l||c||u?"T":"")+(l?f+l+"H":"")+(c?f+c+"M":"")+(u?f+u+"S":"")}var aa=Ft.prototype;return aa.isValid=function(){return this._isValid},aa.abs=function(){var e=this._data;return this._milliseconds=Rn(this._milliseconds),this._days=Rn(this._days),this._months=Rn(this._months),e.milliseconds=Rn(e.milliseconds),e.seconds=Rn(e.seconds),e.minutes=Rn(e.minutes),e.hours=Rn(e.hours),e.months=Rn(e.months),e.years=Rn(e.years),this},aa.add=function(e,t){return Ln(this,e,t,1)},aa.subtract=function(e,t){return Ln(this,e,t,-1)},aa.as=function(e){if(!this.isValid())return NaN;var t,n,a=this._milliseconds;if("month"===(e=w(e))||"quarter"===e||"year"===e)switch(t=this._days+a/864e5,n=this._months+Dn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Pn(this._months)),e){case"week":return t/7+a/6048e5;case"day":return t+a/864e5;case"hour":return 24*t+a/36e5;case"minute":return 1440*t+a/6e4;case"second":return 86400*t+a/1e3;case"millisecond":return Math.floor(864e5*t)+a;default:throw new Error("Unknown unit "+e)}},aa.asMilliseconds=Mn,aa.asSeconds=kn,aa.asMinutes=xn,aa.asHours=Fn,aa.asDays=Un,aa.asWeeks=Hn,aa.asMonths=jn,aa.asQuarters=Yn,aa.asYears=Vn,aa.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12):NaN},aa._bubble=function(){var e,t,n,a,i,s=this._milliseconds,r=this._days,o=this._months,l=this._data;return s>=0&&r>=0&&o>=0||s<=0&&r<=0&&o<=0||(s+=864e5*Nn(Pn(o)+r),r=0,o=0),l.milliseconds=s%1e3,e=b(s/1e3),l.seconds=e%60,t=b(e/60),l.minutes=t%60,n=b(t/60),l.hours=n%24,r+=b(n/24),o+=i=b(Dn(r)),r-=Nn(Pn(i)),a=b(o/12),o%=12,l.days=r,l.months=o,l.years=a,this},aa.clone=function(){return zt(this)},aa.get=function(e){return e=w(e),this.isValid()?this[e+"s"]():NaN},aa.milliseconds=Bn,aa.seconds=qn,aa.minutes=Wn,aa.hours=Kn,aa.days=zn,aa.weeks=function(){return b(this.days()/7)},aa.months=Qn,aa.years=Zn,aa.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var a=zt(e).abs(),i=Xn(a.as("s")),s=Xn(a.as("m")),r=Xn(a.as("h")),o=Xn(a.as("d")),l=Xn(a.as("M")),c=Xn(a.as("y")),u=i<=$n.ss&&["s",i]||i<$n.s&&["ss",i]||s<=1&&["m"]||s<$n.m&&["mm",s]||r<=1&&["h"]||r<$n.h&&["hh",r]||o<=1&&["d"]||o<$n.d&&["dd",o]||l<=1&&["M"]||l<$n.M&&["MM",l]||c<=1&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=n,Jn.apply(null,u)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},aa.toISOString=na,aa.toString=na,aa.toJSON=na,aa.locale=nn,aa.localeData=sn,aa.toIsoString=A("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",na),aa.lang=an,V("X",0,0,"unix"),V("x",0,0,"valueOf"),le("x",ae),le("X",/[+-]?\d+(\.\d{1,3})?/),pe("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),pe("x",function(e,t,n){n._d=new Date(v(e))}),n.version="2.24.0",e=Pt,n.fn=In,n.min=function(){return kt("isBefore",[].slice.call(arguments,0))},n.max=function(){return kt("isAfter",[].slice.call(arguments,0))},n.now=function(){return Date.now?Date.now():+new Date},n.utc=d,n.unix=function(e){return Pt(1e3*e)},n.months=function(e,t){return yn(e,t,"months")},n.isDate=o,n.locale=pt,n.invalid=h,n.duration=zt,n.isMoment=T,n.weekdays=function(e,t,n){return Cn(e,t,n,"weekdays")},n.parseZone=function(){return Pt.apply(null,arguments).parseZone()},n.localeData=ht,n.isDuration=Ut,n.monthsShort=function(e,t){return yn(e,t,"monthsShort")},n.weekdaysMin=function(e,t,n){return Cn(e,t,n,"weekdaysMin")},n.defineLocale=_t,n.updateLocale=function(e,t){if(null!=t){var n,a,i=ot;null!=(a=dt(e))&&(i=a._config),(n=new N(t=L(i,t))).parentLocale=lt[e],lt[e]=n,pt(e)}else null!=lt[e]&&(null!=lt[e].parentLocale?lt[e]=lt[e].parentLocale:null!=lt[e]&&delete lt[e]);return lt[e]},n.locales=function(){return O(lt)},n.weekdaysShort=function(e,t,n){return Cn(e,t,n,"weekdaysShort")},n.normalizeUnits=w,n.relativeTimeRounding=function(e){return void 0===e?Xn:"function"==typeof e&&(Xn=e,!0)},n.relativeTimeThreshold=function(e,t){return void 0!==$n[e]&&(void 0===t?$n[e]:($n[e]=t,"s"===e&&($n.ss=t-1),!0))},n.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},n.prototype=In,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n}),define("app/constants/facets",[],function(){"use strict";var e="compatible_app",t="mime_type",n="people.ethnicity",a="stock_people",i="illustrative",s="stock_undiscovered",r="is_loop",o="stock_price_tiers",l="stock_image_type",c="stock_resolution_license",u="stock_video_fps",d="shot_size",p="shot_angle",_="orientation",h="3d_type",f="stock_editorial",E="stock_category_ids",m="asset_type",g="stock_copyspace_type",T="stock_isolated",b="gentech",v="stock_generic_attributes",I="icon_sheet",S="single_icon",A="usage_category";return{FACET_ASSET_TYPE:m,FACET_COMPATIBLE_APP:e,FACET_COPY_SPACE:g,FACET_MIME_TYPE:t,FACET_ETHNICITY:n,FACET_PEOPLE:a,FACET_GENTECH:b,FACET_ILLUSTRATIVE:i,FACET_UNDISCOVERED:s,FACET_LOCAL_ARTISTS:"content_country",FACET_IS_LOOP:r,FACET_PRICE:o,FACET_IMAGE_AND_PREMIUM_SUBCATEGORY:l,FACET_VIDEO_SUBCAT:c,FACET_VIDEO_FPS:u,FACET_VIDEO_SHOT_SIZE:d,FACET_VIDEO_SHOT_ANGLE:p,FACET_ORIENTATION:_,FACET_3D_SUBCATEGORY:h,FACET_EDITORIAL:f,FACET_CATEGORY_IDS:E,FACET_ISOLATED:T,FACET_STOCK_GENERIC_ATTRIBUTES:v,FACET_ICON_SINGLE:S,FACET_ICON_SHEET:I,FACET_USAGE_CATEGORY:A,SUPPORTED_FACETS:[m,e,t,n,a,b,i,s,r,o,l,_,c,u,d,p,h,f,E,g,T,v,I,S,A]}}),define("app/utils/searchData",["jquery","lodash","page_config","i18n-config","app/constants/assetTypeFilters","app/constants/facets","app/constants/searchFilters"],function(e,t,n,a,i,s,r){"use strict";var o=2,l=1;function c(e,n){var a=n?"."+n:"";return t.get(e,"search.facets"+a,{})}function u(e){return!d(e)}function d(e){var n=t.get(e,"search.facets")||{};return Object.keys(n).length<1}function p(e){return!t.get(e,"member.stockProfile.default_entitlement.is_cce",!1)}function _(e,t){return{should_allow_order_filter:h(t),should_show_asset_types_filter:f(e,t),should_show_asset_types_filter_templates:m(e),should_show_asset_types_filter_3d:g(e),should_show_asset_types_filter_video:E(e),should_show_price_filter:b(e,t),should_show_price_filter_info_icon:p(t),should_show_app_filter:v(e,t),should_show_images_subcat_filter:I(e,t),should_show_isolated_filter:S(e,t),should_show_background_filter:y(e,t),should_show_transparent_filter:C(e,t),should_show_icon_filter:A(e,t),should_show_icon_sheet_filter:O(e,t,s.FACET_ICON_SHEET),should_show_icon_single_filter:O(e,t,s.FACET_ICON_SINGLE),should_show_undiscovered_filter:B(e,t),should_show_local_artists_filter:q(e,t),should_show_looping_filter:W(e,t),should_show_gentech_filter:V(e,t),should_show_mime_type_filter:Q(e,t),should_show_videos_subcat_filter:R(e,t),should_show_video_frame_rate_filter:L(e,t),should_show_video_shot_size_filter:D(e,t),should_show_video_shot_angle_filter:P(e,t),should_show_videos_duration_filter:w(e,t),should_show_templates_subcat_filter:M(e,t),should_show_3d_subcat_filter:k(e,t),should_show_editorial_date_range_filter:F(e),should_show_editorial_subcat_filter:x(e,t),should_show_ethnicity_filter:U(e,t),should_show_orientation_filter:H(e,t),should_show_aesthetic_filters:j(e,t),should_show_people_filter:Y(e,t),should_show_illustrative_filter:G(e,t),should_show_color_filter:z(e,t),should_show_copy_space_filter:K(e,t),should_show_safe_search_filter:X(e),should_show_size_filter:Z(e,t),asset_type_facets:c(t,s.FACET_ASSET_TYPE),ethnicity_facets:c(t,s.ETHNICITY),ethnicity_options:r.SUPPORTED_ETHNICITIES,ethnicity_options_label_map:(l={},l[r.ETHNICITY_BLACK]=a.gettext("SEARCH::FILTERS::Black"),l[r.ETHNICITY_EAST_ASIAN]=a.gettext("SEARCH::FILTERS::East Asian"),l[r.ETHNICITY_HISPANIC]=a.gettext("SEARCH::FILTERS::Hispanic or Latinx"),l[r.ETHNICITY_INDIGENOUS]=a.gettext("SEARCH::FILTERS::Indigenous"),l[r.ETHNICITY_MIDDLE_EASTERN]=a.gettext("SEARCH::FILTERS::Middle Eastern"),l[r.ETHNICITY_MULTIRACIAL]=a.gettext("SEARCH::FILTERS::Multiracial"),l[r.ETHNICITY_PACIFIC_ISLANDER]=a.gettext("SEARCH::FILTERS::Pacific Islander"),l[r.ETHNICITY_SOUTH_ASIAN]=a.gettext("SEARCH::FILTERS::South Asian"),l[r.ETHNICITY_SOUTHEAST_ASIAN]=a.gettext("SEARCH::FILTERS::Southeast Asian"),l[r.ETHNICITY_WHITE]=a.gettext("SEARCH::FILTERS::White"),l),orientation_facets:c(t,s.FACET_ORIENTATION),image_sub_and_premium_sub_category_facets:c(t,s.FACET_IMAGE_AND_PREMIUM_SUBCATEGORY),compatible_app_facets:c(t,s.FACET_COMPATIBLE_APP),mime_type_facets:c(t,s.FACET_MIME_TYPE),mime_type_options:r.SUPPORTED_TEMPLATE_TYPES,mime_type_options_label_map:(o={},o[r.MIME_TYPE_FILTER_VALUE_PHOTOSHOP]="Photoshop",o[r.MIME_TYPE_FILTER_VALUE_ILLUSTRATOR]="Illustrator",o[r.MIME_TYPE_FILTER_VALUE_INDESIGN]="InDesign",o[r.MIME_TYPE_FILTER_VALUE_AFTER_EFFECTS]="After Effects",o[r.MIME_TYPE_FILTER_VALUE_PREMIERE_PRO]="Premiere Pro",o[r.MIME_TYPE_FILTER_VALUE_MOTION_GRAPHICS]="Motion Graphics",o),threeD_sub_category_facets:c(t,s.FACET_3D_SUBCATEGORY),usage_category_facets:c(t,s.FACET_USAGE_CATEGORY),usage_category_options:r.USAGE_CATEGORY.FILTER_OPTIONS,category_facets:c(t,s.FACET_CATEGORY_IDS),frame_rate_facets:c(t,s.FACET_VIDEO_FPS),shot_size_facets:c(t,s.FACET_VIDEO_SHOT_SIZE),shot_size_options:r.VIDEO_SHOT_SIZE_OPTIONS,shot_size_options_label_map:(i={},i[r.VIDEO_SHOT_SIZE_LONG_SHOT]=a.gettext("SEARCH::FILTERS::Long Shot"),i[r.VIDEO_SHOT_SIZE_CLOSE_UP]=a.gettext("SEARCH::FILTERS::Close Up"),i[r.VIDEO_SHOT_SIZE_MEDIUM_SHOT]=a.gettext("SEARCH::FILTERS::Medium Shot"),i[r.VIDEO_SHOT_SIZE_EXTREME_CLOSE_UP]=a.gettext("SEARCH::FILTERS::Extreme Close Up"),i[r.VIDEO_SHOT_SIZE_EXTREME_LONG_SHOT]=a.gettext("SEARCH::FILTERS::Extreme Long Shot"),i),shot_angle_facets:c(t,s.FACET_VIDEO_SHOT_ANGLE),shot_angle_options:r.VIDEO_SHOT_ANGLE_OPTIONS,shot_angle_options_label_map:(n={},n[r.VIDEO_SHOT_ANGLE_TOP_DOWN]=a.gettext("SEARCH::FILTERS::Top Down"),n[r.VIDEO_SHOT_ANGLE_AERIAL]=a.gettext("SEARCH::FILTERS::Aerial"),n[r.VIDEO_SHOT_ANGLE_HIGH_ANGLE]=a.gettext("SEARCH::FILTERS::High Angle"),n[r.VIDEO_SHOT_ANGLE_LOW_ANGLE]=a.gettext("SEARCH::FILTERS::Low Angle"),n[r.VIDEO_SHOT_ANGLE_EYE_LEVEL]=a.gettext("SEARCH::FILTERS::Eye Level"),n),copy_space_facets:c(t,s.FACET_COPY_SPACE),should_apply_facets:Ee.shouldApplyFacets(t),selected_ethnicity_options:oe(t),selected_fps_options:se(t),selected_mime_type_options:le(t),selected_shot_size_options:ce(t),selected_shot_angle_options:ue(t),selected_copy_space:de(t),selected_isolated_option:pe(t),size_options:_e(t),is_template:"templates"===e};var n,i,o,l}function h(e){return!he(e)}function f(e,t){switch(e){case i.ALL:return $(s.FACET_ASSET_TYPE,t);case i.PREMIUM:case i.EDITORIAL:return!Ee.shouldApplyFacets(t)||$(s.FACET_ASSET_TYPE,t);case i.FREE:return!!n.isFreeEnabled&&(!Ee.shouldApplyFacets(t)||$(s.FACET_ASSET_TYPE,t));default:return!1}}function E(e){switch(e){case i.ALL:case i.EDITORIAL:return!0;case i.FREE:return n.isFreeEnabled;default:return!1}}function m(e){switch(e){case i.ALL:return!0;case i.PREMIUM:return n.isTemplatesEnabled;case i.FREE:return n.isTemplatesEnabled&&n.isFreeEnabled;default:return!1}}function g(e){switch(e){case i.ALL:return!0;case i.PREMIUM:return n.is3DEnabled;case i.FREE:return n.is3DEnabled&&n.isFreeEnabled;default:return!1}}function T(e){var t=[i.VECTORS,i.ILLUSTRATIONS,i.PHOTOS];return n.isNavbarV2Enabled&&t.includes(e)}function b(e,t){var a=!1;if(n.isGloballySafeCollectionEnabled)return!1;switch(T(e)&&(e=i.IMAGES),e){case i.ALL:case i.IMAGES:if(a=!0,Ee.isOnlyVideoContentTypeFilterEnabled(t))return!1;break;case i.TEMPLATES:case i.THREED:a=!0;break;default:return!1}return Ee.shouldApplyFacets(t)&&($(s.FACET_PRICE,t)||(a=!1)),a}function v(e,t){var n=!1;if(e===i.TEMPLATES)n=!0;else Ee.isOnlyTemplateContentTypeFilterEnabled(t)&&(n=!0);return n&&Ee.shouldApplyFacets(t)&&(n=$(s.FACET_COMPATIBLE_APP,t,1)),n}function I(e,t){if(fe(t.filters))return!1;if(T(e))return!1;switch(e){case i.IMAGES:return!Ee.shouldApplyFacets(t)||$(s.FACET_IMAGE_AND_PREMIUM_SUBCATEGORY,t);case i.ALL:case i.PREMIUM:return!!ee(t)&&(!Ee.shouldApplyFacets(t)||$(s.FACET_IMAGE_AND_PREMIUM_SUBCATEGORY,t));case i.FREE:return!!n.isFreeEnabled&&(!!ee(t)&&(!Ee.shouldApplyFacets(t)||$(s.FACET_IMAGE_AND_PREMIUM_SUBCATEGORY,t)));default:return!1}}function S(e,t){var a,o=!1;switch(a=ie(r.CONTENT_TYPE_PHOTO,t)||ie(r.CONTENT_TYPE_ILLUSTRATION,t)||ie(r.CONTENT_TYPE_VECTOR,t)||ie(r.CONTENT_TYPE_VIDEO,t),T(e)&&(e=i.IMAGES),e){case i.ALL:o=a;break;case i.IMAGES:case i.VIDEOS:o=!0;break;case i.FREE:o=a&&n.isFreeEnabled;break;default:return!1}return Ee.shouldApplyFacets(t)&&(o=$(s.FACET_ISOLATED,t)),o}function A(e,t){return O(e,t,s.FACET_ICON_SHEET)||O(e,t,s.FACET_ICON_SINGLE)}function O(e,n,a){var o=!1,l=ae(r.CONTENT_TYPE_VIDEO,n),u=ae(r.CONTENT_TYPE_3D,n),d=ae(r.CONTENT_TYPE_TEMPLATE,n);switch(e){case i.IMAGES:case i.VECTORS:case i.ILLUSTRATIONS:case i.PHOTOS:o=!0;break;case i.ALL:case i.PREMIUM:case i.FREE:o=!(l||u||d);break;default:o=!1}if(Ee.shouldApplyFacets(n))if(c(n,s.STOCK_GENERIC_ATTRIBUTES)){var p=a?"."+a:"";o=t.get(n,"search.facets.stock_generic_attributes"+p,{})>=1}else o=!1;return o}function y(e,t){return S(e,t)||C(e,t)}function C(e,t){var n=!1,a=ae(r.CONTENT_TYPE_VIDEO,t),s=ae(r.CONTENT_TYPE_3D,t),o=ae(r.CONTENT_TYPE_TEMPLATE,t);switch(T(e)&&(e=i.IMAGES),e){case i.IMAGES:n=!0;break;case i.ALL:case i.PREMIUM:case i.FREE:n=!(a||s||o);break;default:n=!1}return n}function R(e,a){var r=!1;switch(e){case i.VIDEOS:r=!0;break;case i.ALL:case i.EDITORIAL:if(!Ee.isOnlyVideoContentTypeFilterEnabled(a))return!1;r=!0;break;case i.FREE:if(!Ee.isOnlyVideoContentTypeFilterEnabled(a))return!1;r=n.isFreeEnabled;break;default:return!1}return Ee.shouldApplyFacets(a)&&(t.get(a,"search.facets."+s.FACET_VIDEO_SUBCAT,{}).four_k||(r=!1)),r}function L(e,t){var a=!1;switch(e){case i.ALL:if(!Ee.isOnlyVideoContentTypeFilterEnabled(t))return!1;a=!0;break;case i.VIDEOS:a=!0;break;case i.EDITORIAL:ne(t)&&(a=!0);break;case i.FREE:ne(t)&&(a=n.isFreeEnabled);break;default:return!1}return a&&Ee.shouldApplyFacets(t)&&(a=$(s.FACET_VIDEO_FPS,t)),a}function N(e,t,a){if(!n.isVideoShotSizeAndAngleFiltersEnabled)return!1;var s=!1;switch(t){case i.ALL:case i.EDITORIAL:s=ne(a);break;case i.VIDEOS:s=!0;break;case i.FREE:s=n.isFreeEnabled&&ne(a);break;default:return!1}return s&&u(a)&&(s=$(e,a)),s}function D(e,t){return N(s.FACET_VIDEO_SHOT_SIZE,e,t)}function P(e,t){return N(s.FACET_VIDEO_SHOT_ANGLE,e,t)}function w(e,t){var a=!1;switch(e){case i.ALL:if(!Ee.isOnlyVideoContentTypeFilterEnabled(t))return!1;a=!0;break;case i.VIDEOS:a=!0;break;case i.EDITORIAL:ne(t)&&(a=!0);break;case i.FREE:ne(t)&&(a=n.isFreeEnabled);break;default:return!1}return a}function M(e,t){var n=!1;if(e===i.TEMPLATES)n=!0;else{if(!Ee.isOnlyTemplateContentTypeFilterEnabled(t))return!1;n=!0}return Ee.shouldApplyFacets(t)&&(n=$(s.FACET_USAGE_CATEGORY,t)),n}function k(e,t){var a=!1;switch(e){case i.THREED:a=!0;break;case i.ALL:case i.PREMIUM:if(!Ee.isOnly3DContentTypeFilterEnabled(t))return!1;a=!0;break;case i.FREE:if(!Ee.isOnly3DContentTypeFilterEnabled(t))return!1;a=n.isFreeEnabled;break;default:return!1}return Ee.shouldApplyFacets(t)&&(a=$(s.FACET_3D_SUBCATEGORY,t)),a}function x(e,t){var n=!1;return e===i.EDITORIAL&&(n=!0,Ee.shouldApplyFacets(t)&&(n=$(s.FACET_CATEGORY_IDS,t)),n)}function F(e){var t;if(e===i.EDITORIAL)t=!0;else t=!1;return t}function U(e,n){var a=!1;switch(e){case i.ALL:case i.FREE:case i.PREMIUM:Ee.isOnly3DContentTypeFilterEnabled(n)||(a=!0);break;case i.IMAGES:case i.VIDEOS:case i.TEMPLATES:a=!0}if(a&&Ee.shouldApplyFacets(n)){var r,o,l=t.get(n,"search.facets")||{},c=0;const e=1;if(l.hasOwnProperty(s.FACET_ETHNICITY)){if(r=l[s.FACET_ETHNICITY],(o=Object.keys(r)).length<e)return!1;for(var u=0;u<o.length;u++)r[o[u]]>0&&c++;a=c>=e}else a=!1}return a}function H(e,t){switch(T(e)&&(e=i.IMAGES),e){case i.IMAGES:case i.VIDEOS:return!Ee.shouldApplyFacets(t)||$(s.FACET_ORIENTATION,t);case i.TEMPLATES:return!!n.isOrientationForTemplatesEnabled&&(!Ee.shouldApplyFacets(t)||$(s.FACET_ORIENTATION,t));case i.ALL:case i.PREMIUM:case i.EDITORIAL:return!(!ee(t)&&!te(t))&&(!Ee.shouldApplyFacets(t)||$(s.FACET_ORIENTATION,t));case i.FREE:return!!n.isFreeEnabled&&(!(!ee(t)&&!te(t))&&(!Ee.shouldApplyFacets(t)||$(s.FACET_ORIENTATION,t)));default:return!1}}function j(e,t){var a,s;switch(e){case i.ALL:case i.IMAGES:case i.PREMIUM:return!he(t)&&(a=Ee.isOnlyPhotoContentTypeFilterEnabled(t),s=Ee.areAllImageRelatedContentTypeFiltersEnabled(t),a||s);case i.FREE:return!!n.isFreeEnabled&&(!he(t)&&(a=Ee.isOnlyPhotoContentTypeFilterEnabled(t),s=Ee.areAllImageRelatedContentTypeFiltersEnabled(t),a||s));default:return!1}}function Y(e,t){var a,o=!1;switch(a=ie(r.CONTENT_TYPE_IMAGE,t)||ie(r.CONTENT_TYPE_VIDEO,t),T(e)&&(e=i.IMAGES),e){case i.IMAGES:case i.VIDEOS:o=!0;break;case i.ALL:case i.PREMIUM:o=a;break;case i.FREE:o=a&&n.isFreeEnabled;break;default:o=!1}return Ee.shouldApplyFacets(t)&&(o=$(s.FACET_PEOPLE,t)),o}function V(e,t){var a,o=!1;switch(a=ie(r.CONTENT_TYPE_IMAGE,t)||ie(r.CONTENT_TYPE_VIDEO,t),T(e)&&(e=i.IMAGES),e){case i.IMAGES:case i.VIDEOS:o=!0;break;case i.ALL:case i.PREMIUM:case i.THREED:case i.TEMPLATES:o=a;break;case i.FREE:o=a&&n.isFreeEnabled;break;default:o=!1}return Ee.shouldApplyFacets(t)&&(o=J(s.FACET_GENTECH,t)),o}function G(e,t){var a,r=!1;switch(a=ee(t),T(e)&&(e=i.IMAGES),e){case i.IMAGES:r=!0;break;case i.ALL:case i.PREMIUM:r=a;break;case i.FREE:r=a&&n.isFreeEnabled;break;default:r=!1}return Ee.shouldApplyFacets(t)&&(r=J(s.FACET_ILLUSTRATIVE,t)),r}function B(e,t){var n,a=!1;switch(n=ee(t),T(e)&&(e=i.IMAGES),e){case i.IMAGES:a=!0;break;case i.ALL:case i.PREMIUM:a=n;break;default:a=!1}return Ee.shouldApplyFacets(t)&&(a=$(s.FACET_UNDISCOVERED,t,1)),a}function q(e,t){var n=!0;return e!==i.THREE_D&&(n=!0,Ee.shouldApplyFacets(t)&&(n=$(s.FACET_LOCAL_ARTISTS,t,1)),n)}function W(e,t){var n=!1;switch(e){case i.VIDEOS:n=!0;break;case i.ALL:case i.FREE:Ee.isOnlyVideoContentTypeFilterEnabled(t)&&(n=!0)}return n&&Ee.shouldApplyFacets(t)&&(n=$(s.FACET_IS_LOOP,t,1)),n}function K(e,t){switch(T(e)&&(e=i.IMAGES),e){case i.IMAGES:return!Ee.shouldApplyFacets(t)||Object.keys(c(t,s.FACET_COPY_SPACE)).length;case i.PREMIUM:case i.ALL:return!!ee(t)&&(!Ee.shouldApplyFacets(t)||Object.keys(c(t,s.FACET_COPY_SPACE)).length);case i.FREE:return!!n.isFreeEnabled&&(!!ee(t)&&(!Ee.shouldApplyFacets(t)||Object.keys(c(t,s.FACET_COPY_SPACE)).length));default:return!1}}function z(e,t){switch(T(e)&&(e=i.IMAGES),e){case i.VIDEOS:case i.ALL:if(Ee.isOnly3DContentTypeFilterEnabled(t)||Ee.isOnlyTemplateContentTypeFilterEnabled(t))return!1;case i.IMAGES:case i.EDITORIAL:case i.PREMIUM:return!0;case i.FREE:return n.isFreeEnabled;default:return!1}}function Q(e,t){var n=!1;if(e===i.TEMPLATES)n=!0;else Ee.isOnlyTemplateContentTypeFilterEnabled(t)&&(n=!0);return n&&Ee.shouldApplyFacets(t)&&(n=$(s.FACET_MIME_TYPE,t)),n}function Z(e,t){switch(T(e)&&(e=i.IMAGES),e){case i.IMAGES:return!0;case i.ALL:case i.PREMIUM:case i.EDITORIAL:return ee(t);case i.FREE:return ee(t)&&n.isFreeEnabled;default:return!1}}function X(e){var t=!1,a=n.force_safe_search;if(n.isGloballySafeCollectionEnabled)return!1;switch(e){case i.ALL:case i.IMAGES:case i.VIDEOS:case i.TEMPLATES:case i.THREED:case i.EDITORIAL:case i.PREMIUM:a||(t=!0);break;case i.FREE:a||(t=n.isFreeEnabled);break;default:t=!1}return t}function $(e,n,a){var i,s,r=0;if(a||(a=o),d(n))return!0;if(i=t.get(n,"search.facets."+e,{}),(s=Object.keys(i)).length<a)return!1;for(var l=0;l<s.length;l++)i[s[l]]>0&&r++;return r>=a}function J(e,n){return!!d(n)||t.get(n,"search.facets.stock_generic_attributes."+e,0)>=l}function ee(e){var n=t.get(e,"filters.filters",{});return!(!n[r.CONTENT_TYPE_IMAGE]||!(n[r.CONTENT_TYPE_PHOTO]||n[r.CONTENT_TYPE_ILLUSTRATION]||n[r.CONTENT_TYPE_VECTOR]))}function te(e){return!!t.get(e,"filters.filters",{})[r.CONTENT_TYPE_VIDEO]}function ne(e){return ae(r.CONTENT_TYPE_VIDEO,e)}function ae(e,t){return!!ie(e,t)&&1===Ee.getEnabledAssetContentTypeFilters(t).length}function ie(e,n){return!!t.get(n,"filters.filters",{})[e]}function se(e){var n=t.get(e,"filters."+r.FILTERS+"."+r.VIDEO_FRAME_RATE,[]),a=Object.keys(c(e,s.FACET_VIDEO_FPS)),i=a.length>0?a:r.VIDEO_FRAME_RATE_OPTIONS,o={all:1},l={};return n.length?(n.forEach(function(e){i.indexOf(e)>=0&&(l[e]=1)}),Object.keys(l).length===i.length?o:l):o}function re(e,n){var a=t.get(n,"filters."+r.FILTERS+"."+e.name,[]),i=Object.keys(c(n,e.facet)),s=i.length>0?i:e.options,o={all:1},l={};return a.length?(a.forEach(function(e){s.indexOf(e)>=0&&(l[e]=1)}),Object.keys(l).length===s.length?o:l):o}function oe(e){return re({name:r.ETHNICITY,facet:s.FACET_ETHNICITY,options:r.SUPPORTED_ETHNICITIES},e)}function le(e){return re({name:r.MIME_TYPE,facet:s.FACET_MIME_TYPE,options:r.SUPPORTED_TEMPLATE_TYPES},e)}function ce(e){return re({name:r.VIDEO_SHOT_SIZE,facet:s.FACET_VIDEO_SHOT_SIZE,options:r.VIDEO_SHOT_SIZE_OPTIONS},e)}function ue(e){return re({name:r.VIDEO_SHOT_ANGLE,facet:s.FACET_VIDEO_SHOT_ANGLE,options:r.VIDEO_SHOT_ANGLE_OPTIONS},e)}function de(e){var n=t.get(e,"filters."+r.FILTERS+"."+r.COPY_SPACE,""),a={};if(n){switch(n){case r.COPY_SPACE_ALL:a[r.COPY_SPACE_NATURAL]=1,a[r.COPY_SPACE_MANUFACTURED]=1;break;case r.COPY_SPACE_NATURAL:a[r.COPY_SPACE_NATURAL]=1;break;case r.COPY_SPACE_MANUFACTURED:a[r.COPY_SPACE_MANUFACTURED]=1;break;default:a=void 0}return a}}function pe(e){var n=t.get(e,"filters."+r.FILTERS+"."+r.ISOLATED);return n===r.ISOLATED_HIDE||n===r.ISOLATED_ONLY?n:r.ISOLATED_ALL}function _e(e){var n={},a=r.FILTERS+"."+r.FILTERS+".",i=t.get(e,a+r.SIZE_PIXELS_WIDTH_MIN,null),s=t.get(e,a+r.SIZE_PIXELS_HEIGHT_MIN,null),o=t.get(e,a+r.SIZE_MEGA_PIXELS_MIN,null);return n[r.SIZE]=null!==o?r.SIZE_MEGA_PIXELS:r.SIZE_PIXELS,i&&(n[r.SIZE_PIXELS_WIDTH_MIN]=i),s&&(n[r.SIZE_PIXELS_HEIGHT_MIN]=s),o&&(n[r.SIZE_MEGA_PIXELS_MIN]=o),n}function he(e){return!n.is_mobile&&(t.get(e.filters,r.SIMILAR_CONTENT_ID)||t.get(e.filters,r.NATIVE_VISUAL_SEARCH))}function fe(e){var n=t.get(e,r.SCORING+"."+r.DEPTH_OF_FIELD,r.DEPTH_OF_FIELD_DEFAULT_SCORING)!==r.DEPTH_OF_FIELD_DEFAULT_SCORING,a=t.get(e,r.SCORING+"."+r.VIVID_COLOR,r.VIVID_COLOR_DEFAULT_SCORING)!==r.VIVID_COLOR_DEFAULT_SCORING;return n||a}var Ee={isAestheticFilterSet:fe,isFindSimilarControlsSearch:he,isEligibleSubcategory:T,getData:_,getFacets:c,getViewData:function(t,n,a){return e.extend({},t,_(n,a))},shouldAllowOrderFilter:h,shouldShowEditorialDateRangeFilter:F,shouldShowEthnicityFilter:U,shouldShowAestheticFilters:j,shouldShowAssetTypesFilter3d:g,shouldShowAssetTypesFilterTemplates:m,shouldShowAssetTypesFilterVideo:E,shouldShowPeopleFilter:Y,shouldShowGentechFilter:V,shouldShowIllustrativeFilter:G,shouldShowPrice:b,shouldShowPriceInfoIcon:p,shouldShowVideosDurationFilter:w,shouldShowAppFilter:v,shouldShowColorFilter:z,bypassFacets:d,shouldShowCopySpace:K,shouldShowEditorialSubcategoryFilter:x,shouldShowVideoFrameRateFilter:L,shouldShowVideoShotSizeFilter:D,shouldShowVideoShotAngleFilter:P,shouldShowVideosSubcatFilter:R,shouldShowImagesSubcatFilter:I,shouldShowIsolatedFilter:S,shouldShowIconFilter:A,shouldShowIconFilterByType:O,shouldShowBackgroundFilter:y,shouldShowTransparentFilter:C,shouldShowUndiscoveredFilter:B,shouldShowLocalArtistsFilter:q,shouldShowLoopingFilter:W,shouldShowMimeTypeFilter:Q,shouldShowSizeFilter:Z,shouldShowTemplatesSubcatFilter:M,shouldShowOrientationFilter:H,shouldShow3dSubcatFilter:k,shouldApplyFacets:u,isOnlyTemplateContentTypeFilterEnabled:function(e){return ae(r.CONTENT_TYPE_TEMPLATE,e)},isOnly3DContentTypeFilterEnabled:function(e){return ae(r.CONTENT_TYPE_3D,e)},isOnlyVideoContentTypeFilterEnabled:ne,areAllImageRelatedContentTypeFiltersEnabled:function(e){var n=t.get(e,"filters.filters",{});return!!(n[r.CONTENT_TYPE_IMAGE]&&n[r.CONTENT_TYPE_PHOTO]&&n[r.CONTENT_TYPE_ILLUSTRATION]&&n[r.CONTENT_TYPE_VECTOR])},isAnyImageRelatedContentTypeFiltersEnabled:ee,isOnlyPhotoContentTypeFilterEnabled:function(e){var n=t.get(e,"filters.filters",{});return!!n[r.CONTENT_TYPE_PHOTO]&&(!n[r.CONTENT_TYPE_ILLUSTRATION]&&!n[r.CONTENT_TYPE_VECTOR])},getEnabledAssetContentTypeFilters:function(e){var n=t.get(e,"filters.filters",{}),a=[];return Object.keys(n).forEach(function(e){r.SUPPORTED_CONTENT_TYPES.indexOf(e)>-1&&1===n[e]&&a.push(e)}),a},getSelectedFrameRateOptions:se,getSelectedCopySpace:de,getSelectedMimeTypeOptions:le,getSelectedUsageCategories:function(e){return re({name:r.USAGE_CATEGORY.FILTER_NAME,facet:s.FACET_USAGE_CATEGORY,options:Object.keys(r.USAGE_CATEGORY.FILTER_OPTIONS)},e)},shouldShowSafeSearchFilter:X};return Ee}),define("app/reducers/breadcrumbs",["jquery","lodash","moment","page_config","app/actions/actionTypes","app/utils/reducerHelpers","app/utils/searchData","app/constants/searchFilters","app/constants/assetTypeFilters","lib/utils","app/constants/templateTypes","i18n"],function(e,t,n,a,i,s,r,o,l,c,u,d){"use strict";var p=a.filtersText,_={all:[o.CONTENT_TYPE_IMAGE,o.CONTENT_TYPE_VIDEO,o.CONTENT_TYPE_TEMPLATE,o.CONTENT_TYPE_3D],premium:[o.CONTENT_TYPE_IMAGE,o.CONTENT_TYPE_TEMPLATE,o.CONTENT_TYPE_3D],editorial:[o.CONTENT_TYPE_IMAGE,o.CONTENT_TYPE_VIDEO]},h=[o.COMPATIBLE_APP,o.PRICE_CLIENT_LOW,o.PRICE_CLIENT_HIGH,o.THREE_D_TYPE,o.VIDEO_IS_4K,o.CONTENT_TYPE_VIDEO,o.CONTENT_TYPE_TEMPLATE,o.CONTENT_TYPE_3D,o.MIME_TYPE,o.USAGE_CATEGORY.FILTER_NAME,o.VIDEO_FRAME_RATE,o.VIDEO_DURATION,o.IS_LOOP,o.VIDEO_SHOT_ANGLE,o.VIDEO_SHOT_SIZE],f=[o.COMPATIBLE_APP,o.CONTENT_TYPE_ILLUSTRATION,o.CONTENT_TYPE_PHOTO,o.CONTENT_TYPE_VECTOR,o.THREE_D_TYPE,o.VIDEO_IS_4K,o.CONTENT_TYPE_IMAGE,o.CONTENT_TYPE_VIDEO,o.CONTENT_TYPE_TEMPLATE,o.CONTENT_TYPE_3D,o.MIME_TYPE,o.USAGE_CATEGORY.FILTER_NAME,o.VIDEO_FRAME_RATE,o.VIDEO_DURATION,o.IS_LOOP,o.VIDEO_SHOT_ANGLE,o.VIDEO_SHOT_SIZE],E=[o.COMPATIBLE_APP,o.THREE_D_TYPE,o.VIDEO_IS_4K,o.VIDEO_FRAME_RATE,o.VIDEO_DURATION_MAX,o.VIDEO_DURATION_MIN,o.VIDEO_SHOT_SIZE,o.VIDEO_SHOT_ANGLE,o.IS_LOOP,o.PRICE_CLIENT_LOW,o.PRICE_CLIENT_HIGH,o.MIME_TYPE,o.USAGE_CATEGORY.FILTER_NAME,o.COPY_SPACE],m=[o.COMPATIBLE_APP,o.CONTENT_TYPE_ILLUSTRATION,o.CONTENT_TYPE_PHOTO,o.CONTENT_TYPE_VECTOR,o.DEPTH_OF_FIELD,o.PRICE_CLIENT_HIGH,o.PRICE_CLIENT_LOW,o.THREE_D_TYPE,o.VIVID_COLOR,o.CONTENT_TYPE_IMAGE,o.CONTENT_TYPE_VIDEO,o.CONTENT_TYPE_TEMPLATE,o.CONTENT_TYPE_3D,o.COPY_SPACE,o.SIZE,o.SIZE_PIXELS_WIDTH_MIN,o.SIZE_PIXELS_HEIGHT_MIN,o.SIZE_MEGA_PIXELS_MIN,o.ILLUSTRATIVE,o.ILLUSTRATIVE_INCLUDE,o.ILLUSTRATIVE_EXCLUDE,o.ICON_SINGLE,o.ICON_SHEET,o.MIME_TYPE,o.USAGE_CATEGORY.FILTER_NAME],g=[o.COLOR,o.CONTENT_TYPE_ILLUSTRATION,o.CONTENT_TYPE_PHOTO,o.CONTENT_TYPE_VECTOR,o.DEPTH_OF_FIELD,o.EXCLUDE_PEOPLE,o.INCLUDE_PEOPLE,o.ORIENTATION,o.PRICE_CLIENT_HIGH,o.PRICE_CLIENT_LOW,o.THREE_D_TYPE,o.VIDEO_IS_4K,o.VIVID_COLOR,o.CONTENT_TYPE_IMAGE,o.CONTENT_TYPE_VIDEO,o.CONTENT_TYPE_TEMPLATE,o.CONTENT_TYPE_3D,o.VIDEO_FRAME_RATE,o.VIDEO_DURATION,o.COPY_SPACE,o.ISOLATED,o.SIZE,o.SIZE_PIXELS_WIDTH_MIN,o.SIZE_PIXELS_HEIGHT_MIN,o.SIZE_MEGA_PIXELS_MIN,o.ILLUSTRATIVE,o.ILLUSTRATIVE_INCLUDE,o.ILLUSTRATIVE_EXCLUDE,o.IS_LOOP,o.ICON_SINGLE,o.ICON_SHEET,o.VIDEO_SHOT_ANGLE,o.VIDEO_SHOT_SIZE],T=[o.COLOR,o.COMPATIBLE_APP,o.CONTENT_TYPE_ILLUSTRATION,o.CONTENT_TYPE_PHOTO,o.CONTENT_TYPE_VECTOR,o.DEPTH_OF_FIELD,o.ETHNICITY,o.EXCLUDE_PEOPLE,o.INCLUDE_PEOPLE,o.ORIENTATION,o.PRICE_CLIENT_HIGH,o.PRICE_CLIENT_LOW,o.VIDEO_IS_4K,o.VIVID_COLOR,o.CONTENT_TYPE_IMAGE,o.CONTENT_TYPE_VIDEO,o.CONTENT_TYPE_TEMPLATE,o.CONTENT_TYPE_3D,o.VIDEO_FRAME_RATE,o.VIDEO_DURATION,o.COPY_SPACE,o.ISOLATED,o.SIZE,o.SIZE_PIXELS_WIDTH_MIN,o.SIZE_PIXELS_HEIGHT_MIN,o.SIZE_MEGA_PIXELS_MIN,o.ILLUSTRATIVE,o.ILLUSTRATIVE_INCLUDE,o.ILLUSTRATIVE_EXCLUDE,o.IS_LOOP,o.LOCAL_ARTISTS,o.ICON_SINGLE,o.ICON_SHEET,o.MIME_TYPE,o.USAGE_CATEGORY.FILTER_NAME,o.VIDEO_SHOT_ANGLE,o.VIDEO_SHOT_SIZE],b=[o.COMPATIBLE_APP,o.THREE_D_TYPE,o.VIDEO_IS_4K,o.PRICE_CLIENT_HIGH,o.PRICE_CLIENT_LOW,o.ETHNICITY,o.EXCLUDE_PEOPLE,o.INCLUDE_PEOPLE,o.CONTENT_TYPE_IMAGE,o.CONTENT_TYPE_VIDEO,o.CONTENT_TYPE_TEMPLATE,o.CONTENT_TYPE_3D,o.VIDEO_FRAME_RATE,o.VIDEO_DURATION,o.COPY_SPACE,o.ISOLATED,o.IS_LOOP,o.ICON_SINGLE,o.ICON_SHEET,o.MIME_TYPE,o.USAGE_CATEGORY.FILTER_NAME,o.VIDEO_SHOT_ANGLE,o.VIDEO_SHOT_SIZE],v=[o.COMPATIBLE_APP,o.PRICE_CLIENT_LOW,o.PRICE_CLIENT_HIGH,o.THREE_D_TYPE,o.VIDEO_IS_4K,o.CONTENT_TYPE_VIDEO,o.CONTENT_TYPE_TEMPLATE,o.CONTENT_TYPE_3D,o.VIDEO_FRAME_RATE,o.VIDEO_DURATION,o.ISOLATED,o.IS_LOOP,o.MIME_TYPE,o.USAGE_CATEGORY.FILTER_NAME,o.VIDEO_SHOT_ANGLE,o.VIDEO_SHOT_SIZE];function I(){var e,n=t.get(a,"page_data.filter_asset_type");return e=F({},s.getDefaultFilterState()),a.category&&(e=M(e,a.category.id)),S(e),x(e=O(e=A(e)),n),a.isGloballySafeCollectionEnabled&&$(e),e}function S(e){var t={search:{facets:a.facets},filters:a.search_params};r.getSelectedFrameRateOptions(t).all&&delete e[o.VIDEO_FRAME_RATE]}function A(e){var n=a.search_params;return X(e,t.get(n,o.FILTERS+"."+o.VIDEO_DURATION_MIN,o.VIDEO_DURATION_DEFAULT_MIN),t.get(n,o.FILTERS+"."+o.VIDEO_DURATION_MAX,o.VIDEO_DURATION_DEFAULT_MAX))}function O(e){var n=a.search_params,i=t.get(n,o.FILTERS+"."+o.SIZE_MEGA_PIXELS_MIN),s=t.get(n,o.FILTERS+"."+o.SIZE_PIXELS_WIDTH_MIN),r=t.get(n,o.FILTERS+"."+o.SIZE_PIXELS_HEIGHT_MIN),l={};return i&&(l[o.SIZE_MEGA_PIXELS_MIN]=i),s&&(l[o.SIZE_PIXELS_WIDTH_MIN]=s),r&&(l[o.SIZE_PIXELS_HEIGHT_MIN]=r),V(e,l)}function y(e,t){var n=!1;return e[o.CATEGORY]&&(n=Object.keys(e[o.CATEGORY]).some(function(e){if(!s.isCategoryCompatibleWithAssetType(t,e))return!0})),n}function C(e,n){var i=[];switch(n){case l.ALL:i.push(o.PRICE_CLIENT_HIGH,o.PRICE_CLIENT_LOW),i=i.concat(f);break;case l.IMAGES:case l.ILLUSTRATIONS:case l.VECTORS:case l.PHOTOS:e[o.PRICE_CLIENT_LOW]={1:t.get(p,o.PRICE_CLIENT_LOW+".1")},i=f;break;case l.EDITORIAL:i=b;break;case l.VIDEOS:i=m;break;case l.TEMPLATES:i=g;break;case l.THREED:i=T;break;case l.FREE:a.isFreeEnabled&&(e[o.CONTENT_TYPE_IMAGE]={1:t.get(p,o.CONTENT_TYPE_IMAGE+".1")},i=h);break;default:return}a.isGloballySafeCollectionEnabled&&i.push(o.SAFE_SEARCH,o.PRICE_CLIENT_LOW),i.push(o.PRICE_CLIENT_HIGH),y(e,n)&&i.push(o.CATEGORY),i.forEach(function(t){delete e[t]})}function R(e){e[o.CONTENT_TYPE_PHOTO]&&e[o.CONTENT_TYPE_ILLUSTRATION]&&e[o.CONTENT_TYPE_VECTOR]&&(delete e[o.CONTENT_TYPE_PHOTO],delete e[o.CONTENT_TYPE_ILLUSTRATION],delete e[o.CONTENT_TYPE_VECTOR])}function L(e){e[o.INCLUDE_PEOPLE]&&e[o.EXCLUDE_PEOPLE]&&(delete e[o.INCLUDE_PEOPLE],delete e[o.EXCLUDE_PEOPLE])}function N(e){s.isAestheticFilterEnabled(e)&&(delete e[o.CONTENT_TYPE_ILLUSTRATION],delete e[o.CONTENT_TYPE_VECTOR],e[o.CONTENT_TYPE_PHOTO]={},e[o.CONTENT_TYPE_PHOTO][1]=p[o.CONTENT_TYPE_PHOTO][1])}function D(e,t){var n=e[o.ORIENTATION],a="templates"==t?o.VALID_ORIENTATIONS_TEMPLATES:o.VALID_ORIENTATIONS;n&&Object.keys(n).length===a.length&&delete e[o.ORIENTATION]}function P(e,t){t[o.COLOR]?(delete e[o.COLOR],e[o.COLOR]={},e[o.COLOR][t[o.COLOR]]=t[o.COLOR]):""===t[o.COLOR]&&delete e[o.COLOR]}function w(e,t){var a,i,s="";t[o.FILTERS]&&(t[o.FILTERS][o.EDITORIAL_EVENT_DATE_START]&&t[o.FILTERS][o.EDITORIAL_EVENT_DATE_END]?(delete e[o.EDITORIAL_DATE_RANGE],a=t[o.FILTERS][o.EDITORIAL_EVENT_DATE_START],i=t[o.FILTERS][o.EDITORIAL_EVENT_DATE_END],s=n(a).add(o.EDITORIAL_DATE_OFFSET_AMOUNT,o.EDITORIAL_DATE_OFFSET_UNIT).format(n.localeData().longDateFormat("L"))+" - "+n(i).subtract(o.EDITORIAL_DATE_OFFSET_AMOUNT,o.EDITORIAL_DATE_OFFSET_UNIT).format(n.localeData().longDateFormat("L")),e[o.EDITORIAL_DATE_RANGE]={},e[o.EDITORIAL_DATE_RANGE][s]=s):""===t[o.FILTERS][o.EDITORIAL_EVENT_DATE_START]&&""===t[o.FILTERS][o.EDITORIAL_EVENT_DATE_END]&&delete e[o.EDITORIAL_DATE_RANGE])}function M(e,t){return-1===o.EDITORIAL_CATEGORIES.indexOf(t)&&(e[o.CATEGORY]={},e[o.CATEGORY][t]=a.category.name),e}function k(e,t){var n="";t[o.FILTERS]&&t[o.FILTERS][o.ORIENTATION]&&(n=t[o.FILTERS][o.ORIENTATION],e[o.ORIENTATION]={},c.getMultipleOrientationFilters(n).forEach(function(t){e[o.ORIENTATION][t]=p[o.ORIENTATION][t]}))}function x(e,t){var n=_[t];switch(t){case l.PREMIUM:delete e[o.PRICE_CLIENT_HIGH];break;case l.IMAGES:delete e[o.CONTENT_TYPE_IMAGE];break;case l.VIDEOS:delete e[o.CONTENT_TYPE_VIDEO];break;case l.TEMPLATES:delete e[o.CONTENT_TYPE_TEMPLATE];break;case l.THREED:delete e[o.CONTENT_TYPE_3D]}n&&n.every(function(t){return e[t]})&&n.forEach(function(t){delete e[t]})}function F(e,n){var i,s;return Object.keys(n).forEach(function(t){var a=n[t];c.isObject(a)?Object.keys(a).forEach(function(t){e=U(e,t,a[t])}):e=U(e,t,a)}),P(e,n),w(e,n),k(e,n),i=e,s=t.get(a,"page_data.filter_asset_type"),R(i),L(i),N(i),D(i,s),e}function U(t,n,a){return p[n]&&(delete t[n],t[n]={},Array.isArray(a)?a.forEach(function(e){p[n][e]&&(t[n][e]=p[n][e])}):p[n][a]&&(t[n][a]=p[n][a]),e.isEmptyObject(t[n])&&delete t[n]),t}function H(e){return delete e[o.CONTENT_TYPE_PHOTO],delete e[o.CONTENT_TYPE_ILLUSTRATION],delete e[o.CONTENT_TYPE_VECTOR],e}function j(t,n){var a=e.extend({},t);return Object.keys(n).forEach(function(e){delete a[e]}),a=H(a)}function Y(n,a){var i=e.extend(!0,{},n),s=t.get(a,o.CONTENT_TYPE_IMAGE,!1),r=t.get(a,o.CONTENT_TYPE_PHOTO,!1),l=t.get(a,o.CONTENT_TYPE_ILLUSTRATION,!1),c=t.get(a,o.CONTENT_TYPE_VECTOR,!1),u=r&&l&&c;return i=H(i),u||(r&&(i[o.CONTENT_TYPE_PHOTO]={1:t.get(p,o.CONTENT_TYPE_PHOTO+"."+a[o.CONTENT_TYPE_PHOTO])}),l&&(i[o.CONTENT_TYPE_ILLUSTRATION]={1:t.get(p,o.CONTENT_TYPE_ILLUSTRATION+"."+a[o.CONTENT_TYPE_ILLUSTRATION])}),c&&(i[o.CONTENT_TYPE_VECTOR]={1:t.get(p,o.CONTENT_TYPE_VECTOR+"."+a[o.CONTENT_TYPE_VECTOR])}),s&&(delete i[o.CONTENT_TYPE_VIDEO],delete i[o.CONTENT_TYPE_3D],delete i[o.CONTENT_TYPE_TEMPLATE],i[o.CONTENT_TYPE_IMAGE]={1:t.get(p,o.CONTENT_TYPE_IMAGE+"."+a[o.CONTENT_TYPE_IMAGE])}),N(i)),i}function V(t,n){var a=e.extend(!0,{},t),i={};return delete a[o.SIZE_MEGA_PIXELS_MIN],delete a[o.SIZE_PIXELS_WIDTH_MIN],delete a[o.SIZE_PIXELS_HEIGHT_MIN],n[o.SIZE_MEGA_PIXELS_MIN]&&(i[o.SIZE_MEGA_PIXELS_MIN]=G(o.SIZE_MEGA_PIXELS_MIN,n[o.SIZE_MEGA_PIXELS_MIN])),n[o.SIZE_PIXELS_WIDTH_MIN]&&(i[o.SIZE_PIXELS_WIDTH_MIN]=G(o.SIZE_PIXELS_WIDTH_MIN,n[o.SIZE_PIXELS_WIDTH_MIN])),n[o.SIZE_PIXELS_HEIGHT_MIN]&&(i[o.SIZE_PIXELS_HEIGHT_MIN]=G(o.SIZE_PIXELS_HEIGHT_MIN,n[o.SIZE_PIXELS_HEIGHT_MIN])),Object.keys(i).length>0&&(a=e.extend(a,i)),a}function G(e,n){var a=t.get(p,o.SIZE+"."+e);return{text:d.sprintf(a,n)}}function B(t,n,a,i){var s=e.extend(!0,{},t);return a?(delete s[i],s):U(s,i,n)}function q(e,t,n){return B(e,t,n,o.ETHNICITY)}function W(e,t,n){return B(e,t,n,o.VIDEO_FRAME_RATE)}function K(e,t,n){return B(e,t,n,o.MIME_TYPE)}function z(e,t,n){return B(e,t,n,o.VIDEO_SHOT_SIZE)}function Q(e,t,n){return B(e,t,n,o.VIDEO_SHOT_ANGLE)}function Z(e,t,n){return B(e,t,n,o.USAGE_CATEGORY.FILTER_NAME)}function X(t,n,a){var i=e.extend(!0,{},t),s=c.formatVideoDurationInput(n,o.VIDEO_DURATION_DEFAULT_MAX)+"  "+c.formatVideoDurationInput(a,o.VIDEO_DURATION_DEFAULT_MAX);return n==o.VIDEO_DURATION_DEFAULT_MIN&&a==o.VIDEO_DURATION_DEFAULT_MAX?(delete i[o.VIDEO_DURATION],i):(i[o.VIDEO_DURATION]={text:s},i)}function $(e){e[o.SAFE_SEARCH]&&delete e[o.SAFE_SEARCH],e[o.PRICE_CLIENT_HIGH]&&delete e[o.PRICE_CLIENT_HIGH],e[o.PRICE_CLIENT_LOW]&&delete e[o.PRICE_CLIENT_LOW]}return{breadcrumbs:p?c.flattenReducers([function(n,a){var s=e.extend({},n);return a.type===i.SET_ASSET_TYPE_TO_PREMIUM?(s[o.CONTENT_TYPE_IMAGE]={1:t.get(p,o.CONTENT_TYPE_IMAGE+".1")},s):n},function(r,l){var c;if(void 0===r)return n.locale(a.locale_code),I();switch(l.type){case i.UPDATE_SEARCH_FILTERS:return F(c=e.extend(!0,{},r),l.filters),c;case i.UPDATE_ASSET_TYPE_FILTER:return l.all?j(r,l.filters):function(n,a){var i=e.extend({},n);return delete i[o.CONTENT_TYPE_IMAGE],delete i[o.CONTENT_TYPE_VIDEO],delete i[o.CONTENT_TYPE_3D],delete i[o.CONTENT_TYPE_TEMPLATE],a[o.CONTENT_TYPE_IMAGE]?(i[o.CONTENT_TYPE_IMAGE]={1:t.get(p,o.CONTENT_TYPE_IMAGE+"."+a[o.CONTENT_TYPE_IMAGE])},i):(i=H(i),a[o.CONTENT_TYPE_VIDEO]?(i[o.CONTENT_TYPE_VIDEO]={1:t.get(p,o.CONTENT_TYPE_VIDEO+"."+a[o.CONTENT_TYPE_VIDEO])},delete i[o.PRICE_CLIENT_HIGH],delete i[o.TRANSPARENT],i):a[o.CONTENT_TYPE_3D]?(i[o.CONTENT_TYPE_3D]={1:t.get(p,o.CONTENT_TYPE_3D+"."+a[o.CONTENT_TYPE_3D])},delete i[o.TRANSPARENT],i):a[o.CONTENT_TYPE_TEMPLATE]?(i[o.CONTENT_TYPE_TEMPLATE]={1:t.get(p,o.CONTENT_TYPE_TEMPLATE+"."+a[o.CONTENT_TYPE_TEMPLATE])},delete i[o.TRANSPARENT],i):i)}(r,l.filters);case i.CLEAR_ASSET_TYPE_BREADCRUMB:return j(r,l.filters);case i.UPDATE_ETHNICITY_FILTER:return q(r,l.ethnicity,l.areAllSelected);case i.UPDATE_IMAGE_SUBCATEGORY_FILTER:return Y(r,l.filters);case i.UPDATE_FRAME_RATE_FILTER:return W(r,l.frameRates,l.areAllSelected);case i.UPDATE_MIME_TYPE_FILTER:return K(r,l.mimeType,l.areAllSelected);case i.UPDATE_SHOT_SIZE_FILTER:return z(r,l.shotSize,l.areAllSelected);case i.UPDATE_SHOT_ANGLE_FILTER:return Q(r,l.shotAngle,l.areAllSelected);case i.UPDATE_DURATION_FILTER:return X(r,l.min,l.max);case i.UPDATE_IS_LOOP_FILTER:return function(n,a){var i=e.extend(!0,{},n),s=t.get(a,o.IS_LOOP,o.IS_LOOP_ALL);return delete i[o.IS_LOOP],s===o.IS_LOOP_ONLY?U(i,o.IS_LOOP,s):i}(r,l.filters);case i.UPDATE_COPY_SPACE_FILTER:return U(c=Y(c=e.extend(!0,{},r),l.filters),o.COPY_SPACE,l.value);case i.UPDATE_ISOLATED_FILTER:return function(n,a){var i=e.extend(!0,{},n),s=t.get(a,o.ISOLATED,o.ISOLATED_ALL);return delete i[o.ISOLATED],s===o.ISOLATED_ONLY?U(i,o.ISOLATED,s):i}(r,l.filters);case i.UPDATE_BACKGROUND_FILTER:return function(n,a){var i=e.extend(!0,{},n),s=t.get(a,o.ISOLATED,o.ISOLATED_ALL),r=t.get(a,o.TRANSPARENT,o.TRANSPARENT_ALL);return s===o.ISOLATED_ONLY&&r===o.TRANSPARENT_ONLY?U(i,i.isolated?o.TRANSPARENT:o.ISOLATED,i.isolated?r:s):(delete i[o.TRANSPARENT],delete i[o.ISOLATED],s===o.ISOLATED_ONLY?U(i,o.ISOLATED,s):r===o.TRANSPARENT_ONLY?U(i,o.TRANSPARENT,r):i)}(r,l.filters);case i.UPDATE_ICON_FILTER:return function(n,a){var i=e.extend(!0,{},n),s=t.get(a,o.ICON_SHEET,o.ICON_ALL),r=t.get(a,o.ICON_SINGLE,o.ICON_ALL);return s===o.ICON_ONLY&&r===o.ICON_ONLY?U(i,i.icon_sheet?o.ICON_SINGLE:o.ICON_SHEET,i.icon_sheet?r:s):(delete i[o.ICON_SINGLE],delete i[o.ICON_SHEET],s===o.ICON_ONLY?U(i,o.ICON_SHEET,s):r===o.ICON_ONLY?U(i,o.ICON_SINGLE,r):i)}(r,l.filters);case i.UPDATE_UNDISCOVERED_FILTER:return function(n,a){var i=e.extend(!0,{},n),s=t.get(a,o.UNDISCOVERED,o.UNDISCOVERED_ALL);return delete i[o.UNDISCOVERED],s===o.UNDISCOVERED_ONLY?U(i,o.UNDISCOVERED,s):i}(r,l.filters);case i.UPDATE_LOCAL_ARTISTS_FILTER:return function(n,a){var i=e.extend(!0,{},n),s=t.get(a,o.LOCAL_ARTISTS,o.LOCAL_ARTISTS_ALL);return delete i[o.LOCAL_ARTISTS],s===o.LOCAL_ARTISTS_ONLY?U(i,o.LOCAL_ARTISTS,s):i}(r,l.filters);case i.UPDATE_ILLUSTRATIVE_FILTER:return function(n,a){var i=e.extend(!0,{},n),s=t.get(a,o.ILLUSTRATIVE,o.ILLUSTRATIVE_ALL);return delete i[o.ILLUSTRATIVE],U(i,o.ILLUSTRATIVE,s)}(r,l.filters);case i.UPDATE_GENTECH_FILTER:return function(n,a){var i=e.extend(!0,{},n),s=t.get(a,o.GENTECH,o.GENTECH_ALL);return delete i[o.GENTECH],U(i,o.GENTECH,s)}(r,l.filters);case i.UPDATE_SIZE_FILTER:return V(r,l.value);case i.UPDATE_USAGE_CATEGORY_FILTER:return Z(r,l.usageCategories,l.areAllSelected);case i.CLEAR_SEARCH_FILTERS:return C(c={},l.data.filter_asset_type),c;case i.UPDATE_PAGE_DATA:return c=e.extend(!0,{},r),t.get(l,"data.filter_asset_type")?(C(c,l.data.filter_asset_type),c):c;case i.NAVIGATE_SEARCH_HISTORY:case i.ALERT_UNDO_ACTION:return c={},c=l.previousFilters?F(c,l.previousFilters):I(),l.previousFilters&&l.previousFilters[o.CATEGORY]&&(c=M(c,l.previousFilters[o.CATEGORY])),x(c,l.previousAssetType),c;case i.CLEAR_BREADCRUMB_FILTER:return c=e.extend(!0,{},r),l.filter.key===o.CONTENT_TYPE_PHOTO&&s.isAestheticFilterEnabled(r)||(delete c[l.filter.key][l.filter.value],l.filter.key===o.FIND_SIMILAR_BY&&delete c[l.filter.key],e.isEmptyObject(c[l.filter.key])&&delete c[l.filter.key]),c;case i.MULTI_IMAGE_UPLOAD:return c=e.extend({},r),a.mobile?c:Y(c,l.filters);case i.MULTI_IMAGE_ADD:return c=e.extend({},r),s.isAestheticFilterEnabled(r)&&(delete c[o.VIVID_COLOR],delete c[o.DEPTH_OF_FIELD]),c;default:return r}},function(t,n){var a=e.extend({},t);switch(n.type){case i.SET_ASSET_TYPE_TO_PREMIUM:return delete a[o.PRICE_CLIENT_HIGH],a[o.CATEGORY]&&-1!==o.EDITORIAL_CATEGORIES.indexOf(a[o.CATEGORY])&&delete a[o.CATEGORY],v.forEach(function(e){delete a[e]}),a;case i.UPDATE_ASSET_TYPE_FILTER:var s=[],r="";return n.all===o.ASSET_FILTER_ALL_ON?s=E:n.filters[o.CONTENT_TYPE_3D]?(s=T,r=o.CONTENT_TYPE_3D):n.filters[o.CONTENT_TYPE_VIDEO]?(s=m,r=o.CONTENT_TYPE_VIDEO):n.filters[o.CONTENT_TYPE_TEMPLATE]?(s=g,r=o.CONTENT_TYPE_TEMPLATE):n.filters[o.CONTENT_TYPE_IMAGE]&&(s=f,r=o.CONTENT_TYPE_IMAGE),s.forEach(function(e){e!==r&&delete a[e]}),a;default:return t}}]):{},cleanUpAestheticFilters:N,cleanUpImageTypes:R,cleanUpOrientationFilters:D,cleanUpPeopleFilters:L,filterViewSwitchStates:C,handleColorFilter:P,handleDurationFilterDefaultState:A,handleEditorialDateRangeFilter:w,handleFrameRateFilterDefaultState:S,handleNonEditorialCategoryFilters:M,handleOrientationFilter:k,handleAssetTypeDefaultState:x,imagesIncompatibleFilters:f,needsCategorySwitchState:y,updateEthnicityFilter:q,updateFrameRateFilter:W,updateMimeTypeFilter:K,updateUsageCategoryFilter:Z,updateVideoShotSizeFilter:z,updateVideoShotAngleFilter:Q,updateDurationFilter:X,updateSizeFilter:V,handleSizeFilterDefaultState:O,handleDefaultGloballySafeSearchBreadcrumbs:$}}),define("app/reducers/filtersPanel",["jquery","page_config","app/actions/actionTypes"],function(e,t,n){"use strict";return function(a,i){var s=e.extend({},a);if(void 0===a)return{isVisible:t.show_filter||!1};switch(i.type){case n.OPEN_FILTERS_PANEL.begin:return s.isVisible=!0,s.loading=!0,s;case n.OPEN_FILTERS_PANEL.success:case n.OPEN_FILTERS_PANEL.failure:return s.loading=!1,s;case n.CLOSE_FILTERS_PANEL:return s.isVisible=!1,s;default:return a}}}),define("app/reducers/metadata",["redux","app/reducers/filtersPanel"],function(e,t){"use strict";return e.combineReducers({filtersPanel:t})}),define("app/reducers/multi-image-search",["jquery","page_config","app/actions/actionTypes","app/constants/searchFilters","lib/utils"],function(e,t,n,a,i){"use strict";return{multiImageSearch:function(s,r){if(void 0===s)return t.misData||[];var o,l,c,u,d=e.extend(!0,{},{metadata:[],upload:{}},s),p=r.multiImage?r.multiImage:{},_=d.metadata,h=!1;switch(r.type){case n.MULTI_IMAGE_ADD:return u=p[a.NATIVE_VISUAL_SEARCH]?p[a.NATIVE_VISUAL_SEARCH]:"",c=p[a.FIND_SIMILAR_BY]?p[a.FIND_SIMILAR_BY]:"all",o=p.contentId?p.contentId:r.contentId,u?(l={native_content_id:Number(u),find_similar_by:c},d.upload.id=u,d.upload.findSimilarBy=r.multiImage[a.FIND_SIMILAR_BY]):l={contentId:Number(o),thumbnail:p.thumbnail,thumbnail_240:p.thumbnail_240,title:p.title,content_url:p.content_url,find_similar_by:c,isVideo:r.isVideo},d.metadata.forEach(function(e){(u&&e.native_content_id===l.native_content_id||e.contentId===l.contentId)&&(h=!0)}),h||d.metadata.push(l),d;case n.MULTI_IMAGE_UPLOAD:return d.upload={},d;case n.MULTI_IMAGE_REMOVE:return(d=e.extend(!0,{},s))[a.SIMILAR_CONTENT_ID]=void 0,d;case n.UPDATE_FIND_SIMILAR_BY:var f=i.getValueFromArrayById(_,"contentId",r.id);return f?f.findSimilarBy=r.findSimilarBy:d.upload.findSimilarBy=r.findSimilarBy,d;default:return s}}}}),define("app/reducers/recent-searches",["app/actions/actionTypes"],function(e){"use strict";return function(t,n){if(void 0===t)return!1;var a=t;switch(n.type){case e.SHOW_RECENT_SEARCHES:a=!0;break;case e.HIDE_RECENT_SEARCHES:a=!1;break;default:return t}return a}}),define("app/reducers/checkout",["lodash","jquery","page_config","app/actions/actionTypes","lib/utils"],function(e,t,n,a,i){"use strict";return function(s,r){if(void 0===s)return e.get(n,"state.content",[]);switch(r.type){case a.QUICKER_CHECKOUT_OPEN:return s.map(function(e){return i.areEqualNumbers(e.content_id,r.contentId)?t.extend({},e,{isLicensing:!0,isWaiting:!1}):e});case a.BUY_LICENSE.begin:return s.map(function(e){return i.areEqualNumbers(e.content_id,r.contentId)?t.extend({},e,{isLicensing:!0}):e});case a.DOWNLOAD_ASSET.begin:return s.map(function(e){return i.areEqualNumbers(e.content_id,r.contentId)?t.extend({},e,{isDownloading:!0}):e});case a.SAVE_ASSET.begin:return s.map(function(e){return i.areEqualNumbers(e.content_id,r.contentId)?t.extend({},e,{isSaving:!0,saved:!1}):e});case a.QUICKER_CHECKOUT_CLOSE:case a.QUICKER_CHECKOUT_DONE:case a.QUICKER_CHECKOUT_ERROR:return s.map(function(e){return i.areEqualNumbers(e.content_id,r.contentId)?t.extend({},e,{isLicensing:!1,isWaiting:!1,shouldShowHoverMenu:!1}):e});case a.BUY_LICENSE.success:case a.BUY_LICENSE.failure:return s.map(function(e){return i.areEqualNumbers(e.content_id,r.contentId)?t.extend({},e,{isLicensing:!1,shouldShowHoverMenu:!1}):e});case a.DOWNLOAD_ASSET.success:case a.DOWNLOAD_ASSET.failure:return s.map(function(e){return i.areEqualNumbers(e.content_id,r.contentId)?t.extend({},e,{isDownloading:!1}):e});case a.SAVE_ASSET.success:case a.SAVE_ASSET.failure:return s.map(function(e){return i.areEqualNumbers(e.content_id,r.contentId)?t.extend({},e,{isSaving:!1,saved:!1,shouldShowHoverMenu:!1,shouldShowSeeMoreDropDown:!1}):e});case a.SAVE_ASSET_COMPLETE:return s.map(function(e){return i.areEqualNumbers(e.content_id,r.contentId)?t.extend({},e,{isSaving:!1,saved:!0}):e});case a.WAIT_QUICKER_CHECKOUT_MODAL_OPEN:return s.map(function(e){return i.areEqualNumbers(e.content_id,r.contentId)?t.extend({},e,{isWaiting:!0}):e});case a.UPDATE_DETAIL_PANEL_LICENSE:return s.map(function(e){return i.areEqualNumbers(e.content_id,r.contentId)?t.extend({},e,{selectedLicenseId:parseInt(r.licenseId,10)}):e});case a.CONTENT_LICENSED:return s.map(function(n){if(!i.areEqualNumbers(n.content_id,r.contentId))return n;var a=t.extend({},n,{selectedLicenseId:parseInt(r.licenseId,10)});return e.get(a,"license_details."+r.licenseId)&&(a.license_details=t.extend({},a.license_details),a.license_details[r.licenseId].downloaded=!0),a});default:return s}}}),define("app/reducers/view",["redux","app/reducers/breadcrumbs","app/reducers/metadata","app/reducers/multi-image-search","app/reducers/recent-searches","app/reducers/checkout"],function(e,t,n,a,i,s){"use strict";return e.combineReducers({metadata:n,multiImage:a.multiImageSearch,breadcrumbs:t.breadcrumbs,recentSearches:i,checkout:s})}),define("app/reducers/libraries",["jquery","app/actions/actionTypes"],function(e,t){"use strict";return function(n,a){return void 0===n&&(n={items:{}}),a.type===t.UPDATE_LIBRARY_ITEMS?e.extend({},n,{items:a.items}):n}}),define("app/reducers/querySuggestions",["jquery","app/actions/actionTypes","page_config"],function(e,t,n){"use strict";return{querySuggestions:function(a,i){switch(void 0===a&&(a=function(){var e={};return e.suggestions=n.query_suggestions||[],e}()),i.type){case t.GET_QUERY_SUGGESTIONS_RESULTS.success:return e.extend({},a,{suggestions:i.result||[]});case t.GET_QUERY_SUGGESTIONS_RESULTS.failure:case t.CLEAR_QUERY_SUGGESTIONS:return e.extend({},a,{suggestions:[]});default:return a}}}}),define("app/constants/carousel",[],function(){"use strict";return{DEFAULT_STYLE:"default",DEFAULT_TYPE:"default",EMPTY_TYPE:"empty",LIGHT_STYLE:"light",LONGTAIL_ID_PREFIX:"longtail-",LONGTAIL_TYPE:"longtail"}}),define("components/carousel/reducers/assetsReducers",["redux","jquery","page_config","app/actions/actionTypes","app/constants/assetTypeFilters","app/constants/carousel"],function(e,t,n,a,i,s){"use strict";function r(){return{items:[],total:0,type:s.DEFAULT_TYPE}}function o(e,n){return t.extend({},e,{items:[],type:n.carouselType||s.DEFAULT_TYPE,style:n.style||s.DEFAULT_STYLE})}var l,c=function(e,n){switch(void 0===e&&(e=r()),n.type){case a.FETCH_ASSETS_ALL.begin:return o(e,n);case a.FETCH_ASSETS_ALL.success:return t.extend({},e,{items:n.result.items,total:n.result.total});case a.FETCH_ASSETS_ALL.failure:return{};default:return e}},u=function(e,n){switch(void 0===e&&(e=r()),n.type){case a.FETCH_ASSETS_EDITORIAL.begin:return o(e,n);case a.FETCH_ASSETS_EDITORIAL.success:return t.extend({},e,{items:n.result.items,total:n.result.total});case a.FETCH_ASSETS_EDITORIAL.failure:return{};default:return e}},d=function(e,n){switch(void 0===e&&(e=r()),n.type){case a.FETCH_ASSETS_IMAGES.begin:return o(e,n);case a.FETCH_ASSETS_IMAGES.success:return t.extend({},e,{items:n.result.items,total:n.result.total});case a.FETCH_ASSETS_IMAGES.failure:return{};default:return e}},p=function(e,n){switch(void 0===e&&(e=r()),n.type){case a.FETCH_ASSETS_PREMIUM.begin:return o(e,n);case a.FETCH_ASSETS_PREMIUM.success:return t.extend({},e,{items:n.result.items,total:n.result.total});case a.FETCH_ASSETS_PREMIUM.failure:return{};default:return e}},_=function(e,n){switch(void 0===e&&(e=r()),n.type){case a.FETCH_ASSETS_FREE.begin:return o(e,n);case a.FETCH_ASSETS_FREE.success:return t.extend({},e,{items:n.result.items,total:n.result.total});case a.FETCH_ASSETS_FREE.failure:return{};default:return e}},h=function(e,n){switch(void 0===e&&(e=r()),n.type){case a.FETCH_ASSETS_TEMPLATES.begin:return o(e,n);case a.FETCH_ASSETS_TEMPLATES.success:return t.extend({},e,{items:n.result.items,total:n.result.total});case a.FETCH_ASSETS_TEMPLATES.failure:return{};default:return e}},f=function(e,n){switch(void 0===e&&(e=r()),n.type){case a.FETCH_ASSETS_THREED.begin:return o(e,n);case a.FETCH_ASSETS_THREED.success:return t.extend({},e,{items:n.result.items,total:n.result.total});case a.FETCH_ASSETS_THREED.failure:return{};default:return e}},E=function(e,n){switch(void 0===e&&(e=r()),n.type){case a.FETCH_ASSETS_VIDEOS.begin:return o(e,n);case a.FETCH_ASSETS_VIDEOS.success:return t.extend({},e,{items:n.result.items,total:n.result.total});case a.FETCH_ASSETS_VIDEOS.failure:return{};default:return e}},m=function(e,n){var i={};if(void 0===e)return[];switch(n.type){case a.FETCH_ASSETS_LONGTAIL.begin:return i[n.id]={keyword:n.keyword,items:[],type:n.carouselType||s.DEFAULT_TYPE,style:n.style||s.DEFAULT_STYLE},t.extend({},e,i);case a.FETCH_ASSETS_LONGTAIL.success:return i[n.id]=t.extend({},e[n.id],{items:n.result.items,total:n.result.total}),t.extend({},e,i);case a.FETCH_ASSETS_LONGTAIL.failure:return i[n.id]={},t.extend({},e,i);default:return e}};return{assets:function(e,n){switch(void 0===e&&(e=r()),n.type){case a.FETCH_PREMIUM_IMAGES.begin:return t.extend({},e,{items:[]});case a.FETCH_PREMIUM_IMAGES.success:return t.extend({},e,{items:n.result.items,total:n.result.total});case a.FETCH_PREMIUM_IMAGES.failure:return{};case a.CLEAR_PREMIUM_IMAGES:return r();default:return e}},carousel:(l={},l[i.ALL]=c,l[i.EDITORIAL]=u,l[i.IMAGES]=d,l[i.PREMIUM]=p,l[i.TEMPLATES]=h,l[i.THREED]=f,l[i.VIDEOS]=E,l.longtail=m,n.isFreeEnabled&&(l[i.FREE]=_),e.combineReducers(l))}}),define("app/reducers/contentHoverMenu",["jquery","lodash","page_config","app/actions/actionTypes","lib/utils"],function(e,t,n,a,i){"use strict";return function(s,r){if(void 0===s)return t.get(n,"state.content",[]);switch(r.type){case a.OPEN_HOVER_MENU_MORE_OPTIONS:return s.map(function(t){return i.areEqualNumbers(t.content_id,r.contentId)?e.extend({},t,{shouldShowSeeMoreDropDown:!0,shouldDisplaySaveToLibraryComponent:!0,shouldShowFSCHoverMenu:!0}):t});case a.CLOSE_HOVER_MENU_MORE_OPTIONS:return s.map(function(t){return i.areEqualNumbers(t.content_id,r.contentId)?e.extend({},t,{shouldShowSeeMoreDropDown:!1,shouldDisplaySaveToLibraryComponent:!1,shouldShowFSCHoverMenu:!1}):t});case a.OPEN_FSC_HOVER_MENU:return s.map(function(t){return i.areEqualNumbers(t.content_id,r.contentId)?e.extend({},t,{shouldShowFSCHoverMenu:!0}):t});case a.CLOSE_FSC_HOVER_MENU:return s.map(function(t){return i.areEqualNumbers(t.content_id,r.contentId)?e.extend({},t,{shouldShowFSCHoverMenu:!1}):t});case a.SHOW_HOVER_MENU:return s.map(function(t){return i.areEqualNumbers(t.content_id,r.contentId)?e.extend({},t,{shouldShowHoverMenu:!0}):t});case a.HIDE_HOVER_MENU:return s.map(function(t){return i.areEqualNumbers(t.content_id,r.contentId)?e.extend({},t,{shouldShowHoverMenu:!1}):t});default:return s}}}),define("app/reducers/contentMosaic",["jquery","lodash","page_config","app/actions/actionTypes"],function(e,t,n,a){"use strict";return function(i,s){return void 0===i?t.get(n,"state.content",[]):s.type===a.MOSAIC_RELOADED?i.map(function(t){return s.mosaicData[t.content_id]?e.extend({},t,s.mosaicData[t.content_id]):t}):i}}),define("app/reducers/content",["jquery","page_config","lib/utils","app/reducers/contentHoverMenu","app/reducers/checkout","app/reducers/contentMosaic","lib/contentDetails","app/actions/actionTypes"],function(e,t,n,a,i,s,r,o){"use strict";return n.flattenReducers([function(t,a){if(void 0===t)return i=[],s=r.getContentDataDic()||{},Object.keys(s).length&&(i=r.getSortedContentArray(s)),i;var i,s;switch(a.type){case o.GET_SEARCH_RESULTS.success:return r.getSortedContentArray(a.result.items||{});case o.UPDATE_LIBRARY_ITEMS:return r.getSortedContentArray(a.items);case o.SELECT_CONTENT_LICENSE:return t.map(function(t){return n.areEqualNumbers(t.content_id,a.contentId)?e.extend({},t,{selectedLicenseId:parseInt(a.licenseId,10)}):t});case o.ADD_ITEM_DETAILS:var l=t,c=t.filter(function(e){return n.areEqualNumbers(e.content_id,a.content_id)});return c.length||(l=e.extend([],t)).push(a.data),l;default:return t}},s,a,i])}),define("app/reducers/ccxQA",["jquery","app/actions/actionTypes"],function(e,t){"use strict";return{ccxQA:function(n,a){switch(void 0===n&&(n={}),a.type){case t.CCX_QA_ACTIVE_BEGIN:return e.extend({},n,{active:!0});case t.CCX_QA_ACTIVE_END:default:return{}}}}}),define("app/reducers/index",["redux","app/reducers/details","app/reducers/filters","app/reducers/history","app/reducers/member","app/reducers/pagination","app/reducers/search","app/reducers/page","app/reducers/view","app/reducers/libraries","app/reducers/querySuggestions","components/carousel/reducers/assetsReducers","app/reducers/content","app/reducers/ccxQA"],function(e,t,n,a,i,s,r,o,l,c,u,d,p,_){"use strict";return{rootReducer:e.combineReducers({carousel:d.carousel,details:t.details,filters:n.filters,history:a.history,libraries:c,member:i.member,page:o.page,pagination:s.pagination,pbr:d.assets,search:r.search,view:l,content:p,querySuggestions:u.querySuggestions,ccxQA:_.ccxQA})}}),define("store",["redux","app/middleware/promiseMiddleware","app/middleware/thunkMiddleware","app/reducers/index"],function(e,t,n,a){"use strict";return{configureStore:function(){var i=[n.thunkMiddleware,t.promiseMiddleware].map(function(t){return e.applyMiddleware(t)});return e.compose.apply(void 0,i)(e.createStore)(a.rootReducer)}}}),define("app/client",["store"],function(e){"use strict";var t;return{getInstance:function(n){return t&&!n||(t=e.configureStore()),t}}}),define("app/constants/dunamis",[],function(){"use strict";return{EVENT_PARAMS:{STOCK_SEARCH_KEYWORD:"ui.search_keyword",CONTENT_ID_LIST:"stk.search.content_id_list",TOTAL_SEARCH_RESULTS:"stk.search.total_search_results",RESULTS_COUNTS:"stk.search.results_counts",PAGE:"stk.search.page",FILTERS:"stk.search.filters",SUGGESTED_KEYWORD:"stk.search.suggested_keyword",STOCK_CAROUSEL_TYPE:"stk.search.carousel_type",OPEN_IN_APP:"stk.open_in.action",SAVE_TO_DEVICE:"stk.save_to_device.action",SELECTED_TAB:"stk.selected_tab",LIBRARIES_SAVE_TO_EXISTING_LIBRARY:"stk.libraries.save_to_existing",LIBRARIES_SAVE_TO_NEW_LIBRARY:"stk.libraries.save_to_new",LIBRARIES_SAVE_TO_LIBRARY_ID:"stk.libraries.to.id",LIBRARIES_SAVE_TO_LIBRARY_NAME:"stk.libraries.to.name",EVENT_DATE_RANGE_START:"stk.event_date_range_start",EVENT_DATE_RANGE_END:"stk.event_date_range_end",VIDEO_DURATION_RANGE_START:"stk.video_duration_range_start",VIDEO_DURATION_RANGE_END:"stk.video_duration_range_end",SEARCH_CONTEXT_SEQUENCE:"stk.search_context_sequence",EXTERNAL_SOURCE:"stk.external_source",COUNTRY:"stk.user.country",VIDEO_DURATION:"stk.video.duration",VIDEO_PLAY_TIME:"stk.video.play_time",QUERY_SUGGESTION_LIST:"stk.search.querysuggestion-list",QUERY_SUGGESTION_POSITION:"stk.search.querysuggestion-position",USS_INSTRUMENTATION:"stk.search.uss.instrumentation"},VISUAL_SEARCH:{BROWSE:"visual-search-browse",DRAG:"visual-search-drag",HOVER_FIND_SIMILAR:"hover-find-similar",DETAILS_FIND_SIMILAR:"details-find-similar",PANEL_FSC_TILE_FIND_SIMILAR:"fsc-tile-panel-find-similar",FSC_TILE_FIND_SIMILAR:"fsc-tile-find-similar",FIND_SIMILAR_BY:"stk.search.visual-search-find-similar-by",CLOSE_VISUAL_SEARCH_TILE:"close-visual-search-tile",IMPRESSIONS:"impressions"},SELL:"sell",AUDIO:"audio",VIEW_ALL_BUTTON:"view-all",BACK_BUTTON:"back",CONTENT_SEEN_BY_USER:"content-seen-by-user",SEARCH:"search",SEARCH_BEGIN:"search-begin",SEARCH_SUCCESS:"search-success",SEARCH_FAILURE:"search-failure",SEARCH_RESULTS_SUCCESS:"search-results-success",SEARCH_RESULTS_FAILURE:"search-results-failure",DIRECT_TO_SEARCH:"direct-to-search",NULL_RESULTS:"null-results",INITIAL_SEARCH:"initial-search",USERTYPED:"usertyped",RECENT_SEARCHES:"recentsearch",AUTO_SUGGEST:"autosuggest",AUTO_CORRECT:"autocorrect",CONTENT_ID:"content.id",QUERY_SUGGESTION:"querysuggestion",ASSET_TYPE_LINK_VIDEO:"assettypelink-video",ASSET_TYPE_CHANGE:"asset-type-change",ORDER:"order",MINI_MONTHLY_PLAN:"mini-monthly-plan",DOWNLOAD:"download",LICENSE:"license",STOCK_SEARCH:"stock-search",DOWNLOAD_CONFIRMATION:"download-confirmation",PAGINATION:"pagination",EDITORIAL_DATE_RANGE_SELECTED:"editorial-date-range-selected",VIDEO_DURATION_RANGE_SELECTED:"video-duration-range-selected",REMOVE_BREADCRUMB:"remove-breadcrumb",CLEAR_ALL_FILTERS:"clear-all-filters",FILTER_SELECT:"filter-select",CONTRIBUTOR_LINK_DETAILS_PANEL:"contributor-link-details-panel",CATEGORY_LINK_DETAILS_PANEL:"category-link-details-panel",KEYWORD_BADGE_DETAILS_PANEL:"keyword-badge-details-panel",FILTER_VIEW:"filter-view",FILTER_VIEW_PANEL:"filter-view-panel",FILTER_HIDE:"filter-hide",FILTER_HIDE_PANEL:"filter-hide-panel",SEARCH_TYPE:"search_type",HIRE_ME_ON_BEHANCE:"hire-me-on-behance",LIBRARIES_TOAST:{STATUS:"stk.libraries.toast_status",AUTO_SAVE_ON:"auto-save-on",AUTO_SAVE_OFF:"auto-save-off",AUTO_DOWNLOAD_ON:"auto-download-on",AUTO_DOWNLOAD_OFF:"auto-download-off"},LIBRARIES:{LIBRARY_DETAILS:{LICENSE_FILTER:"library-detail-license-filter",LICENSE_FILTER_VALUE:"stk.libraries.license_filter_value"},LIBRARIES_PAGE:"my-libraries-page",PENDING_INVITATIONS:"pending-invitations",LIBRARY_PAGE:"stock-library-page",INVITE_PEOPLE:"invite-people",INVITATION_MODAL:"library-invitation-modal"},STOCK_CHECKOUT:"stock-checkout",STOCK_PLANS_PAGE:"stock-plans-page",STOCK_TEAMS_PAGE:"stock-teams-page",STOCK_PLANS_PAGE_BUY_BUTTON:"stock-plans-page-buy-button",STOCK_TEAMS_PAGE_BUY_BUTTON:"stock-teams-page-buy-button",BLUE_BANNER:"blue-banner",START_NOW:"start-now",PLACE_SECURE_ORDER:"place-secure-order",CHANGE_PURCHASE_OPTION:"change-purchase-option",VIEW_PLANS_PAGE:"view-plans-page",SUBMIT:"submit",VERIFY_BILLING_INFO:"verify-billing-info",CHECKOUT_MODAL_CLOSE:"checkout-modal-close",AUTHENTICATE_PAYMENT_INSTRUMENT:"authenticate-payment-instrument",BUY_CHOICE:"buy-choice",ENTER_EMAIL:"enter-email",HALT:"halt",PURCHASE_CONFIRM:"purchase-confirm",TEAM_DELEGATE_BUY_CHOICE:"team-delegate-buy-choice",TEAM_PURCHASE_MODAL:"team-purchase-modal",DELEGATE_CANNOT_COMPLETE_PURCHASE:"delegate-cannot-complete-purchase",DELEGATE_REQUEST_MODAL:"delegate-request-modal",REQUEST_FROM_ADMIN:"request-from-admin",USE_INDIVIDUAL_ACCOUNT:"use-individual-account",DELEGATE_REQUEST_CONFIRMATION_MODAL:"delegate-request-confirmation-modal",START_SEARCHING:"start-searching",ADMIN_CANNOT_PURCHASE_FMF:"admin-cannot-purchase-fmf",SWITCH_PERSONAL_CONFIRM:"switch-personal-confirm",SWITCH_PERSONAL_CANCEL:"switch-personal-cancel",PBR:{ASSET_CLICK:"pbr-asset-click",VIEW_RESULTS:"pbr-view-results",RESULTS_COUNT:"pbr-results-count"},FBR:{ASSET_CLICK:"freebr-asset-click",VIEW_RESULTS:"freebr-view-results",RESULTS_COUNT:"freebr-results-count"},CAROUSEL:{DEFAULT:"default",EMPTY:"empty-carousel",LONGTAIL:"longtail-carousel",ASSET_CLICK:"-asset-click",VIEW_RESULTS:"-view-results",RESULTS_COUNT:"-results-count",LONGTAIL_IMPRESSION:"longtail_%1$s|%2$s",EMPTY_IMPRESSION:"all_%s"},VISIT:"visit",PAGE_VIEW:"page-view",OPEN_DETAIL:"open-detail",OPEN_DETAIL_SEARCH_GRID:"open-detail-search-grid",LANDING:"landing",PAGE_LANDING:"page-landing",CLICK:"click",ASSET_TYPE:"asset_type",CONTINUE:"continue",SIGN_IN_FB:"sign_in_fb",SIGN_IN_GOOGLE:"sign_in_google",HOVER_BUY_LICENSE:"hover-buy-license",HOVER_SAVE_PREVIEW:"hover-save-preview",HOVER_VIDEO_START:"hover-start-video",HOVER_VIDEO_PAUSE:"hover-pause-video",HOVER_VIDEO_STOP:"hover-stop-video",HOVER_SAVE:"hover-save",DETAIL_BUY_LICENSE:"details-buy-license",DETAIL_SAVE_PREVIEW:"details-save-preview",DETAIL_VIEW_PREVIEW:"details-view-preview",DETAIL_SAVE:"details-save",DETAIL_EXPAND_IMAGE:"details-expand-image",SEE_MORE_EVENTS:{SEE_MORE:"see-more",SERIES:"more-from-this-series",MODEL:"more-from-this-model",IMAGES:"more-from-similar-images",VIDEOS:"more-from-similar-videos"},SIMILAR_KEYWORD_EVENTS:{VIEW_ALL:"view-all-similar-keywords",SELECT_KEYWORD:"select-similar-keyword"},PREVIEW_CROP:{CLICK_PREVIEW_CROP:"click-preview-crop",CLICK_SLIDER:"click-preview-crop-slider",CLICK_ASPECT_RATIO:"click-preview-crop-aspect-ratio",ASPECT_RATIO:"preview-crop-aspect-ratio"},SUSI:{LOGIN:"susi-login",CREATE_ACCOUNT:"susi-create-account"},PROPERTIES:{USER:{CURRENT_SUBSCRIPTION:"stk.user.current_subscription",IS_OVERAGE:"stk.user.is_overage"},CHECKOUT:{BASE_PRICE:"stk.checkout.base_price",SUBTOTAL:"stk.checkout.subtotal",TAX:"stk.checkout.tax",TOTAL:"stk.checkout.total",ORDER_ID:"stk.checkout.order_id",OFFER_ID:"stk.checkout.offer_id",CURRENCY:"stk.checkout.currency",QUANTITY:"stk.checkout.quantity",CURRENT_PRICE:"stk.checkout.current_price",ORDER_NUMBER:"stk.checkout.order_number",PROMO_TYPE:"stk.checkout.promo_type",SELECTED_LICENSE_OPTION:"stk.checkout.selected_license_option",SELECTED_PURCHASE_OPTION:"stk.checkout.selected_purchase_option",PURCHASE_OPTIONS:"stk.checkout.purchase_options",FINDING_METHOD:"stk.checkout.finding_method",SELECTION_METHOD:"stk.checkout.selection_method",DELEGATE_REQUEST_PRODUCT:"stk.checkout.delegate-request.product"}},MODAL_CLOSE:"modal-close",TOOLBAR_LICENSE:"toolbar-license",SELECTION_QUOTE_MODAL:"quote-modal",FINDING_DIRECT:"direct",ENTERPRISE:{QUOTE_ASSET_ID_LIST:"stk.enterprise.quote_asset_id_list",QUOTE_ASSET_COUNT:"stk.enterprise.quote_asset_download_count"},SUBCATEGORY_QUOTE_MODAL:"quote-modal",CCX_QA:"ccx-qa-",CCX_QA_LICENSE_DIALOG:"ccx-qa-license-dialog",VECTOR_JPEG_DOWNLOAD_CHOICE:"vector-jpeg-download-choice-modal-download",VECTOR_JPEG_DOWNLOAD_CHOICE_MODAL:"vector-jpeg-download-choice-modal",TRANSPARENT_PNG_DOWNLOAD_CHOICE_MODAL:"transparent-png-download-choice-modal",TRANSPARENT_PNG_DOWNLOAD_CHOICE:"transparent-png-download-choice-modal-download",CONTENT_DOWNLOAD_FORMAT:"content.download.format"}}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define("stockWebIngest",["jquery"],t):"object"==typeof exports?exports.stockWebIngest=t(require("jquery")):e.stockWebIngest=t(e.$)}(self,function(e){return function(){var t={895:function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},120:function(e,t,n){var a=n(960)("unscopables"),i=Array.prototype;null==i[a]&&n(77)(i,a,{}),e.exports=function(e){i[a][e]=!0}},515:function(e,t,n){var a=n(208);e.exports=function(e){if(!a(e))throw TypeError(e+" is not an object!");return e}},419:function(e,t,n){var a=n(787),i=n(710),s=n(642);e.exports=function(e){return function(t,n,r){var o,l=a(t),c=i(l.length),u=s(r,c);if(e&&n!=n){for(;c>u;)if((o=l[u++])!=o)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}}},399:function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},481:function(e){var t=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=t)},330:function(e,t,n){var a=n(895);e.exports=function(e,t,n){if(a(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,a){return e.call(t,n,a)};case 3:return function(n,a,i){return e.call(t,n,a,i)}}return function(){return e.apply(t,arguments)}}},182:function(e){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},967:function(e,t,n){e.exports=!n(966)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},536:function(e,t,n){var a=n(208),i=n(851).document,s=a(i)&&a(i.createElement);e.exports=function(e){return s?i.createElement(e):{}}},216:function(e){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},351:function(e,t,n){var a=n(851),i=n(481),s=n(77),r=n(573),o=n(330),l=function(e,t,n){var c,u,d,p,_=e&l.F,h=e&l.G,f=e&l.S,E=e&l.P,m=e&l.B,g=h?a:f?a[t]||(a[t]={}):(a[t]||{}).prototype,T=h?i:i[t]||(i[t]={}),b=T.prototype||(T.prototype={});for(c in h&&(n=t),n)d=((u=!_&&g&&void 0!==g[c])?g:n)[c],p=m&&u?o(d,a):E&&"function"==typeof d?o(Function.call,d):d,g&&r(g,c,d,e&l.U),T[c]!=d&&s(T,c,p),E&&b[c]!=d&&(b[c]=d)};a.core=i,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},966:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},994:function(e,t,n){e.exports=n(901)("native-function-to-string",Function.toString)},851:function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},395:function(e){var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},77:function(e,t,n){var a=n(848),i=n(9);e.exports=n(967)?function(e,t,n){return a.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},639:function(e,t,n){var a=n(851).document;e.exports=a&&a.documentElement},270:function(e,t,n){e.exports=!n(967)&&!n(966)(function(){return 7!=Object.defineProperty(n(536)("div"),"a",{get:function(){return 7}}).a})},1:function(e,t,n){var a=n(399);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==a(e)?e.split(""):Object(e)}},208:function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},977:function(e,t,n){"use strict";var a=n(191),i=n(9),s=n(564),r={};n(77)(r,n(960)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=a(r,{next:i(1,n)}),s(e,t+" Iterator")}},792:function(e,t,n){"use strict";var a=n(177),i=n(351),s=n(573),r=n(77),o=n(902),l=n(977),c=n(564),u=n(839),d=n(960)("iterator"),p=!([].keys&&"next"in[].keys()),_=function(){return this};e.exports=function(e,t,n,h,f,E,m){l(n,t,h);var g,T,b,v=function(e){if(!p&&e in O)return O[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},I=t+" Iterator",S="values"==f,A=!1,O=e.prototype,y=O[d]||O["@@iterator"]||f&&O[f],C=y||v(f),R=f?S?v("entries"):C:void 0,L="Array"==t&&O.entries||y;if(L&&(b=u(L.call(new e)))!==Object.prototype&&b.next&&(c(b,I,!0),a||"function"==typeof b[d]||r(b,d,_)),S&&y&&"values"!==y.name&&(A=!0,C=function(){return y.call(this)}),a&&!m||!p&&!A&&O[d]||r(O,d,C),o[t]=C,o[I]=_,f)if(g={values:S?C:v("values"),keys:E?C:v("keys"),entries:R},m)for(T in g)T in O||s(O,T,g[T]);else i(i.P+i.F*(p||A),t,g);return g}},382:function(e){e.exports=function(e,t){return{value:t,done:!!e}}},902:function(e){e.exports={}},177:function(e){e.exports=!1},191:function(e,t,n){var a=n(515),i=n(279),s=n(216),r=n(833)("IE_PROTO"),o=function(){},l=function(){var e,t=n(536)("iframe"),a=s.length;for(t.style.display="none",n(639).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;a--;)delete l.prototype[s[a]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(o.prototype=a(e),n=new o,o.prototype=null,n[r]=e):n=l(),void 0===t?n:i(n,t)}},848:function(e,t,n){var a=n(515),i=n(270),s=n(604),r=Object.defineProperty;t.f=n(967)?Object.defineProperty:function(e,t,n){if(a(e),t=s(t,!0),a(n),i)try{return r(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},279:function(e,t,n){var a=n(848),i=n(515),s=n(538);e.exports=n(967)?Object.defineProperties:function(e,t){i(e);for(var n,r=s(t),o=r.length,l=0;o>l;)a.f(e,n=r[l++],t[n]);return e}},839:function(e,t,n){var a=n(395),i=n(325),s=n(833)("IE_PROTO"),r=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),a(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?r:null}},540:function(e,t,n){var a=n(395),i=n(787),s=n(419)(!1),r=n(833)("IE_PROTO");e.exports=function(e,t){var n,o=i(e),l=0,c=[];for(n in o)n!=r&&a(o,n)&&c.push(n);for(;t.length>l;)a(o,n=t[l++])&&(~s(c,n)||c.push(n));return c}},538:function(e,t,n){var a=n(540),i=n(216);e.exports=Object.keys||function(e){return a(e,i)}},9:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},573:function(e,t,n){var a=n(851),i=n(77),s=n(395),r=n(725)("src"),o=n(994),l=(""+o).split("toString");n(481).inspectSource=function(e){return o.call(e)},(e.exports=function(e,t,n,o){var c="function"==typeof n;c&&(s(n,"name")||i(n,"name",t)),e[t]!==n&&(c&&(s(n,r)||i(n,r,e[t]?""+e[t]:l.join(String(t)))),e===a?e[t]=n:o?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[r]||o.call(this)})},564:function(e,t,n){var a=n(848).f,i=n(395),s=n(960)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,s)&&a(e,s,{configurable:!0,value:t})}},833:function(e,t,n){var a=n(901)("keys"),i=n(725);e.exports=function(e){return a[e]||(a[e]=i(e))}},901:function(e,t,n){var a=n(481),i=n(851),s=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:a.version,mode:n(177)?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},642:function(e,t,n){var a=n(105),i=Math.max,s=Math.min;e.exports=function(e,t){return(e=a(e))<0?i(e+t,0):s(e,t)}},105:function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},787:function(e,t,n){var a=n(1),i=n(182);e.exports=function(e){return a(i(e))}},710:function(e,t,n){var a=n(105),i=Math.min;e.exports=function(e){return e>0?i(a(e),9007199254740991):0}},325:function(e,t,n){var a=n(182);e.exports=function(e){return Object(a(e))}},604:function(e,t,n){var a=n(208);e.exports=function(e,t){if(!a(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!a(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!a(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!a(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},725:function(e){var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+n).toString(36))}},960:function(e,t,n){var a=n(901)("wks"),i=n(725),s=n(851).Symbol,r="function"==typeof s;(e.exports=function(e){return a[e]||(a[e]=r&&s[e]||(r?s:i)("Symbol."+e))}).store=a},417:function(e,t,n){"use strict";var a=n(120),i=n(382),s=n(902),r=n(787);e.exports=n(792)(Array,"Array",function(e,t){this._t=r(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),s.Arguments=s.Array,a("keys"),a("values"),a("entries")},305:function(e,t,n){for(var a=n(417),i=n(538),s=n(573),r=n(851),o=n(77),l=n(902),c=n(960),u=c("iterator"),d=c("toStringTag"),p=l.Array,_={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=i(_),f=0;f<h.length;f++){var E,m=h[f],g=_[m],T=r[m],b=T&&T.prototype;if(b&&(b[u]||o(b,u,p),b[d]||o(b,d,m),l[m]=p,g))for(E in a)b[E]||s(b,E,a[E],!0)}},34:function(e,t,n){var a,i,s;s=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var a in n)t[a]=n[a]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(a){function i(){}function s(t,n,s){if("undefined"!=typeof document){"number"==typeof(s=e({path:"/"},i.defaults,s)).expires&&(s.expires=new Date(1*new Date+864e5*s.expires)),s.expires=s.expires?s.expires.toUTCString():"";try{var r=JSON.stringify(n);/^[\{\[]/.test(r)&&(n=r)}catch(e){}n=a.write?a.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var o="";for(var l in s)s[l]&&(o+="; "+l,!0!==s[l]&&(o+="="+s[l].split(";")[0]));return document.cookie=t+"="+n+o}}function r(e,n){if("undefined"!=typeof document){for(var i={},s=document.cookie?document.cookie.split("; "):[],r=0;r<s.length;r++){var o=s[r].split("="),l=o.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=t(o[0]);if(l=(a.read||a)(l,c)||t(l),n)try{l=JSON.parse(l)}catch(e){}if(i[c]=l,e===c)break}catch(e){}}return e?i[e]:i}}return i.set=s,i.get=function(e){return r(e,!1)},i.getJSON=function(e){return r(e,!0)},i.remove=function(t,n){s(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}(function(){})},void 0===(i="function"==typeof(a=s)?a.call(t,n,t,e):a)||(e.exports=i),e.exports=s()},377:function(t){"use strict";t.exports=e}},n={};function a(e){var i=n[e];if(void 0!==i)return i.exports;var s=n[e]={exports:{}};return t[e](s,s.exports,a),s.exports}a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return function(){"use strict";a.r(i),a.d(i,{STOCK_WEB_INGEST_PARAMS:function(){return vt},ingest:function(){return an},ingestConstants:function(){return pt}});var e={};a.r(e),a.d(e,{CONTENT_ACTION_PROPERTY:function(){return T},CONTENT_AUTHOR_PROPERTY:function(){return m},CONTENT_CATEGORY_PROPERTY:function(){return g},CONTENT_DIMENSION_PROPERTY:function(){return _},CONTENT_EXTENSION_PROPERTY:function(){return E},CONTENT_ID_PROPERTY:function(){return c},CONTENT_MIMETYPE_PROPERTY:function(){return f},CONTENT_NAME_PROPERTY:function(){return u},CONTENT_SIZE_PROPERTY:function(){return h},CONTENT_STATUS_PROPERTY:function(){return p},CONTENT_TYPE_PROPERTY:function(){return d}});var t={};a.r(t),a.d(t,{EVENT_BUILD_PROPERTY:function(){return k},EVENT_CATEGORY:function(){return w},EVENT_CATEGORY_PROPERTY:function(){return b},EVENT_CONTEXT_GUID:function(){return x},EVENT_GUID_PROPERTY:function(){return C},EVENT_LOCALE:function(){return P},EVENT_MCID_GUID_PROPERTY:function(){return D},EVENT_REFERRER:function(){return F},EVENT_SESSION_ID_PROPERTY:function(){return M},EVENT_SUBCATEGORY_PROPERTY:function(){return v},EVENT_SUBTYPE_PROPERTY:function(){return S},EVENT_TIMESTAMP_PROPERTY:function(){return O},EVENT_TYPE_PROPERTY:function(){return I},EVENT_URL_PROPERTY:function(){return L},EVENT_USER_AGENT_PROPERTY:function(){return R},EVENT_USER_GUID_PROPERTY:function(){return y},EVENT_VISITOR_GUID_PROPERTY:function(){return N},EVENT_WORKFLOW_PROPERTY:function(){return A}});var n={};a.r(n),a.d(n,{SOURCE_CLIENT_ID:function(){return U},SOURCE_NAME:function(){return H},SOURCE_PLATFORM:function(){return Y},SOURCE_VERSION:function(){return j}});var s={};a.r(s),a.d(s,{EVENT_CATEGORY_DEFAULT:function(){return V}});var r={};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!==o(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===o(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}a.r(r),a.d(r,{CONTENT_ACTION_PROPERTY:function(){return T},CONTENT_AUTHOR_PROPERTY:function(){return m},CONTENT_CATEGORY_PROPERTY:function(){return g},CONTENT_DIMENSION_PROPERTY:function(){return _},CONTENT_EXTENSION_PROPERTY:function(){return E},CONTENT_ID_PROPERTY:function(){return c},CONTENT_MIMETYPE_PROPERTY:function(){return f},CONTENT_NAME_PROPERTY:function(){return u},CONTENT_SIZE_PROPERTY:function(){return h},CONTENT_STATUS_PROPERTY:function(){return p},CONTENT_TYPE_PROPERTY:function(){return d},EVENT_BUILD_PROPERTY:function(){return k},EVENT_CATEGORY:function(){return w},EVENT_CATEGORY_DEFAULT:function(){return V},EVENT_CATEGORY_PROPERTY:function(){return b},EVENT_CONTEXT_GUID:function(){return x},EVENT_GUID_PROPERTY:function(){return C},EVENT_LOCALE:function(){return P},EVENT_MCID_GUID_PROPERTY:function(){return D},EVENT_REFERRER:function(){return F},EVENT_SESSION_ID_PROPERTY:function(){return M},EVENT_SUBCATEGORY_PROPERTY:function(){return v},EVENT_SUBTYPE_PROPERTY:function(){return S},EVENT_TIMESTAMP_PROPERTY:function(){return O},EVENT_TYPE_PROPERTY:function(){return I},EVENT_URL_PROPERTY:function(){return L},EVENT_USER_AGENT_PROPERTY:function(){return R},EVENT_USER_GUID_PROPERTY:function(){return y},EVENT_VISITOR_GUID_PROPERTY:function(){return N},EVENT_WORKFLOW_PROPERTY:function(){return A},SOURCE_CLIENT_ID:function(){return U},SOURCE_NAME:function(){return H},SOURCE_PLATFORM:function(){return Y},SOURCE_VERSION:function(){return j}});const c="content.id",u="content.name",d="content.type",p="content.status",_="content.dimension",h="content.size",f="content.mimetype",E="content.extension",m="content.author",g="content.category",T="content.action",b="event.category",v="event.subcategory",I="event.type",S="event.subtype",A="event.workflow",O="event.dts_start",y="event.user_guid",C="event.guid",R="event.user_agent",L="event.url",N="event.visitor_guid",D="event.mcid_guid",P="event.language",w="event.category",M="event.session_guid",k="event.build",x="event.context_guid",F="event.referrer",U="source.client_id",H="source.name",j="source.version",Y="source.platform",V="WEB";function G(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function B(e){if("string"!=typeof e)throw new Error("Key should be a string!")}class q{constructor(e,t){if(this.win=e,this.storageType=t,!this.isAvailable())throw new Error(t+" is NOT available!")}isAvailable(){if(!this.win)return!1;let e=!1;try{this.win[this.storageType].setItem("key","value"),e="value"===this.win[this.storageType].getItem("key"),this.win[this.storageType].removeItem("key")}catch(e){}return e}set(e,t){B(e),this.win[this.storageType].setItem(e,JSON.stringify(t))}get(e){B(e);const t=this.win[this.storageType].getItem(e);let n;if(!t)return null;try{n=JSON.parse(t)}catch(e){n=t}return n}remove(e){B(e),this.win[this.storageType].removeItem(e)}}function W(e,t){return`${e}_${t.toString()}`}var K=class extends q{constructor(e,t){super(e,t),this.slotCountKey="_slot_count"}push(e,t){B(e);const n=this.get(this.getSlotCountKey(e))||0,a=W(e,n+1);this.set(a,JSON.stringify(t)),this.setSlotCount(e,n+1)}fetchAll(e){B(e);const t=[],n=this.get(this.getSlotCountKey(e),0);for(let a=1;a<=n;a+=1){const n=W(e,a),i=this.get(n,"");t.push(JSON.parse(i))}return t}flushAll(e){B(e);const t=this.getSlotCountKey(e);for(let n=this.get(t,0);n>0;n-=1){const t=W(e,n);this.remove(t)}this.remove(t)}getSlotCountKey(e){return e+this.slotCountKey}setSlotCount(e,t){const n=this.getSlotCountKey(e);this.set(n,t)}getCount(e){B(e);const t=this.getSlotCountKey(e),n=this.get(t)||"0";return parseInt(n,10)}},z={storage:Object.create(null),set(e,t){B(e),this.storage[e]=JSON.stringify(t)},get(e){B(e);const t=this.storage[e];return t?JSON.parse(t):null},remove(e){B(e),delete this.storage[e]}},Q=a(34),Z=a.n(Q);class X{static set(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};B(e),Z().set(e,t,n)}static get(e){return B(e),Z().get(e)||null}static remove(e){B(e),Z().remove(e)}}class ${constructor(e,t){if(this.win=e,this.storageType=t,!this.isAvailable())throw new Error(t+" is NOT available!")}isAvailable(){if(!this.win)return!1;let e=!1;try{this.win[this.storageType].setItem("key","value"),e="value"===this.win[this.storageType].getItem("key"),this.win[this.storageType].removeItem("key")}catch(t){e=!1}return e}set(e,t){B(e),this.win[this.storageType].setItem(e,t)}get(e){return B(e),this.win[this.storageType].getItem(e)}remove(e){B(e),this.win[this.storageType].removeItem(e)}}class J{static get(e){let t=null;switch(e){case"local":t=new q(a.g,"localStorage");break;case"rawLocal":t=new $(a.g,"localStorage");break;case"session":t=new q(a.g,"sessionStorage");break;case"localOrdered":t=new K(a.g,"localStorage");break;case"sessionOrdered":t=new K(a.g,"sessionStorage");break;case"cookie":t=X;break;case"map":t=z}return t}}var ee={ANALYTICS_INGEST_TYPE:"dunamis",ANALYTICS_BUFFER_SIZE:50,ANALYTICS_BUFFER_OVERFLOW_WATERMARK:.75,ANALYTICS_DEBOUNCE:1e4,ANALYTICS_API_KEY:null,ANALYTICS_PROJECT:null,ANALYTICS_REPORT_SUITE_ID:null,ANALYTICS_ORGANIZATION_ID:null,ANALYTICS_TRACKING_SERVER:"stats.adobe.com",ANALYTICS_TRACKING_SERVER_SECURE:"sstats.adobe.com",ANALYTICS_MARKETING_CLOUD_SERVER:"stats.adobe.com",ANALYTICS_MARKETING_CLOUD_SERVER_SECURE:"sstats.adobe.com",ENVIRONMENT:"prod",SOURCE_CLIENT_ID:null,SOURCE_NAME:null,SOURCE_VERSION:null,SOURCE_PLATFORM:null},te={ALLOW_NO_TOKEN:!0},ne={ANALYTICS_INGEST_ENDPOINT:"https://cc-api-data.adobe.io",ENVIRONMENT:"prod"},ae={ANALYTICS_INGEST_ENDPOINT:"https://cc-api-data-stage.adobe.io",ENVIRONMENT:"stage"};function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function re(){const e="stage"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"stage")?ae:ne;return se(se(se({},ee),te),e)}function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ce(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date).toISOString()}function ue(e,t){let n=e+t;return n=new Date(n),ce(n)}function de(){let e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)})}function pe(e,t,n){const{ANALYTICS_API_KEY:i,ANALYTICS_PROJECT:s,ANALYTICS_INGEST_TYPE:r,ENVIRONMENT:o,SOURCE_NAME:l,SOURCE_VERSION:c,SOURCE_PLATFORM:u,EVENT_CATEGORY:d}=e;return n=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;if(!Array.isArray(e))return t;const a=[],i=e.length;for(let t=0;t<i;t+=1)a.push(e[t][O]);for(let s=0;s<i;s+=1){const i=a[s],r=0===s?t:a[s-1];i-r<=n?(e[s][O]=ue(r,n),a[s]=r+n):e[s][O]=ce(new Date(i))}return a[i-1]}(t,n),{dunamisPayload:{events:t.map(e=>{const t=le({[P]:a.g.navigator?a.g.navigator.language:"",[C]:de(),[R]:a.g.navigator?a.g.navigator.userAgent:"",[w]:d||V,[U]:i,[H]:l,[j]:c,[Y]:u},e);var n;return n=t,Object.keys(n).forEach(e=>{const t=n[e];var a;null==(a=t)||""===a?delete n[e]:function(e){return"object"==typeof e}(t)&&(n[e]=JSON.stringify(n[e]))}),{project:s,ingesttype:r,environment:o,time:ce(),data:t}})},lastRecordedTimestamp:n}}function _e(e,t){if(t&&Object.keys(t).length&&e.events&&e.events.length>0){const{MCMID:n,MCAID:a}=t;e.events.forEach(e=>{e.data=le(le(le({},e.data),!n&&{[N]:a}),{},{[D]:n})})}}const he=["ENVIRONMENT"];function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}a(305);const Te=new WeakMap;class be{constructor(e){const{apiKey:t,host:n,token:a}=e;if(this.apiKey=t,this.host=n,Te.set(this,a),!t||!n)throw new Error("Configuration parameters missing for instantiation")}dunamisApiCall(e,t){const n=new a.g.XMLHttpRequest;return this.makeDunamisCall(n,e,t)}makeDunamisCall(e,t,n){const i=this.host+"/ingest",s=[200,201],r={status:1},o={status:0};if(!t||!t.body||!t.headers)return!1;const{headers:l,body:c}=t,{events:u}=c;return!(!u||void 0===u||0===u.length||(e.open("POST",i,!0),e.onreadystatechange=()=>{e.readyState===a.g.XMLHttpRequest.DONE&&(-1!==s.indexOf(e.status)?n(null,r):n(new Error("Request failed with status: "+e.status),o))},e.onerror=()=>{n(new Error("Request failed"),o)},Object.keys(l).forEach(t=>e.setRequestHeader(t,l[t])),e.send(JSON.stringify(t.body)),0))}logEvent(e,t){return this.setHeaders(e),this.dunamisApiCall(e,t)}setHeaders(e){const t={"Content-Type":"application/json","x-api-key":this.apiKey},n=Te.get(this);n&&(t.Authorization="Bearer "+n),e.headers=ge(ge({},e.headers),t)}}var ve=new class{init(e){let{ANALYTICS_REPORT_SUITE_ID:t,ANALYTICS_ORGANIZATION_ID:n,ANALYTICS_TRACKING_SERVER:a,ANALYTICS_TRACKING_SERVER_SECURE:i,ANALYTICS_MARKETING_CLOUD_SERVER:s,ANALYTICS_MARKETING_CLOUD_SERVER_SECURE:r}=e;this.orgId=n,this.rsid=t,this.serverConfig={trackingServer:a,trackingServerSecure:i,marketingCloudServer:s,marketingCloudServerSecure:r}}getVisitorInstance(){return a.g.Visitor?a.g.Visitor.getInstance(this.orgId,this.serverConfig):null}isVisitorTrackingEnabled(){return!!this.getVisitorInstance()}getVisitorId(e){const t=this.getVisitorInstance();return t?t.getMarketingCloudVisitorID(e):""}getVisitorFields(e){const t=this.getVisitorInstance();return t?t.getVisitorValues(e,[t.FIELDS.MCMID,t.FIELDS.MCAID]):{}}};const Ie=["ENVIRONMENT"];function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const Ce=new class{constructor(){this.apiKey=null,this.version=null,this.platform=null,this.sessionIdResolver=null,this.cookieStorage=J.get("cookie")}init(e){const{ENVIRONMENT:t}=e,n=G(e,he),a=re(t),{ANALYTICS_API_KEY:i,SOURCE_VERSION:s,SOURCE_PLATFORM:r,ingestResolvers:{event:{getSessionId:o=de}={}}={}}=Ee(Ee({},a),n);this.apiKey=i,this.version=s,this.platform=r,this.sessionIdResolver=o}build(){const e=this.cookieStorage.get("context_guid")||null;return{"context.guid":e||de(),"context.params":{"source.client_id":this.apiKey,"source.platform":this.platform,"source.version":this.version,"event.session_guid":this.sessionIdResolver()},"context.init":!e}}},Re=new class{constructor(){this.config={},this.storageKey="ingest_event",this.dunamisAPIHandle=null,this.timeoutHandle=0,this.dispatchSemaphore=1,this.lastRecordedTimestamp=-1e3}init(e){try{this.storage=J.get("localOrdered")}catch(e){this.storage=null}const{ENVIRONMENT:t}=e,n=G(e,Ie),i=re(t);this.config=Ae(Ae({},i),n);const{ANALYTICS_API_KEY:s,ANALYTICS_INGEST_ENDPOINT:r,ANALYTICS_TOKEN:o}=this.config;ve.init(this.config),this.dunamisAPIHandle=new be({apiKey:s,host:r,token:o}),a.g.requestIdleCallback=a.g.requestIdleCallback||(e=>{const t=Date.now();return setTimeout(()=>{e({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-t))})},1)}),a.g.cancelIdleCallback=a.g.cancelIdleCallback||(e=>{clearTimeout(e)}),this.bufferOverflowThreshold=this.getBufferOverflowThreshold(),this.storage&&(this.dispatchIfOverflow(),this.triggerDispatchTimer())}track(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{let n=function(){let e=le(le({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{[O]:(new Date).getTime()});return e=function(){return le(le({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{[L]:a.g.location?a.g.location.href:""})}(e),e}(e);if(n=function(e,t){const n=function(e,t){const n="context_guid".replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),a=new RegExp(`[\\?&]${n}=([^&#]*)`).exec(e);return null===a?"":decodeURIComponent(a[1].replace(/\+/g," "))}(t),a=J.get("cookie");return n&&a.set("context_guid",n),le({[x]:n},e)}(n,a.g.location.href),this.storage){const{ANALYTICS_BUFFER_SIZE:e}=this.config;this.storage.getCount(this.storageKey)<e&&this.storage.push(this.storageKey,n),t?this.dispatchImmediately():(this.dispatchIfOverflow(),this.triggerDispatchTimer())}else{const e=[n];this.dispatchImmediately(e)}}catch(e){}}triggerDispatchTimer(){const{ANALYTICS_DEBOUNCE:e}=this.config;this.timeoutHandle||(this.timeoutHandle=setTimeout(()=>{this.scheduleDispatch(),this.timeoutHandle=0},e))}dispatchIfOverflow(){this.storage.getCount(this.storageKey)>=this.bufferOverflowThreshold&&this.scheduleDispatch()}dispatchImmediately(e){const t=!e&&this.storage,n=t?this.storage.fetchAll(this.storageKey):e;if(n&&n.length){t&&this.storage.flushAll(this.storageKey);const{dunamisPayload:e,lastRecordedTimestamp:a}=pe(this.config,n,this.lastRecordedTimestamp);this.lastRecordedTimestamp=a,this.dispatchImmediatelyWithVisitorId(e)}else this.signal()}dispatchImmediatelyWithVisitorId(e){const t=e;if(ve.isVisitorTrackingEnabled()){const e=ve.getVisitorFields(e=>{_e(t,e),this.dunamisAPIHandle.logEvent({body:t},()=>{})});e&&Object.keys(e).length&&(_e(t,e),this.dunamisAPIHandle.logEvent({body:t},()=>{}))}else this.dunamisAPIHandle.logEvent({body:t},()=>{});this.signal()}scheduleDispatch(){if(!this.wait())return;const{ANALYTICS_DEBOUNCE:e}=this.config;a.g.requestIdleCallback(this.processScheduledEvents.bind(this),{timeout:e})}processScheduledEvents(e){e.timeRemaining()>0||e.didTimeout?this.dispatchImmediately():(this.signal(),this.scheduleDispatch())}wait(){return!!this.dispatchSemaphore&&(this.dispatchSemaphore=0,!0)}signal(){this.dispatchSemaphore=1}getBufferOverflowThreshold(){const{ANALYTICS_BUFFER_SIZE:e,ANALYTICS_BUFFER_OVERFLOW_WATERMARK:t}=this.config;return Math.floor(e*t)}flush(){this.wait()&&this.dispatchImmediately()}},Le=ye(ye(ye(ye({},t),e),n),s);var Ne={ANALYTICS_REPORT_SUITE_ID:"adbadobestock.prod.v2",ENVIRONMENT:"prod"},De={ANALYTICS_REPORT_SUITE_ID:"adbadobestock.qa.v2",ENVIRONMENT:"stage"};function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const Me="undefined"!=typeof window&&window;var ke=new class{constructor(e){this._events={},this._win=e}isPerformanceEnabled(){if(!this._win)return!1;const e=this._win.performance.timing.navigationStart,t=this._win.performance.getEntriesByType;return!!e&&!!t}getWindowPerformanceTiming(){return this._win?this._win.performance.timing:null}getWindowEntriesByType(){return this._win?this._win.performance.getEntriesByType("paint"):null}getBrowserDimensions(){return this._win?{width:this._win.innerWidth,height:this._win.innerHeight}:null}}(Me);function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}class Ue{constructor(){this.userResolvers={}}init(e){this.userResolvers=e||{}}decorateABTests(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Fe({"exp.campaign_id":this.userResolvers.getABTests&&this.userResolvers.getABTests(),"stk.user.asui":this.userResolvers.getAdobeStockUniqueIdentifier&&this.userResolvers.getAdobeStockUniqueIdentifier(),"stk.user.ffuuid":this.userResolvers.getFeatureFlagsUniqueIdentifier&&this.userResolvers.getFeatureFlagsUniqueIdentifier()},e)}decorateProfile(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{EVENT_USER_GUID_PROPERTY:t}=Le,{getCountryCode:n,getAccountType:a,getCCMemberStatus:i,getStockActiveStatus:s,getTeamProfileType:r,getUserGuid:o}=this.userResolvers,l=n&&n(),c=a&&a(),u=i&&i(),d=s&&s(),p=r&&r();return Fe({[t]:o&&o(),"stk.user.type":c,"stk.user.cc_member_status":u,"stk.user.stock_active_status":d,"stk.user.team_profile_type":p,"stk.user.country":l},e)}decorateLoggedStatus(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{getLoggedStatus:t}=this.userResolvers;return Fe({"stk.user.logged_status":t&&t()},e)}decorateCreditQuota(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{getCreditQuota:t}=this.userResolvers,n=t&&t();if(n){const{totalOrders:t,availableCreditPackQuota:a,totalQuotaAvailable:i,totalDownloads:s,buyerStatus:r}=n;return Fe({"stk.user.orders_total":t,"stk.user.quota_balance":i,"stk.user.credit_balance":a,"stk.user.download_total":s,"stk.user.buyer_status":r},e)}return e}decorateCCPro(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{getUserCCProStatus:t,getOrganizationCCProStatus:n}=this.userResolvers;return Fe({"stk.user.has_ccpro":t&&t(),"stk.organization.has_ccpro":n&&n()},e)}static decorateBrowserDimensions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=ke.getBrowserDimensions();return t?Fe(Fe({},e),{},{"env.browser_width":t.width,"env.browser_height":t.height}):e}decorateOrganization(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{getUserOrganizationDetails:t}=this.userResolvers,n=t&&t();if(n){const{buyingProgram:t,contractId:a,marketSegment:i,guid:s}=n;return Fe({"stk.organization.buying_program":t,"stk.organization.contract_id":a,"stk.organization.market_segment":i,"stk.organization.org_guid":s},e)}return e}decorateUniversalSubscriptionFlags(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{getUniversalSubscriptionFlags:t}=this.userResolvers,n=t&&t();return n?Fe({"stk.user.is_eligible_for_universal_plan_purchase":!!n.is_eligible_for_universal_plan_purchase||!!n.isEligibleForUniversalPlanPurchase,"stk.user.is_eligible_for_universal_plan_use":!!n.is_eligible_for_universal_plan_use||!!n.isEligibleForUniversalPlanUse},e):e}decorate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.decorateABTests(e);return t=this.decorateProfile(t),t=this.decorateLoggedStatus(t),t=this.decorateCreditQuota(t),t=this.decorateCCPro(t),t=Ue.decorateBrowserDimensions(t),t=this.decorateOrganization(t),t=this.decorateUniversalSubscriptionFlags(t),t}}function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const{EVENT_SESSION_ID_PROPERTY:Ye,EVENT_LOCALE:Ve}=Le;class Ge{constructor(){this.eventResolvers={}}init(e){this.eventResolvers=e||{}}decorateSessionId(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{getSessionId:t}=this.eventResolvers,n=t&&t();return je({[Ye]:n},e)}decorateEventLocale(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{getLocale:t}=this.eventResolvers,n=t&&t();return je({[Ve]:n},e)}decorate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.decorateSessionId(e);return t=this.decorateEventLocale(t),t}}const Be="visual-search-browse",qe="visual-search-drag",We="hover-find-similar",Ke="details-find-similar",ze="fsc-tile-panel-find-similar",Qe="fsc-tile-find-similar",Ze=(e,t)=>"search-begin"===e&&-1!==[Be,qe,We,Ke,Qe,ze].indexOf(t),Xe=(e,t)=>"search-begin"===e&&-1===["pagination","filter-select","remove-breadcrumb","clear-all-filters","contributor-link-details-panel","suggestedsearch","edit-audio-find-similar"].indexOf(t),$e=(e,t,n)=>"audio"===e.asset_type&&"search-begin"===t&&("filter-select"===n||"usertyped"===n||"recentsearch"===n||"autosuggest"===n),Je=()=>{J.get("cookie").set("dunamis-ssid",de(),{path:"/"})},et=(e,t)=>0!==e.indexOf(`${t.protocol}//${t.host}`);function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}class at{constructor(){this.searchResolvers={}}init(e){this.searchResolvers=e||{}}static decorateSearchSequenceId(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!1;const n=e[I],a=e[S],i=!e["ui.search_keyword"],s=Ze(n,a);Xe(n,a)&&!s&&(t=!0),s&&i&&(t=!0),"audio"===e.asset_type&&$e(e,n,a)&&(t=!0),t&&Je()}(e),nt({"stk.search.search_sequence_id":J.get("cookie").get("dunamis-ssid")},e)}decorateSearchAssetType(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{getAssetType:t}=this.searchResolvers;return nt({"stk.search.asset_type_selected":t&&t()},e)}decorate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=at.decorateSearchSequenceId(e);return t=this.decorateSearchAssetType(t),t}}function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}class st{constructor(){this.customResolvers={}}init(e){this.customResolvers=e||this.customResolvers}decorateTouchpoint(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.customResolvers.getTouchpoint&&this.customResolvers.getTouchpoint();return t?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({"stk.external_source":t},e):e}decorate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.decorateTouchpoint(e)}}class rt{constructor(){this.ingestResolvers={},this.initialized=!1,this.userDecorators=new Ue,this.eventDecorators=new Ge,this.searchDecorators=new at,this.customDecorators=new st,this.allowedIngestResolverSchema={search:["getAssetType"],event:["getLocale","getBuild","getSessionId"],user:["getABTests","getAdobeStockUniqueIdentifier","getFeatureFlagsUniqueIdentifier","getCountryCode","getAccountType","getCCMemberStatus","getStockActiveStatus","getTeamProfileType","getUserGuid","getLoggedStatus","getCreditQuota","getUserCCProStatus","getOrganizationCCProStatus","getUserOrganizationDetails","getUniversalSubscriptionFlags"],custom:["getTouchpoint"]}}validate(e){const t=Object.keys(e),n=Object.keys(this.allowedIngestResolverSchema);t.forEach(t=>{if(!n.includes(t))throw new Error(`Unsupported ingest key: ${t}!`);const a=this.allowedIngestResolverSchema[t];Object.keys(e[t]).forEach(n=>{if(!a.includes(n))throw new Error(`Unsupported ingest resolver: ${n}!`);if("function"!=typeof e[t][n])throw new Error(`Unsupported ingest resolver should be of type function: ${n}!`)})})}init(e){this.initialized||(e?(this.validate(e),this.ingestResolvers=e,this.userDecorators.init(e.user),this.eventDecorators.init(e.event),this.searchDecorators.init(e.search),this.customDecorators.init(e.custom),this.initialized=!0):this.initialized=!0)}decorate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.initialized)throw new Error("not yet initialized");if(!this.ingestResolvers)return e;let t=this.userDecorators.decorate(e);return t=this.searchDecorators.decorate(t),t=this.eventDecorators.decorate(t),t=this.customDecorators.decorate(t),t}}function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const dt=new class{constructor(){this.requiredConfig=["ANALYTICS_API_KEY"],this.initialized=!1,this.decorators=new rt}validateConfig(e){this.requiredConfig.forEach(t=>{if(!e||!(t in e))throw new Error(`Missing required config: ${t}!`)})}init(e){if(this.initialized)throw new Error("Already initialized!");this.validateConfig(e);const{ENVIRONMENT:t}=e,n=lt(lt({},function(){const e="prod"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"stage")?Ne:De;return we(we({},{ANALYTICS_PROJECT:"stock-web-service",ANALYTICS_ORGANIZATION_ID:"9E1005A551ED61CA0A490D45@AdobeOrg",SOURCE_NAME:"Stock",SOURCE_VERSION:"1.0",SOURCE_PLATFORM:"Web"}),e)}(t)),e);this.decorators.init(e.ingestResolvers),Re.init(n),Ce.init(n),this.initialized=!0}track(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{if(e&&Object.keys(e).length&&this.initialized){const n=this.decorators.decorate(e);Re.track(n,t)}}catch(e){}}getDicData(){if(!this.initialized)throw new Error("Stock Ingest not initialized yet.");return Ce.build()}},pt=ut(ut({},r),{},{STOCK_USER_COUNTRY:"stk.user.country",STOCK_USER_QUOTA_BALANCE:"stk.user.quota_balance",STOCK_USER_CREDIT_BALANCE:"stk.user.credit_balance"}),_t={CLICK_TYPE_DATA_ATTRIBUTE:"data-ingest-clicktype",EVENT_WORKFLOW_DATA_ATTRIBUTE:"data-ingest-workflow",EVENT_SUBCATEGORY_DATA_ATTRIBUTE:"data-ingest-subcategory",CONTENT_ID_DATA_ATTRIBUTE:"data-ingest-content-id",INGEST_ATTRIBUTE_PREFIX:"data-ingest-"};function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const{EVENT_WORKFLOW_DATA_ATTRIBUTE:Et,EVENT_SUBCATEGORY_DATA_ATTRIBUTE:mt,CLICK_TYPE_DATA_ATTRIBUTE:gt,CONTENT_ID_DATA_ATTRIBUTE:Tt}=_t,bt=new Set([Et,mt,gt,Tt]),vt=ft(ft({},_t),{SELECTED_ASSET_TYPE_COOKIE:"last_selected_asset_type"});function It(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?It(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function At(e,t){return function(e,t){const n=`[${t}]`;return e.closest(n).first()}(e,t).attr(t)}function Ot(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{EVENT_SUBCATEGORY_PROPERTY:n}=pt,a=function(e){return At(e,"data-ingest-subcategory")}(e);return a?St({[n]:a},t):t}function yt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{EVENT_WORKFLOW_PROPERTY:n}=pt,a=function(e){return At(e,"data-ingest-workflow")}(e);return a?St({[n]:a},t):t}function Ct(e,t){return 0!==t.name.indexOf("data-ingest-")||bt.has(t.name)?e:St(St({},e),{},{[(n=t.name,n?n.replace("data-ingest-","").split("-").join("."):"")]:t.value});var n}function Rt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.parentsUntil("body")||{};return e&&e.length&&n.push(e[0]),n.each(e=>{const{attributes:a}=n[e];t=Object.values(a).reduce(Ct,t)}),t}var Lt=a(377),Nt=new class{set(e){if(!Lt.isPlainObject(e))throw new Error("Passed in store is not an object.");this.store=e}get(){return this.store&&"function"==typeof this.store.getState?this.store.getState():this.store}},Dt=a(377);function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Mt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;const n=function(e){if(!function(e){return!!new RegExp("^0*[1-9]([0-9]){5,}$").test(e)}(e))return{};const t=Nt.get(),n=t&&t.search&&t.search.items?t.search.items:[],a=t&&t.details&&t.details.selected&&t.details.selected===e?t.details:[];return n[e]||a[e]||{}}(t);if(Dt.isEmptyObject(n))return e;const{CONTENT_ID_PROPERTY:a,CONTENT_NAME_PROPERTY:i,CONTENT_TYPE_PROPERTY:s,CONTENT_DIMENSION_PROPERTY:r,CONTENT_MIMETYPE_PROPERTY:o,CONTENT_EXTENSION_PROPERTY:l,CONTENT_AUTHOR_PROPERTY:c,CONTENT_CATEGORY_PROPERTY:u}=pt,{author:d,title:p,content_original_width:_,content_original_height:h,content_type:f,format:E,premium_level_id:m,category:g}=n,T=`${_}x${h}`,b=function(e){return e.is_editorial&&!e.is_video?"Editorial-Image":e.is_illustrative?"Illustrative-Editorial":e.asset_type}(n);return wt({[a]:t,[i]:p,[s]:b,[r]:T,[o]:f,[l]:E,[c]:d,[u]:g?g.name:void 0,"stk.content.premium_level":m},e)}function kt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=function(e){return At(e,"data-ingest-content-id")}(e);return Mt(t,n)}var xt=a(377);const Ft={listener:null,install(e){this.listener=e,a.g.document.addEventListener("click",this.handler.bind(this),!0)},getClickType(e){let t=At(e,"data-ingest-clicktype");return e.is('[type="checkbox"]')&&t&&(e.is(":checked")?t+="-checked":t+="-unchecked"),t},handler(e){const{EVENT_TYPE_PROPERTY:t,EVENT_SUBTYPE_PROPERTY:n}=pt,i=xt(e.target);try{const e=this.getClickType(i);if(e){let a={[t]:"click",[n]:e};a=Ot(i,a),a=yt(i,a),a=kt(i,a),a=Rt(i,a),this.listener(a)}}catch(e){a.g.newrelic&&a.g.newrelic.noticeError(e)}}},Ut="undefined"!=typeof window?window:null;var Ht=new class{constructor(e){this._events={},this._win=e}isPerformanceEnabled(){if(!this._win)return!1;const e=this._win.performance.timing.navigationStart,t=this._win.performance.getEntriesByType;return!!e&&!!t}getWindowPerformanceTiming(){return this._win?this._win.performance.timing:null}getWindowEntriesByType(){return this._win?this._win.performance.getEntriesByType("paint"):null}getBrowserDimensions(){return this._win?{width:this._win.innerWidth,height:this._win.innerHeight}:null}}(Ut),jt=a(377);function Yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Gt=a(377);const Bt={listener:null,install(e){this.listener=e,a.g.addEventListener("load",this.handler.bind(this),!0)},handler(){const{EVENT_TYPE_PROPERTY:e,EVENT_SUBTYPE_PROPERTY:t}=pt,n=Gt(a.g.document.body);try{let a={[e]:"visit",[t]:"page-view"};a=Ot(n,a),a=yt(n,a),a=kt(n,a),a=function(){let e,t,n,a,i,s,r,o,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=Vt({},l);return Ht.isPerformanceEnabled()&&(e=Ht.getWindowPerformanceTiming(),t=e.navigationStart,e.domInteractive&&(n=e.domInteractive-t),e.domComplete&&(a=e.domComplete-t),e.domLoading&&(i=e.domLoading-t),e.responseStart&&(s=e.responseStart-t),e.loadEventEnd&&(r=e.loadEventEnd-t),e.domContentLoadedEventEnd&&(o=e.domContentLoadedEventEnd-t),c=Vt(Vt({},l),{},{"stk.perf.dom_interactive":n,"stk.perf.dom_complete":a,"stk.perf.dom_loading":i,"stk.perf.time_first_byte":s,"stk.perf.load_event_end":r,"stk.perf.dom_content_loaded_end":o}),c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Ht.getWindowEntriesByType();let n=null,a=null;return jt.isEmptyObject(t)||t.forEach(e=>{"first-paint"===e.name?n=Math.round(e.startTime):"first-contentful-paint"===e.name&&(a=Math.round(e.startTime))}),Vt(Vt({},e),{},{"stk.perf.first_paint":n,"stk.perf.first_contentful_paint":a})}(c)),c}(a),this.listener(a)}catch(e){a.g.newrelic&&a.g.newrelic.noticeError(e)}}};var qt=a(377);function Wt(){const e=qt("#js-page-config").text();return e&&e.length?JSON.parse(e):null}function Kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Qt(){return zt(zt({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{[k]:"client.v1"})}function Zt(){const e=Nt.get();return e&&e.member?e.member:{}}var Xt=a(377);function $t(){const e=Zt();if(e&&e.imsProfile)return e.imsProfile;const t=Wt();return t&&t.SUSI?t.SUSI.profile:null}function Jt(){const e=Zt();if(e&&e.stockProfile)return e.stockProfile;const t=Wt();return t&&t.member?t.member:null}const en={user:{getABTests:function(){let e=J.get("cookie").get("gabt")||void 0;return e=function(e){let t=e;try{t=t.split(","),t.pop(),t=t.join().replace(/,/g,"|")}catch(e){t=null}return t}(e),e||null},getAdobeStockUniqueIdentifier:function(){return J.get("cookie").get("asui")},getFeatureFlagsUniqueIdentifier:function(){return J.get("cookie").get("ffuuid")},getCountryCode:function(){const e=$t();return e&&e.countryCode?e.countryCode:""},getAccountType:function(){if(J.get("cookie").get("soli"))return"zombie";const e=$t();return e&&e.account_type?e.account_type:""},getCCMemberStatus:function(){const e=Jt();return e&&e.cc_member_status?e.cc_member_status:""},getStockActiveStatus:function(){const e=Jt();return e&&e.stockactivestatus?e.stockactivestatus:""},getTeamProfileType:function(){const e=Jt(),t=e&&e.default_entitlement?e.default_entitlement:null;return t&&t.team_profile_type?t.team_profile_type:""},getUserGuid:function(){const e=$t();return e&&e.userId?e.userId:""},getLoggedStatus:function(){const e=Wt(),t=e?e.member:{};return Xt.isEmptyObject(t)?"logged-out":"logged-in"},getCreditQuota:function(){const e=Zt(),t=e&&e.stockProfile?e.stockProfile.default_entitlement:null;return t?{totalOrders:t.total_orders,availableCreditPackQuota:t.available_credit_pack_quota,totalQuotaAvailable:t.total_quota_available,totalDownloads:t.total_downloads,buyerStatus:t.buyer_status}:null},getUserCCProStatus:function(){const e=Zt();return!!(e&&e.stockProfile&&e.stockProfile.cc_pro_status?e.stockProfile.cc_pro_status:{}).user_has_ccpro},getOrganizationCCProStatus:function(){const e=Zt();return!!(e&&e.stockProfile&&e.stockProfile.cc_pro_status?e.stockProfile.cc_pro_status:{}).organization_has_ccpro},getUserOrganizationDetails:function(){const e=Jt(),t=e&&e.default_entitlement?e.default_entitlement.organization:null;return t?{buyingProgram:t.buying_program,contractId:t.contract_id,marketSegment:t.market_segment,guid:t.guid}:null},getUniversalSubscriptionFlags:function(){const{universalSubscriptionFlags:e={}}=Zt();return e}},search:{getAssetType:function(){return J.get("cookie").get("last_selected_asset_type")||void 0}},event:{getSessionId:function(){return J.get("cookie").get("isid")},getLocale:function(){const e=Wt();return e&&e.default_country_code}}};var tn=a(377);function nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}const an=new class{constructor(){this.requiredConfig=["ANALYTICS_API_KEY"],this.initialized=!1}validateConfig(e){this.requiredConfig.forEach(t=>{if(!e||!(t in e))throw new Error(`Missing required config: ${t}!`)})}init(e){if(this.initialized)throw new Error("Already initialized!");this.validateConfig(e);const t=e;t.ingestResolvers=en,dt.init(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nn(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t)),this.installHandlers(),this.initialized=!0,et(a.g.document.referrer,a.g.location)&&this.fireLandingEvent()}withRedux(e){Nt.set(e)}track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{if(!tn.isEmptyObject(e)&&this.initialized){let i=function(){let e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;const a="landing"===e[I]||!1,i=function(e){let t=e;return e?-1!==e.indexOf("ims/jump/")&&(t=e.split("ims/jump/")[0]+"ims/jump/masked"):t="",t}(t),s=et(t,n),r=e;return a&&i&&s&&(r[F]=i),r}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a.g.document.referrer,a.g.location);return e=Qt(e),e}(e);i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{SOURCE_PLATFORM:t}=pt;return St({[t]:"Web"},e)}(i);const{CONTENT_ID_PROPERTY:s}=pt;s in e?i=Mt(i,e[s]):t&&(i=kt(t,i)),t&&(i=yt(t,i),i=Ot(t,i),i=Rt(t,i)),dt.track(i,n)}}catch(e){}}getDicData(){if(!this.initialized)throw new Error("Not initialized!");return dt.getDicData()}installHandlers(){Ft.install(e=>this.track(e)),Bt.install(e=>this.track(e,null,!0))}fireLandingEvent(){try{const{EVENT_TYPE_PROPERTY:e,EVENT_SUBTYPE_PROPERTY:t}=pt,n=tn(a.g.document.body);let i={[e]:"landing",[t]:"page-landing"};i=Qt(i),this.track(i,n,!0)}catch(e){a.g.newrelic&&a.g.newrelic.noticeError(e)}}}}(),i}()}),define("lib/featureFlag",["jquery","lib/cookie"],function(e,t){"use strict";return{setFeatureFlag:function(n,a,i){if("ff_"==n.substr(0,3)&&(n=n.substr(3)),-1!==e.inArray(n,this.getPossibleFeatureFlags())){var s=new Date,r=s.getTime();(void 0===i||isNaN(parseInt(i))||i<=0)&&(i=2678400),s.setTime(r+1e3*i),t("ff_"+n,a,{path:"/",expires:s})}},getFeatureFlag:function(e){return"ff_"==e.substr(0,3)&&(e=e.substr(3)),t("ff_"+e)},clearAllFeatureFlag:function(){var t=this.getPossibleFeatureFlags();e.each(t,function(e,t){document.cookie="ff_"+t+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"})},getPossibleFeatureFlags:function(){return["1234567890","2394239002","2833207338","1463573426","1468575696","3028003804","8172635401","0987654321","4184758118","1739404142","1213141519","7410334565","1337001337","8248000579","7834791452","4956090825","0618009092","2415698736","7505893547","4156789654","1098887668","8005882300","3295995981","3456789012","8728712981"]}}}),define("lib/analytics/utils",["jquery","lib/featureFlag","page_config","lodash"],function(e,t,n,a){"use strict";var i="C0004";function s(){var e=window.adobePrivacy&&window.adobePrivacy.activeCookieGroups();return!!e&&-1!==e.indexOf(i)}return{getPlanType:function(e,t){var n;if(!e)return"not applicable";switch(e){case"/Applications/StockSubSmallAnnual":n="Small Yearly";break;case"/Applications/StockSubSmallM2M":n="Small Monthly";break;case"/Applications/StockSubMediumAnnual":n="Medium Yearly";break;case"/Applications/StockSubMediumM2M":n="Medium Monthly";break;case"/Applications/StockSubLargeAnnual":n="Large Yearly";break;case"/Applications/StockSubLargeM2M":n="Large Monthly";break;default:try{n=function(e){return e.match(/StockPT/)}(e)?"OD-"+t:e}catch(e){}}return n},getPageInfoForEditorialContent:function(e){var t=null;return e&&(t={editorial:e.is_editorial?"1":"0"}),t},generateUUID:function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)})},onPrivacyConsent:function(e){s()?e():window.addEventListener("adobePrivacy:PrivacyConsent",function t(){s()&&(window.removeEventListener("adobePrivacy:PrivacyConsent",t),e())})},hasUserConsented:s}}),define("lib/analytics/dunamis",["jquery","page_config","app/client","app/constants/dunamis","stockWebIngest","lib/member","lib/analytics/utils","lib/localStorage"],function(e,t,n,a,i,s,r,o){"use strict";var l=i.ingest,c=i.ingestConstants,u=e.extend({},c,a);function d(){var e=n.getInstance();l.init({ENVIRONMENT:t.isProductionServer?"prod":"stage",ANALYTICS_API_KEY:t.SUSI.CLIENT_ID}),l.withRedux(e)}function p(e){var t=e[u.EVENT_TYPE_PROPERTY];return e[u.ASSET_TYPE]===u.AUDIO&&t===u.SEARCH_SUCCESS&&(e[a.EVENT_PARAMS.SEARCH_CONTEXT_SEQUENCE]=r.generateUUID()),e}var _={init:d,track:function(n,a,i,s,r){try{n&&(e.isPlainObject(i)||(i={}),i[c.EVENT_TYPE_PROPERTY]=n,i[c.EVENT_SUBTYPE_PROPERTY]=a||"",i=p(i),t.shouldFlushTrackImmediatelyStockWeb&&(r=!0),l.track(i,s,!!r))}catch(e){}},getDicData:function(e){e(l.getDicData())},getDunamisContextGuid:function(){return t=s.getGuid(),n="DunamisContextGuid",""==(e=o.retrieveData(t,n,"",!0))&&(e=r.generateUUID(),o.storeData(t,n,e,!0)),e;var e,t,n},constants:u,updateContextSequenceForAudio:p};return window.Visitor?d():window.addEventListener("visitorInitialized",function(){d()}),_}),define("lib/analytics",["app/constants/analytics","page_config"],function(e,t){"use strict";var n;return{determineFindingMethod:function(n){var a,i,s;return n||(n=window.location),i=n.pathname.toLowerCase().replace(t.base_url,""),s=n.search.toLowerCase(),"/"===i?a=e.FINDING_METHOD.HOMEPAGE:i.match(/\/images\/(.*)/)?a=e.FINDING_METHOD.IMAGES_DETAIL:i.match(/\/video\/(.*)/)?a=e.FINDING_METHOD.VIDEO_DETAIL:i.match(/\/templates\/(.*)/)?a=e.FINDING_METHOD.TEMPLATES_DETAIL:i.match(/\/3d-assets\/(.*)/)?a=e.FINDING_METHOD.THREE_D_DETAIL:0===i.indexOf("/search")?a=e.FINDING_METHOD.SEARCH:0===i.indexOf("/library")?a=e.FINDING_METHOD.LIBRARIES:0===i.indexOf("/member/licensehistory")?a=e.FINDING_METHOD.LICENSE_HISTORY:0===i.indexOf("/premium")?a=e.FINDING_METHOD.PREMIUM:0===i.indexOf("/stock-photo")?a=e.FINDING_METHOD.ASSET:0===i.indexOf("/contributor")?a=e.FINDING_METHOD.ARTIST:0===i.indexOf("/plans")?a=e.FINDING_METHOD.PLANS:0===i.indexOf("/teams")?a=e.FINDING_METHOD.TEAMS:0===i.indexOf("/collections")?a=e.FINDING_METHOD.COLLECTIONS:0===i.indexOf("/promo")?a=e.FINDING_METHOD.PROMO:0===i.indexOf("/category")?a=e.FINDING_METHOD.CATEGORY:0===i.indexOf("/images")?a=e.FINDING_METHOD.IMAGES:0===i.indexOf("/templates")?a=e.FINDING_METHOD.TEMPLATES:0===i.indexOf("/3d-assets")?a=e.FINDING_METHOD.THREE_D:0===i.indexOf("/video")?a=e.FINDING_METHOD.VIDEO:0===i.indexOf("/editorial")?a=e.FINDING_METHOD.EDITORIAL:(s.indexOf("x-product")>-1||s.indexOf("as-channel")>-1||s.indexOf("ssocc")>-1||s.indexOf("sso_inbound")>-1)&&(a=e.FINDING_METHOD.ADOBE_APPS),a},setSelectionMethod:function(e){n=e},getSelectionMethod:function(){return n}}}),define("lib/susi",["jquery","lodash","lib/cookie","lib/window","lib/member","lib/error","lib/localStorage","page_config","lib/analytics/dunamis","lib/analytics","app/constants/analytics","app/utils/url"],function(e,t,n,a,i,s,r,o,l,c,u,d){"use strict";var p={},_=e.Deferred(),h=e.Deferred(),f=l.constants;return"withCredentials"in new XMLHttpRequest||s.displayErrorModal(e(".js-unsupported-browser-title").val(),e(".js-unsupported-browser-body").val(),null),{_thirdPartyCookiesDisabled:!1,_waitTime:1e4,ready:_.promise(),onReady:h.promise(),configure:function(e){p=e,e.profile&&(i.setImsProfile(e.profile),this.setToken(e.profile.access_token,null,!0),_.resolve(e.profile))},hasToken:function(){return!!n(p.COOKIE_IMS_ACCESS_TOKEN)},getToken:function(){return n(p.COOKIE_IMS_ACCESS_TOKEN)},setToken:function(e,t,a){if(p.IGNORE_COOKIE_UPDATE)return!1;if(e===this.getToken())return!1;var i=new Date;return a||(t&&t.expiresAtMilliseconds>Date.now()?(i.setTime(t.expiresAtMilliseconds),n(p.COOKIE_IMS_ACCESS_TOKEN,e,{path:"/",expires:i})):this.setLoggedOutCookie()),!0},setLoggedOutCookie:function(){var e=new Date(Date.now()+1e3*p.COOKIE_IMS_LOGGED_OUT_TTL);n(p.COOKIE_IMS_LOGGED_OUT,!0,{path:"/",expires:e})},clearLoggedOutCookie:function(){n(p.COOKIE_IMS_LOGGED_OUT,null,{path:"/",expires:0})},clearLoggedInCookie:function(e){n(p.COOKIE_IMS_ACCESS_TOKEN,null,{path:"/",expires:0}),n(p.COOKIE_IMS_IMPERSONATOR_TOKEN,null,{path:"/",expires:0}),e&&n(p.COOKIE_STOCK_ONLY_LOGGED_IN,null,{path:"/",expires:0})},setLoggedOut:function(e){this.setLoggedOutCookie(),this.clearLoggedInCookie(e)},reloadPage:function(){a.reloadLocation()},cookielessRedirect:function(){if(this.hasCookies())return!1;var e=p.COOKIES_DISABLED+"=1",t=a.getLocation(),n=t.search?t.search+"&"+e:"?"+e;return a.setLocation("//"+t.hostname+t.pathname+n+t.hash),!0},removeTrackerFromUrl:function(){var e=new RegExp(p.QS_IMS_SIGNIN_ATTEMPT+"=1(&)?"),t=a.getPath().replace(e,"");t=t.replace(/^\/{2,}/,"/"),a.replaceState({},document.title,t)},initPage:function(){var e,t=this,a=!1,s=!1;if(window.adobeid={client_id:p.CLIENT_ID,locale:p.LOCALE,optimizations:{fastEvents:!1},uses_redirect_mode:!0,uses_modal_mode:!1,api_parameters:{authorize:{ctx_id:p.DEFAULT_IMS_CONTEXT_ID,state:{ac:p.OMNITURE_AC_STATE}}},scope:p.SCOPES.join(","),onProfile:function(e){!!o.do_not_logout||e||!t.hasToken()||p.IGNORE_COOKIE_UPDATE||n(p.COOKIE_STOCK_ONLY_LOGGED_IN)||(a=!0),"resolved"==_.state()&&p.profile.userId==e.userId||(s=!0,i.setImsProfile(e),setTimeout(function(){_.resolve(e)},0))},onAccessTokenHasExpired:function(){},onAccessToken:function(e,n){(a||s)&&t.setToken(e,n,!1)},onError:function(e){h.reject(e)},onReady:function(){if(a)return t.logout(!0),void h.reject();t.removeTrackerFromUrl(),t._bindLinks(),h.resolve()}},o.isIMSAuthCodeWorkflowEnabled){e=p.profile||null;try{window.adobeid.onProfile(e)}catch(e){window.adobeid.onError(e)}window.adobeid.onReady()}},login:function(e,t,n,a,s){this.clearLoggedOutCookie(),i.clearCachedStorageAccessData();var r=this._getRedirectURI(e,t,n,a,s);o.isIMSAuthCodeWorkflowEnabled?this.imsSignIn(r):s?window.adobeIMS.signInWithSocialProvider(s,r):window.adobeIMS.signIn(r)},signUp:function(e,t,n,a){var s=this._getRedirectURI(e,t,n,a);this.clearLoggedOutCookie(),i.clearCachedStorageAccessData(),o.isIMSAuthCodeWorkflowEnabled?this.imsSignUp(s):window.adobeIMS.signUp(s)},_getRedirectURI:function(t,n,i,s,r){var o="",l=a.getLocation(),c=l.protocol+"//"+l.host,u="",d={redirect_uri:null};function _(e){if((e=e||"").indexOf(p.QS_IMS_SIGNIN_ATTEMPT)>-1)return e;var t=p.QS_IMS_SIGNIN_ATTEMPT,n=0===e.indexOf("?")?"&":"?";return e+n+t+"=1"}return e.isEmptyObject(n)||e.each(n,function(e,t){u+="&"+e+"="+t}),o=p.REDIRECT_URI?p.REDIRECT_URI+_()+u:t?(0===t.indexOf("/")?c+t:t)+_()+u:c+l.pathname+_(l.search)+u+(i?"":l.hash),d.redirect_uri=o,e.isEmptyObject(s)||e.extend(d,s),r&&e.extend(d,{idp_flow:"social.deep_link.web",provider_id:r}),d},_bindLinks:function(){var t=this,n=!1,a={};function i(e){t.dunamisTrackingForSusiEvents(e,f.SUSI.CREATE_ACCOUNT),t.hasCookies()?t.signUp():t._showCookiePopup(!1)}function s(i){t.dunamisTrackingForSusiEvents(i,f.SUSI.LOGIN),t.hasCookies()?(e(this).data("redirect-url")&&(n=e(this).data("redirect-url")),e(this).data("redirect-params")?a=e(this).data("redirect-params"):e(this).data("content-id")&&(a={return_id:e(this).data("content-id")}),t.login(n,a),i.preventDefault()):t._showCookiePopup(!1)}e(document.body).on("click",".js-susi-signup",i),e(window).on("portal:userSignUp",i),e(window).on("portal:userSignIn",s),e(document.body).on("click",".js-susi-login",s),e(document.body).on("click",".js-susi-logout",function(e){t.hasCookies()?t.logout():t._showCookiePopup(!1),e.preventDefault()}),e(document.body).on("click",".js-logout-migrated-member",function(n){t.logout(null,e(this).data("redirect-url"))})},zombieLogin:function(e,t){i.setImsProfile(t),i.setStockProfile(e)},initShim:function(){var t=this,n=!1;return h.reject(),_.reject(),!t.cookielessRedirect()&&(window.adobeid={client_id:p.CLIENT_ID,locale:p.LOCALE,uses_redirect_mode:!0,uses_modal_mode:!1,optimizations:{fastEvents:!0},api_parameters:{authorize:{ctx_id:p.DEFAULT_IMS_CONTEXT_ID,state:{ac:p.OMNITURE_AC_STATE}}},scope:p.SCOPES.join(","),onProfile:function(e){e?t.setLoggedOutCookie():(t.setLoggedOut(),p.AUTH_REQUIRED?(t.clearLoggedOutCookie(),o.isIMSAuthCodeWorkflowEnabled?this.imsSignIn():window.adobeIMS.signIn()):n=!0)},onError:function(){t.reloadPage()},onAccessTokenHasExpired:function(){t.setLoggedOut()},onAccessToken:function(e,a){p.IGNORE_COOKIE_UPDATE||(t.clearLoggedOutCookie(),t.setToken(e,a,!1),n=!0)},onReady:function(){if(n){var i,s=a.getSearchObject();if(void 0!==s[p.QS_IMS_SSO_INBOUND]){if(delete s[p.QS_IMS_SSO_INBOUND],s[p.QS_IMS_SSO_COUNTRY_CHECK]=1,window.history&&window.history.replaceState)return i=window.location.pathname,e.isEmptyObject(s)||(i+="?"+e.param(s)),window.history.replaceState({},document.title,i),void t.reloadPage();a.getLocation().search=""}else t.reloadPage()}}},!0)},hasCookies:function(){if(!navigator.cookieEnabled)return!1;var e="modernizercookietest";try{document.cookie=e+"=1";var t=-1!==document.cookie.indexOf(e);return document.cookie=e+"=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",t}catch(e){return!1}},failedIMSLoad:function(){this.setLoggedOutCookie(),this.reloadPage()},_getSUSIParams:function(n){var a={locale:window.adobeid.locale,client_id:window.adobeid.client_id,scope:window.adobeid.scope};return"zh_HK"!==t.get(a,"locale")||o.isThaiAndUkrainianLocalizationEnabled||(a.locale="en_US"),a=e.extend(a,n),a=e.extend(a,window.adobeid.api_parameters.authorize)},imsSignUp:function(e){var t=this._getSUSIParams(e);t.idp_flow="create_account";var n=o.SUSI.URLS.SIGN_IN+d.buildQueryString(t,o.SUSI.URLS.SIGN_IN);a.setLocation(n)},imsSignIn:function(e){var t=this._getSUSIParams(e),n=o.SUSI.URLS.SIGN_IN+d.buildQueryString(t,o.SUSI.URLS.SIGN_IN);a.setLocation(n)},imsSignOut:function(e,t){var n={redirect_uri:t,access_token:e,locale:window.adobeid.locale,client_id:window.adobeid.client_id},i=o.SUSI.URLS.SIGN_OUT+d.buildQueryString(n,o.SUSI.URLS.SIGN_OUT);a.setLocation(i)},logout:function(t,s){var r=this;e.ajax({url:o.base_url+"/Ajax/Logout",method:"POST"}).success(function(){var e="interim"===n(p.COOKIE_STOCK_ONLY_LOGGED_IN),l=r.getToken();r.setLoggedOut(e);var c=s||p.URLS.LOGOUT,u=void 0!==a.getSearchObject()[p.QS_IMS_SIGNIN_ATTEMPT];i.clearCachedStorageAccessData(),t?u?(r._thirdPartyCookiesDisabled=!0,r._showCookiePopup(!0)):a.getLocation("href")==c?a.reloadLocation():a.setLocation(c):window.adobeIMS&&!e?window.adobeIMS.signOut({redirect_uri:c}):o.isIMSAuthCodeWorkflowEnabled&&!e?r.imsSignOut(l,c):a.setLocation(c)})},loadPageIMS:function(){this._lazyload([p.URLS.IMS],function(){},{})},loadShimIMS:function(){var e=this;try{this._lazyload([p.URLS.IMS],function(){void 0===window.adobeIMS&&e.failedIMSLoad()},function(){window.setTimeout(function(){e.failedIMSLoad()},e._waitTime)})}catch(t){e.failedIMSLoad()}window.setTimeout(function(){e.failedIMSLoad()},this._waitTime)},hasThirdPartyCookiesDisabled:function(){return!0===this._thirdPartyCookiesDisabled},checkoutModalLogin:function(e,t,n,a,i,s){var l={};r.storeData(null,o.startCheckoutModalOnParam,!0),e&&(l.content_id=e),t&&(l.product_key=t),n&&(l[o.startCheckoutModalOnParam]=1),i&&(l.license_id=i),this.login(null,l,!0,a,s)},_lazyload:function(){require.apply(null,arguments)},_showCookiePopup:function(t){var n=this,a=".js-cookies-title",i=".js-cookies-body";t&&(a=".js-third-party-cookies-title",i=".js-third-party-cookies-body"),s.displayErrorModal(e(a).val(),e(i).val(),null,function(){n.reloadPage()})},dunamisTrackingForSusiEvents:function(t,n){try{var a,i=e(t.target).closest(".js-details"),s=e(t.target).closest(".js-hover-container"),r=null,o=null,c={};i.length?(r="details-",o=i):s.length&&(r="hover-",o=s),o&&(a=o.attr("data-ingest-content-id"),c[f.CONTENT_ID]=a,l.track(f.CLICK,r+n,c,e("body")))}catch(e){}}}}),define("text",{}),define("hbs",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),define("hbs!templates/badgeTooltip",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return" tooltip-container--scroll tooltip-container--medium"},3:function(e,t,n,a){var i;return'                <table class="white-text left-align js-tooltip-table" data-t="'+this.escapeExpression(this.lambda(null!=e?e.dataT:e,e))+'">\n'+(null!=(i=t.each.call(e,null!=e?e.rows:e,{name:"each",hash:{},fn:this.program(4,a,0),inverse:this.noop,data:a}))?i:"")+"                </table>\n"},4:function(e,t,n,a){return'                        <tr>\n                            <td class="padding-right-xsmall" data-t="'+this.escapeExpression(this.lambda(null!=e?e.labelDataT:e,e))+'">'+this.escapeExpression(this.lambda(null!=e?e.label:e,e))+'</td>\n                            <td data-t="'+this.escapeExpression(this.lambda(null!=e?e.valueDataT:e,e))+'">'+this.escapeExpression(this.lambda(null!=e?e.value:e,e))+"</td>\n                        </tr>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="tooltip-wrapper tooltip-wrapper--v2 js-tooltip-wrapper" data-is-hidden="true">\n    <div class="badge-tooltip">\n        <div class="js-badge-tooltip-title left-align"></div>\n        <div class="tooltip-container '+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"1",logic:"more",value:null!=(i=null!=e?e.tooltip_data:e)?i.length:i},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'" data-t="'+this.escapeExpression("function"==typeof(s=null!=(s=t.dataT||(null!=e?e.dataT:e))?s:t.helperMissing)?s.call(e,{name:"dataT",hash:{},data:a}):s)+'">\n'+(null!=(i=t.each.call(e,null!=e?e.tooltip_data:e,{name:"each",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+"        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/thumbnailBadges",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="js-thumbnail-badge-container">\n'+(null!=(i=this.invokePartial(n.thumbnailBadge,e,{name:"thumbnailBadge",data:a,indent:"    ",helpers:t,partials:n}))?i:"")+"</div>\n"},usePartial:!0,useData:!0})}),define("hbs!templates/thumbnailBadge",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'    <div class="thumbnail-badge-wrapper-v2 grey '+(null!=(i=(t["if-or"]||e&&e["if-or"]||t.helperMissing).call(e,null!=e?e.is3D:e,null!=e?e.isTemplate:e,{name:"if-or",hash:{},fn:this.program(2,a,0),inverse:this.program(4,a,0),data:a}))?i:"")+'">\n'+(null!=(i=t.if.call(e,null!=e?e.displayLicensedBadge:e,{name:"if",hash:{},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.displayTransferredBadge:e,{name:"if",hash:{},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.displayRequestedBadge:e,{name:"if",hash:{},fn:this.program(11,a,0),inverse:this.noop,data:a}))?i:"")+"    </div>\n"},2:function(e,t,n,a){return"margin-bottom-xxlarge"},4:function(e,t,n,a){return"margin-bottom-medium"},6:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.thumbnailLicensedBadge,e,{name:"thumbnailLicensedBadge",data:a,indent:"        ",helpers:t,partials:n}))?i:""},8:function(e,t,n,a){var i;return'        <div class="image-transferred-badge badge-with-tooltip badge-with-tooltip--v2 js-image-transferred-badge js-badge-with-tooltip'+(null!=(i=(t["if-or"]||e&&e["if-or"]||t.helperMissing).call(e,null!=e?e.isPremium:e,null!=e?e.isEditorial:e,null!=e?e.isIllustrative:e,{name:"if-or",hash:{},fn:this.program(9,a,0),inverse:this.noop,data:a}))?i:"")+'"\n             data-t="transfer-badge-checkmark-section"\n        >\n        <span data-t="transfer-badge-checkmark-text">\n            <div class="badge--icon">\n                <i class="icon-checkmark thumbnail-badge-icon" data-t="transfer-badge-checkmark-icon"></i>\n            </div>\n            <div class="badge--text js-badge-text">\n                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"LIBRARIES::STATE::Transferred",{name:"_",hash:{},data:a}))+'\n            </div>\n        </span>\n            <div class="js-tooltip-holder">\n'+(null!=(i=this.invokePartial(n.badgeTooltip,e,{name:"badgeTooltip",hash:{tooltip_data:null!=e?e.license_transfer_tooltip_data:e,dataT:"license-transfer-tooltip-container"},data:a,indent:"                ",helpers:t,partials:n}))?i:"")+'            </div>\n            <div class="tooltip-triangle js-tooltip-triangle"></div>\n        </div>\n'},9:function(e,t,n,a){return" badge-truncate badge-truncate--transferred"},11:function(e,t,n,a){var i;return'        <div class="image-license-requested-badge badge-with-tooltip badge-with-tooltip--v2 js-image-license-requested-badge js-badge-with-tooltip blue bleu-de-france"\n             data-t="license-request-badge-checkmark-section"\n        >\n        <span data-t="license-request-badge-checkmark-text">\n            <div class="badge--icon">\n                <i class="mti-icon icon-pending thumbnail-badge-icon" data-t="requested-badge-checkmark-icon"></i>\n            </div>\n            <div class="badge--text">\n                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"LIBRARIES::STATE::Pending",{name:"_",hash:{},data:a}))+'\n            </div>\n        </span>\n            <div class="js-tooltip-holder">\n'+(null!=(i=this.invokePartial(n.badgeTooltip,e,{name:"badgeTooltip",hash:{tooltip_data:null!=e?e.license_request_data:e,dataT:"license-request-tooltip"},data:a,indent:"                ",helpers:t,partials:n}))?i:"")+'            </div>\n            <div class="tooltip-triangle js-tooltip-triangle"></div>\n        </div>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=(t["if-or"]||e&&e["if-or"]||t.helperMissing).call(e,null!=e?e.displayLicensedBadge:e,null!=e?e.displayTransferredBadge:e,null!=e?e.displayRequestedBadge:e,{name:"if-or",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:""},usePartial:!0,useData:!0})}),define("hbs!templates/modalWindow/message",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'data-ingest-workflow="'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.workflow:i,e))+'"'},3:function(e,t,n,a){return"modal--in-front"},5:function(e,t,n,a){var i;return'data-ingest-subcategory="'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.subcategory:i,e))+'"'},7:function(e,t,n,a){return'                <div class="motmot">\n                    <div class="padding-small container-relative">\n                        <button type="button" class="js-modal-window-dismiss-button container-absolute to-the-top to-the-right">\n                            <i class="mti-icon mti-large mti-default-button icon-close grey mountain-mist-text"></i>\n                        </button>\n                    </div>\n                </div>\n'},9:function(e,t,n,a){var i;return' <a href="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.body_link:i,e))+'" target="_blank">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.body_link_label:i,e))+"</a>"},11:function(e,t,n,a){var i;return' href="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.button_link:i,e))+'"'},13:function(e,t,n,a){var i;return this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.button_class:i,e))},15:function(e,t,n,a){return"js-modal-window-dismiss-button"},17:function(e,t,n,a){var i;return'data-redirect-url="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.button_data_redirect_url:i,e))+'"'},19:function(e,t,n,a){var i;return'data-ingest-clicktype="'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.ok_click:i,e))+'"'},21:function(e,t,n,a){var i;return'                <a data-t="message-modal-close-button" class="js-modal-window-dismiss-button modal-window-dismiss-button rounded-button grey">\n                    <span data-t="message-modal-close-label">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.button_close_label:i,e))+"</span>\n                </a>\n"},23:function(e,t,n,a){var i;return'                <p class="modal-window-footer">\n                    <a href="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.footer_link:i,e))+'" '+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.target_blank:i,{name:"if",hash:{},fn:this.program(24,a,0),inverse:this.noop,data:a}))?i:"")+' class="alternative">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.footer_link_label:i,e))+"</a>\n                </p>\n"},24:function(e,t,n,a){return'target="_blank"'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="modal-message" '+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.workflow:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'>\n    <div class="modal-window-canvas '+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.warning:i,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+'" '+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.subcategory:i,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+'>\n        <div class="modal-window-container">\n'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.icon_close:i,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:"")+'            <p class="modal-window-badge"><img src="'+this.escapeExpression((t.staticCdn||e&&e.staticCdn||t.helperMissing).call(e,"/v1/pics/all/default/stock_logo_2020_dark.svg",{name:"staticCdn",hash:{},data:a}))+'" width="125" /></p>\n            <p class="modal-window-header" data-t="message-modal-title" id="modal-title">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.subject:i,e))+'</p>\n            <div class="modal-window-body" data-t="message-modal-body" id="bh-modal-body">\n                '+(null!=(i=this.lambda(null!=(i=null!=e?e.message:e)?i.body:i,e))?i:"")+"\n                "+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.body_link_label:i,{name:"if",hash:{},fn:this.program(9,a,0),inverse:this.noop,data:a}))?i:"")+'\n            </div>\n            <p class="modal-window-footer">\n                <a id="modal-ok-button" data-t="message-modal-ok-button"'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.button_link:i,{name:"if",hash:{},fn:this.program(11,a,0),inverse:this.noop,data:a}))?i:"")+' class="modal-window-dismiss-button rounded-button blue '+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.button_class:i,{name:"if",hash:{},fn:this.program(13,a,0),inverse:this.program(15,a,0),data:a}))?i:"")+'" '+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.button_data_redirect_url:i,{name:"if",hash:{},fn:this.program(17,a,0),inverse:this.noop,data:a}))?i:"")+" "+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.ok_click:i,{name:"if",hash:{},fn:this.program(19,a,0),inverse:this.noop,data:a}))?i:"")+'>\n                    <span data-t="message-modal-ok-label">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.button_label:i,e))+"</span>\n                </a>\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.button_close:i,{name:"if",hash:{},fn:this.program(21,a,0),inverse:this.noop,data:a}))?i:"")+"            </p>\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.footer_link:i,{name:"if",hash:{},fn:this.program(23,a,0),inverse:this.noop,data:a}))?i:"")+"        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/modalWindow/confirmation",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'data-ingest-workflow="'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.workflow:i,e))+'"'},3:function(e,t,n,a){var i;return'data-ingest-subcategory="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.subcategory_dunamis:i,e))+'"'},5:function(e,t,n,a){var i;return'                <div class="modal-window-thumb">\n                    <img src="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.thumb_url:i,e))+'"/>\n                </div>\n'},7:function(e,t,n,a){var i;return'                <div class="modal-window-body" data-t="confirmation-modal-body-text">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.question:i,e))+"</div>\n"},9:function(e,t,n,a){var i;return null!=(i=t.unless.call(e,null!=(i=null!=(i=null!=e?e.message:e)?i.extended_license:i)?i.hide_license_type:i,{name:"unless",hash:{},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:""},10:function(e,t,n,a){var i;return'                    <div class="text-align-center">\n                        <div class="select-box select-box--silent">\n                            <select id="select-licenses">\n'+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.message:e)?i.extended_license:i)?i.is_video:i,{name:"if",hash:{},fn:this.program(11,a,0),inverse:this.program(13,a,0),data:a}))?i:"")+'                            </select>\n                        </div>\n                        <span class="question-mark"><a class="question-mark-hover" target="_blank" href="'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.message:e)?i.extended_license:i)?i.license_terms_url:i,e))+'"><i class="icon-help-circled"></i></a></span>\n                        <div>\n'},11:function(e,t,n,a){return'                                    <option value="Standard" disabled="disabled">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"FILE::ACTION::Standard License",{name:"_",hash:{},data:a}))+'</option>\n                                    <option value="Extended" selected="selected">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"FILE::ACTION::Enhanced License",{name:"_",hash:{},data:a}))+"</option>\n"},13:function(e,t,n,a){var i;return'                                    <option value="Standard">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"FILE::ACTION::Standard License",{name:"_",hash:{},data:a}))+"</option>\n"+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.message:e)?i.extended_license:i)?i.price:i,{name:"if",hash:{},fn:this.program(14,a,0),inverse:this.program(16,a,0),data:a}))?i:"")},14:function(e,t,n,a){var i;return'                                        <option value="Extended">'+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"FILE::ACTION::Extended License (%s)",{name:"_",hash:{},data:a}),null!=(i=null!=(i=null!=e?e.message:e)?i.extended_license:i)?i.price:i,{name:"sprintf",hash:{},data:a}))+"</option>\n"},16:function(e,t,n,a){return'                                        <option value="Extended" disabled="disabled">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"FILE::ACTION::Extended License",{name:"_",hash:{},data:a}))+"</option>\n"},18:function(e,t,n,a){var i;return'                    <a id="modal-cancel-button" href="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.cancel_button_link:i,e))+'" class="button button--secondary modal-window-cancel-button" '+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.cancel_button:i,{name:"if",hash:{},fn:this.program(19,a,0),inverse:this.noop,data:a}))?i:"")+">\n                        "+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.cancel_button_label:i,e))+'\n                    </a>\n                    <a id="modal-confirm-button" data-redirect-url="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.confirm_button_link:i,e))+'" href="#" class="button button--action modal-window-confirm-button js-logout-migrated-member" '+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.confirm_button:i,{name:"if",hash:{},fn:this.program(21,a,0),inverse:this.noop,data:a}))?i:"")+">\n                        "+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.confirm_button_label:i,e))+"\n                    </a>\n"},19:function(e,t,n,a){var i;return'data-ingest-clicktype="'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.cancel_button:i,e))+'"'},21:function(e,t,n,a){var i;return'data-ingest-clicktype="'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.confirm_button:i,e))+'"'},23:function(e,t,n,a){var i;return'                    <button id="modal-cancel-button" class="button button--secondary modal-window-cancel-button js-modal-window-cancel-button" data-t="confirmation-modal-cancel-button" '+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.cancel_button:i,{name:"if",hash:{},fn:this.program(19,a,0),inverse:this.noop,data:a}))?i:"")+'>\n                        <span data-t="confirmation-modal-cancel-button-label">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.cancel_button_label:i,e))+'</span>\n                    </button>\n                    <button id="modal-confirm-button" class="button button--action modal-window-confirm-button js-modal-window-confirm-button" data-t="confirmation-modal-confirm-button" '+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.confirm_button:i,{name:"if",hash:{},fn:this.program(21,a,0),inverse:this.noop,data:a}))?i:"")+'>\n                        <span data-t="confirmation-modal-confirm-button-label">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.confirm_button_label:i,e))+"</span>\n                    </button>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="modal-confirmation motmot" data-t="confirmation-modal">\n    <div class="modal-window-canvas" '+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.message:e)?i.dunamis:i)?i.workflow:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'>\n        <div class="modal-window-container" '+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.subcategory_dunamis:i,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+'>\n            <p class="modal-window-badge"><img src="'+this.escapeExpression((t.staticCdn||e&&e.staticCdn||t.helperMissing).call(e,"/v1/pics/all/default/stock_logo_2020_dark.svg",{name:"staticCdn",hash:{},data:a}))+'" width="125" /></p>\n            <p class="modal-window-header" id="modal-title" data-t="confirmation-modal-subject-text">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.subject:i,e))+"</p>\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.thumb_url:i,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.question:i,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.extended_license:i,{name:"if",hash:{},fn:this.program(9,a,0),inverse:this.noop,data:a}))?i:"")+'            <p class="modal-window-footer">\n'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.use_links:i,{name:"if",hash:{},fn:this.program(18,a,0),inverse:this.program(23,a,0),data:a}))?i:"")+"            </p>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/modalWindow/partials/t2eMigrationContent",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="padding-bottom-xlarge">\n    <p class="left-align grey gravel-text">'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.properties:e)?i.data:i)?i.heading:i,e))+'</p>\n    <div class="padding-xlarge padding-top-medium margin-bottom-xlarge left-align white grey gravel-text border-radius-4">\n        <p class="text-sregular margin-top-xsmall"><b>'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.properties:e)?i.data:i)?i.benefits:i,e))+'</b></p>\n        <p class="text-sregular">'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.properties:e)?i.data:i)?i.body:i,e))+'</p>\n        <ul class="list-style-disc text-sregular margin-left-xlarge">\n            <li class="margin-bottom-medium">'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.properties:e)?i.data:i)?i.bullet1:i,e))+'</li>\n            <li class="margin-bottom-medium">'+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.properties:e)?i.data:i)?i.bullet2:i,e))+"</li>\n            <li>"+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.properties:e)?i.data:i)?i.bullet3:i,e))+"</li>\n        </ul>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/modalWindow/partials/t2eMigrationFooter",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<button class="js-modal-window-dismiss-button white-text margin-right-medium">\n    '+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.properties:e)?i.data:i)?i.later:i,e))+'\n</button>\n<button id="modal-window-start-migration" class="button button--dialog hide-modal" type="submit">\n    '+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.properties:e)?i.data:i)?i.start:i,e))+"\n</button>\n"},useData:!0})}),define("hbs!templates/modalWindow/partials/t2eMigrationLinkReminderContent",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="padding-bottom-xlarge" data-t="t2e-modal-link-reminder-content">\n    <p class="left-align grey gravel-text text-medium">\n        '+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"MIGRATION::You can still transfer your content later. You can do so by navigate to %s to make the transfer.",{name:"_",hash:{},data:a}),(t.linkBuilder||e&&e.linkBuilder||t.helperMissing).call(e,null!=(i=null!=(i=null!=e?e.properties:e)?i.data:i)?i.t2e_migration_url:i,{name:"linkBuilder",hash:{target:"_blank",class:"blue bleu-de-france-text",text:"stock.adobe.com/migration"},data:a}),{name:"sprintf",hash:{},data:a}))?i:"")+'\n    </p>\n    <p class="left-align grey gravel-text text-medium">\n        '+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"MIGRATION::You can also contact %s for additional support.",{name:"_",hash:{},data:a}),(t.linkBuilder||e&&e.linkBuilder||t.helperMissing).call(e,"https://www.adobe.com/go/get-started",{name:"linkBuilder",hash:{target:"_blank",class:"blue bleu-de-france-text",text:(t._||e&&e._||t.helperMissing).call(e,"MIGRATION::Adobe Customer Care",{name:"_",hash:{},data:a}),"gotourl-localize":!0},data:a}),{name:"sprintf",hash:{},data:a}))?i:"")+"\n    </p>\n</div>\n\n"},useData:!0})}),define("hbs!templates/modalWindow/partials/t2eMigrationLinkReminderFooter",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<button class="button button--dialog hide-modal js-motmot-modal-close"\n        type="submit">\n    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MIGRATION::Continue",{name:"_",hash:{},data:a}))+"\n</button>\n"},useData:!0})}),define("hbs!templates/modalWindow/saveToDevice",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'                    <img src="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.data:e)?i.asset_link:i,e))+'" class="modal-window-asset" />\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="modal-save-to-device">\n    <div class="modal-window-canvas">\n        <div class="modal-window-container">\n            <p class="modal-window-help-text">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.data:e)?i.help_text:i,e))+'</p>\n            <button type="button" id="details-close-button" class="detail-nav-button modal-window-dismiss-icon js-modal-window-dismiss-button">\n                <i class="icon-close"></i>\n            </button>\n            <div class="modal-window-asset-container">\n'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.data:e)?i.display_image:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+"            </div>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/modalWindow/cceFreeLicenseAgreementModal",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="motmot">\n    <div class="mti-modal modal--with-header modal--secondary modal--medium animated fade-in" data-state="shown">\n        <div class="modal__body overflow-visible center-align">\n            <i class="modal__close mti-icon icon-close js-modal-window-dismiss-button"></i>\n            <div class="modal__header">\n                <span class="text-sregular" data-t="modal-title">\n                    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::CCE::FREE::License for your organization",{name:"_",hash:{},data:a}))+'\n                </span>\n            </div>\n            <div class="modal__content">\n                <div class="text-regular margin-top-small">\n                    <span class="grey dove-text" data-t="modal-intro">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::CCE::FREE::You're licensing for your organization",{name:"_",hash:{},data:a}))+'</span>\n                    <a class="container-relative" data-tooltip="top info" aria-label="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::CCE::FREE::To license this asset for your own personal use, please switch to your personal account.",{name:"_",hash:{},data:a}))+'">\n                        <i class="mti-icon icon-info blue bleu-de-france-text"/>\n                    </a>\n                </div>\n                <div class="row">\n                    <div class="column on-small-6 on-small-offset-3">\n                        <div class="switch switch--card margin-top-medium">\n                            <div class="padding-top-xsmall">\n                                <img src="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.assetData:e)?i.content_thumb_large_url:i,e))+'" alt="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.assetData:e)?i.title:i,e))+'" class="responsive-img" data-t="modal-preview-img" />\n                            </div>\n                        </div>\n                        <div class="container-table container-full margin-top-small">\n                            <div class="font-bold text-uppercase container-table-row">\n                                <div class="container-table-cell right margin-bottom-small" ><span data-t="modal-content-price" >'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::CCE::FREE::Price: Free",{name:"_",hash:{},data:a}))+'</span></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="row">\n                    <p class="text-small margin-xsmall margin-top-small border-top-1 silver-sand-border border-top-solid padding-top-small grey dove-text">\n                        <span data-t="modal-disclaimer">'+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,'MODAL::LICENSE::CCE::FREE::By clicking "License", you agree to the %son behalf of your organization and confirm that you (i) have the full legal authority to bind your employer or organization to these terms and (ii) are responsible for all use of current and future licensed assets.',{name:"_",hash:{},data:a}),(t.linkBuilder||e&&e.linkBuilder||t.helperMissing).call(e,null!=e?e.licenseTermsUrl:e,{name:"linkBuilder",hash:{text:(t._||e&&e._||t.helperMissing).call(e,"LICENSE::TERMS::Adobe Stock Terms",{name:"_",hash:{},data:a}),target:"_blank",class:"blue bleu-de-france-text","data-t":"license-terms-url","gotourl-localize":!0},data:a}),{name:"sprintf",hash:{},data:a}))?i:"")+'</span>\n                    </p>\n                </div>\n            </div>\n            <div class="modal__footer center-align container-absolute container-full">\n                <button class="js-modal-window-license-button button button--dialog button--action" data-t="modal-btn-cta">\n                    <span data-t="modal-btn-cta-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::License",{name:"_",hash:{},data:a}))+"</span>\n                </button>\n            </div>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/modalWindow/cceMultipleChoices",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i,s;return'                                <div class="row align-center">\n                                    <div class="column on-small-12 center-align hide" id="js-container-multiple-choices-editorial-restrictions" data-t="modal-multiple-choices-editorial-restrictions">\n                                        <div class="padding-top-medium">\n                                            <div class="blue bleu-de-france-text">\n                                                <i class="mti-icon icon-infofull mti-2x"></i>\n                                            </div>\n                                        </div>\n\n                                        <div class="padding-top-xsmall padding-bottom-xsmall">\n                                            <span class="text-regular">\n'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.data:e)?i.is_video:i,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.program(4,a,0),data:a}))?i:"")+'                                            </span>\n                                        </div>\n                                        <div class="text-small grey silver-sand-text">\n                                            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::To learn more about editorial terms and conditions,",{name:"_",hash:{},data:a}))+'\n                                            <a data-t="license-link" class="bold blue bleu-de-france-text" href="'+this.escapeExpression("function"==typeof(s=null!=(s=t.licenseTermsEditorialLink||(null!=e?e.licenseTermsEditorialLink:e))?s:t.helperMissing)?s.call(e,{name:"licenseTermsEditorialLink",hash:{},data:a}):s)+'"  target="_blank">\n                                                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::click here",{name:"_",hash:{},data:a}))+'\n                                            </a>\n                                        </div>\n                                        <div data-t="restrictions-popup-link" id="restrictions-popup-link" data-is-hidden="true">\n                                            <a class="default-link text-small blue bleu-de-france-text">\n                                                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Additional restrictions may apply",{name:"_",hash:{},data:a}))+"\n                                            </a>\n                                        </div>\n                                    </div>\n                                </div>\n"},2:function(e,t,n,a){return"                                                    "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::This video has editorial restrictions",{name:"_",hash:{},data:a}))+"\n"},4:function(e,t,n,a){return"                                                    "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::This image has editorial restrictions",{name:"_",hash:{},data:a}))+"\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="motmot">\n    <div class="js-modal-multiple-choices modal-multiple-choices" data-t="modal-multiple-choices">\n        <div class="mti-modal modal--with-header modal--secondary modal--large animated fade-in" data-state="shown">\n            <div class="modal__body overflow-visible">\n                <i class="modal__close mti-icon icon-close js-modal-window-dismiss-button"></i>\n                <form  method="post" class="js-cce-modal-multiple-choices-form">\n                    <div class="modal__header center-align">\n                        <div id="modal-title" data-t="modal-multiple-choices-title">\n                            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::HEADER::Choose the license",{name:"_",hash:{},data:a}))+'\n                        </div>\n                    </div>\n                    <div class="modal__content">\n                        <div class="padding-large" data-t="modal-multiple-choices-content">\n                            <div class="row">\n                                <div class="column on-small-12" id="js-container-multiple-choices" data-t="modal-multiple-choices-plans"></div>\n                            </div>\n'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.data:e)?i.is_editorial:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'                        </div>\n                    </div>\n                    <div class="modal__footer center-align container-absolute container-full">\n                        <button class="button button--dialog js-cce-modal-multiple-choices-button js-modal-window-multiple-choice-button" type="button" data-t="modal-multiple-choices-button">\n                            <span>\n                                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Continue",{name:"_",hash:{},data:a}))+"\n                            <span>\n                        </button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/modalWindow/multipleChoices",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'                    <div class="modal-window-title">'+(null!=(i=this.lambda(null!=(i=null!=e?e.message:e)?i.subject:i,e))?i:"")+"</div>\n"},3:function(e,t,n,a){var i;return'                    <div class="modal-window-subtext">'+(null!=(i=this.lambda(null!=(i=null!=e?e.message:e)?i.subtext:i,e))?i:"")+"</div>\n"},5:function(e,t,n,a){var i;return'                <div class="modal-window-thumb">\n                    <img src="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.thumb_url:i,e))+'"/>\n                </div>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="modal-multiple-choices">\n    <div class="modal-window-canvas">\n        <div class="modal-window-container">\n            <button type="button" id="details-close-button" class="detail-nav-button modal-window-dismiss-icon js-modal-window-dismiss-button">\n                <i class="icon-close"></i>\n            </button>\n            <p class="modal-window-badge">\n                <img src="'+this.escapeExpression((t.staticCdn||e&&e.staticCdn||t.helperMissing).call(e,"/v1/pics/all/default/stock_logo_2020_dark.svg",{name:"staticCdn",hash:{},data:a}))+'" width="125" />\n            </p>\n            <div class="modal-window-header" id="modal-title">\n'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.subject:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.subtext:i,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+"            </div>\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.thumb_url:i,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+'\n            <div class="modal-window-body">\n                <div id="js-container-multiple-choices" class="container-multiple-purchase" data-t="container-multiple-choices">\n                    <img src="'+this.escapeExpression((t.staticCdn||e&&e.staticCdn||t.helperMissing).call(e,"/v1/pics/all/default/loading_circle.svg",{name:"staticCdn",hash:{},data:a}))+'" class="spinner" width="40">\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'},useData:!0})}),define("hbs!templates/modalWindow/extended",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="modal-confirmation-extended">\n    <div class="modal-window-canvas">\n        <div class="modal-window-container">\n            <p class="modal-window-badge">\n                <img src="'+this.escapeExpression((t.staticCdn||e&&e.staticCdn||t.helperMissing).call(e,"/v1/pics/all/default/stock_logo_2020_dark.svg",{name:"staticCdn",hash:{},data:a}))+'" width="125" />\n            </p>\n            <p class="modal-window-header" id="modal-title">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"PURCHASE::IMAGE::MODAL::SUBJECT::Confirm Purchase",{name:"_",hash:{},data:a}))+'</p>\n            <p class="modal-window-body">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.question:i,e))+'</p>\n            <p class="modal-window-footer">\n                <button id="modal-cancel-button" class="modal-window-cancel-button rounded-button gray js-modal-window-cancel-button">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::Cancel",{name:"_",hash:{},data:a}))+'</button>\n                <button id="modal-confirm-button" class="modal-window-confirm-button rounded-button blue js-modal-window-confirm-extended-button">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::Buy license",{name:"_",hash:{},data:a}))+"</button>\n            </p>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/modalWindow/openInMessage",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<div class="modal-save-to-device">\n    <div class="modal-window-canvas">\n        <div class="modal-window-container">\n            <div class="motmot">\n                <div class="padding-large container-relative">\n                    <button type="button" class="js-modal-window-dismiss-button container-absolute to-the-top to-the-right">\n                        <i class="mti-icon mti-large mti-default-button icon-close grey mountain-mist-text"></i>\n                    </button>\n                    <div class="center-align">\n                        <h2 class="grey mountain-mist-text">\n                            <span class="text-medium light">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"OPENIN::HEADER::Could not open your file.",{name:"_",hash:{},data:a}))+'</span>\n                        </h2>\n                        <p class="grey gravel-text text-sregular light">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,'OPENIN::BODY::To use the "Open in..." feature, you must be logged in to Adobe Creative Cloud and have the latest version of the app installed.',{name:"_",hash:{},data:a}))+'</p>\n                        <div class="border-1 border-solid nurse-border"></div>\n                        <div class="padding-top-medium padding-bottom-medium">\n                            <div class="center-align">\n                                <i class="mti-icon icon-creative-cloud mti-2x red lust-text"></i>\n                                <a href="https://www.adobe.com/creativecloud/catalog/desktop.html?promoid=NQCJRCJ2&mv=other" target="_blank" class="text-sregular blue bleu-de-france-text light">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"OPENIN::CC_LINK:: Get a free trial today",{name:"_",hash:{},data:a}))+'</a>\n                            </div>\n                        </div>\n                        <div class="border-1 border-solid nurse-border"></div>\n                    </div>\n                    <div class="center-align">\n                        <p class="grey gravel-text text-sregular light">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"OPENIN::FOOTER::If you are already logged into Creative Cloud, try the Open in... command again, or contact",{name:"_",hash:{},data:a}))+' <a href="https://helpx.adobe.com'+this.escapeExpression((t.mapToAdobeBaseUrl||e&&e.mapToAdobeBaseUrl||t.helperMissing).call(e,null!=e?e.base_url:e,{name:"mapToAdobeBaseUrl",hash:{},data:a}))+'/stock.html" target="_blank" class="text-sregular blue bleu-de-france-text light"> '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"OPENIN::FOOTER::Adobe Customer Support",{name:"_",hash:{},data:a}))+"</a>. "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"OPENIN::FOOTER::Alternately, you can save the file to your desktop or a Creative Cloud library.",{name:"_",hash:{},data:a}))+"</p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/templatePreview",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'                        <div class="container-table-cell no-stretch">\n                            <div class="padding-right-small margin-top-xsmall">\n                                <img class="circle" src="'+this.escapeExpression("function"==typeof(i=null!=(i=t.avatar||(null!=e?e.avatar:e))?i:t.helperMissing)?i.call(e,{name:"avatar",hash:{},data:a}):i)+'" width="44" height="44">\n                            </div>\n                        </div>\n'},3:function(e,t,n,a){var i;return'                                <nav>\n                                    <ul class="nav nav--inline nav-gravel-text nav-crayola-hover">\n                                        <li class="nav__item"><span class="grey gravel-text text-sregular">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"AUTHOR::By",{name:"_",hash:{},data:a}))+'&nbsp;</span></li>\n                                        <li class="nav__item"><a class="nav__link" href="'+this.escapeExpression("function"==typeof(i=null!=(i=t.artist_page_url||(null!=e?e.artist_page_url:e))?i:t.helperMissing)?i.call(e,{name:"artist_page_url",hash:{},data:a}):i)+'"><span class="text-sregular">'+this.escapeExpression("function"==typeof(i=null!=(i=t.author||(null!=e?e.author:e))?i:t.helperMissing)?i.call(e,{name:"author",hash:{},data:a}):i)+"</span></a></li>\n                                    </ul>\n                                </nav>\n"},5:function(e,t,n,a){var i;return'                                <span class="grey gravel-text text-sregular">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"AUTHOR::By",{name:"_",hash:{},data:a}))+"&nbsp;\n                                "+this.escapeExpression("function"==typeof(i=null!=(i=t.author||(null!=e?e.author:e))?i:t.helperMissing)?i.call(e,{name:"author",hash:{},data:a}):i)+"\n                                </span>\n"},7:function(e,t,n,a){var i;return'                    <video preload="none" autoplay="autoplay" loop="loop" poster="'+this.escapeExpression("function"==typeof(i=null!=(i=t.thumbnail_url||(null!=e?e.thumbnail_url:e))?i:t.helperMissing)?i.call(e,{name:"thumbnail_url",hash:{},data:a}):i)+'" muted="muted">\n                        <source src="'+this.escapeExpression("function"==typeof(i=null!=(i=t.video_preview_url||(null!=e?e.video_preview_url:e))?i:t.helperMissing)?i.call(e,{name:"video_preview_url",hash:{},data:a}):i)+'" type="video/mp4" />\n                    </video>\n'},9:function(e,t,n,a){var i;return'                    <img tabindex="0" src="'+this.escapeExpression("function"==typeof(i=null!=(i=t.original_url||(null!=e?e.original_url:e))?i:t.helperMissing)?i.call(e,{name:"original_url",hash:{},data:a}):i)+'" alt="'+this.escapeExpression("function"==typeof(i=null!=(i=t.title||(null!=e?e.title:e))?i:t.helperMissing)?i.call(e,{name:"title",hash:{},data:a}):i)+'" class="responsive-img" />\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="motmot">\n    <div id="previewModal" class="mti-modal modal--large modal--secondary modal--centered modal--with-header animated fade-in">\n        <div tabindex="0" aria-labelledby="image-preview" class="modal__body" aria-hidden="true">\n            <span hidden="true" id="image-preview">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"PREVIEW::IMAGE::Preview image modal",{name:"_",hash:{},data:a}))+'</span>\n            <button class="modal__close mti-icon icon-close js-motmot-modal-close" aria-label="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"A11Y::TEMPLATE_PREVIEW::CLOSE::Close modal",{name:"_",hash:{},data:a}))+'"></button>\n            <div class="modal__header">\n                <div class="container-table container-full">\n'+(null!=(i=t.if.call(e,null!=e?e.avatar:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'                    <div class="container-table-cell">\n                        <h2 class="no-margin">\n                            <span class="text-regular grey gravel-text">'+this.escapeExpression("function"==typeof(s=null!=(s=t.title||(null!=e?e.title:e))?s:t.helperMissing)?s.call(e,{name:"title",hash:{},data:a}):s)+'</span>\n                        </h2>\n                        <h4 class="no-margin">\n'+(null!=(i=t.if.call(e,null!=e?e.artist_page_url:e,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.program(5,a,0),data:a}))?i:"")+'                        </h4>\n                    </div>\n                </div>\n            </div>\n            <div class="modal__content">\n'+(null!=(i=t.if.call(e,null!=e?e.video_preview_url:e,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.program(9,a,0),data:a}))?i:"")+"            </div>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/modalWindow/welcomeBack",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="motmot">\n    <div id="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.data:e)?i.modalId:i,e))+'" class="mti-modal modal--with-header animated fade-in" data-is-hidden="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.data:e)?i.hiddenState:i,e))+'" data-is-medium-modal="false">\n        <div class="modal__body">\n            <i class="js-modal-window-dismiss-button modal__close mti-icon icon-close hide-modal"></i>\n            <div id="js-modal-container">\n                <div class="modal__header">\n                    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Welcome Back",{name:"_",hash:{},data:a}))+'\n                </div>\n\n                <div class="modal__content">\n                    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Good News! We noticed you already have a subscription. Please make your selection again.",{name:"_",hash:{},data:a}))+'\n                </div>\n\n                <div class="modal__footer">\n                    <button class="js-modal-window-dismiss-button button button--dialog hide-modal" type="submit">\n                        '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::Continue",{name:"_",hash:{},data:a}))+'\n                    </button>\n                </div>\n            </div>\n            <div id="js-modal-spinner" class="modal__spinner medium-heavy-metal-overlay container-absolute to-all" data-is-hidden="true">\n                <div class="c-align">\n                    <div class="spinner spinner--large"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n'},useData:!0})}),define("hbs!templates/modalWindow/teamfmf",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return' <a href="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.body_link:i,e))+'" target="_blank">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.body_link_label:i,e))+"</a>"},3:function(e,t,n,a){var i;return'                                        <p class="padding-top-medium">\n                                            <a href="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.footer_link:i,e))+'" '+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.target_blank:i,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.noop,data:a}))?i:"")+' class="blue bleu-de-france-text text-regular no-wrap">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.footer_link_label:i,e))+"</a>\n                                        </p>\n"},4:function(e,t,n,a){return'target="_blank"'},6:function(e,t,n,a){return'                            <i class="modal__close mti-icon icon-close js-modal-window-dismiss-button" data-t="close-icon"></i>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="motmot">\n    <div class="mti-modal modal--large" data-t="team-free-licenses-modal">\n        <div class="modal__body">\n            <div class="modal__content">\n                <div class="container-table">\n                    <div class="container-table-cell">\n                        <div class="padding-left-small padding-right-small padding-top-xlarge">\n                            <div class="padding-left-xlarge padding-right-xlarge padding-top-xlarge">\n                                <span class="blue bleu-de-france-text text-xlarge line-height-small '+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.subject_style:i,e))+'">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.subject:i,e))+'</span>\n                                <p class="grey light '+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.body_style:i,e))+'">'+(null!=(i=this.lambda(null!=(i=null!=e?e.message:e)?i.escaped_body:i,e))?i:"")+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.body_link_label:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'</p>\n                                <div class="padding-top-xlarge '+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.button_row_style:i,e))+'">\n                                    <form name="js-fmf-offer-phone" method="get">\n                                        <div class="no-wrap">\n                                            <input type="text" id="js-phone" name="phone_number" placeholder="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.placeholder:i,e))+'" size="25" class="input--large" data-state="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.phone_input_state:i,e))+'">\n                                            <span class="margin-left-small">\n                                                <a id="modal-ok-button" href="#" class="button button--action '+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.button_style:i,e))+' js-modal-window-ok-button">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.button_label:i,e))+'</a>\n                                            </span>\n                                        </div>\n                                        <span id="js-checkout-user-facing-errors" class="red coral-text text-xsmall" data-state="hidden">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::TEAM::FREE_LICENSES::Please enter a valid phone number",{name:"_",hash:{},data:a}))+'</span>\n                                    </form>\n                                </div>\n                                <div class="center-align">\n                                    <p class="grey mountain-mist-text text-sregular">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.message:e)?i.disclaimer:i,e))+'</p>\n                                </div>\n                                <div class="center-align padding-top-xlarge">\n                                    <div class="padding-top-xlarge"></div>\n'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.footer_link:i,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+'                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="container-table-cell">\n                        <div class="container-relative">\n                            <img src="'+this.escapeExpression((t.staticCdn||e&&e.staticCdn||t.helperMissing).call(e,"/v1/pics/promo/yarn_hands.jpg",{name:"staticCdn",hash:{},data:a}))+'"/>\n                            <img src="'+this.escapeExpression((t.staticCdn||e&&e.staticCdn||t.helperMissing).call(e,"/v1/pics/all/default/stock_logo_2020.svg",{name:"staticCdn",hash:{},data:a}))+'" width="36" class="container-absolute to-the-bottom to-the-right margin-right-large margin-bottom-large"/>\n                        </div>\n\n'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.message:e)?i.icon_close:i,{name:"if",hash:{},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+"                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/tabsHeaderItem",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return" active"},3:function(e,t,n,a){var i,s;return'            <sup class="inline text-xsmall '+this.escapeExpression("function"==typeof(s=null!=(s=t.counterIdentifier||(null!=e?e.counterIdentifier:e))?s:t.helperMissing)?s.call(e,{name:"counterIdentifier",hash:{},data:a}):s)+'">\n'+(null!=(i=t.if.call(e,null!=e?e.counterLabel:e,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.noop,data:a}))?i:"")+"            </sup>\n"},4:function(e,t,n,a){var i;return"                    ("+this.escapeExpression("function"==typeof(i=null!=(i=t.counterLabel||(null!=e?e.counterLabel:e))?i:t.helperMissing)?i.call(e,{name:"counterLabel",hash:{},data:a}):i)+")\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<li class="modal-bulk-selection--tabs__item container-relative in-front margin-right-large'+(null!=(i=t.if.call(e,null!=e?e.active:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'" data-tab="'+this.escapeExpression("function"==typeof(s=null!=(s=t.tab||(null!=e?e.tab:e))?s:t.helperMissing)?s.call(e,{name:"tab",hash:{},data:a}):s)+'" >\n    <a class="modal-bulk-selection--tabs__link" data-t="'+this.escapeExpression("function"==typeof(s=null!=(s=t.dataT||(null!=e?e.dataT:e))?s:t.helperMissing)?s.call(e,{name:"dataT",hash:{},data:a}):s)+'">\n        '+this.escapeExpression("function"==typeof(s=null!=(s=t.label||(null!=e?e.label:e))?s:t.helperMissing)?s.call(e,{name:"label",hash:{},data:a}):s)+"\n"+(null!=(i=t.if.call(e,null!=e?e.counterIdentifier:e,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+"    </a>\n</li>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/toolTipHintAdd",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<span class="container-inline-block white-text text-small" data-t="add-to-selection-text">\n    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::INFO::Add back to selection",{name:"_",hash:{},data:a}))+"\n</span>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/toolTipHintRemove",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<span class="container-inline-block white-text text-small" data-t="remove-from-selection-text">\n    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::INFO::Remove from selection",{name:"_",hash:{},data:a}))+"\n</span>\n"},useData:!0})}),define("hbs!templates/modalWindow/bulkLicenseRecordOptions",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i,s;return'                                                    <tr class="js-modal-table-asset-row js-modal-tr-'+this.escapeExpression("function"==typeof(s=null!=(s=t.key||a&&a.key)?s:t.helperMissing)?s.call(e,{name:"key",hash:{},data:a}):s)+'" data-select="'+this.escapeExpression("function"==typeof(s=null!=(s=t.key||a&&a.key)?s:t.helperMissing)?s.call(e,{name:"key",hash:{},data:a}):s)+'" data-t="selected-asset-'+this.escapeExpression("function"==typeof(s=null!=(s=t.key||a&&a.key)?s:t.helperMissing)?s.call(e,{name:"key",hash:{},data:a}):s)+'">\n                                                        <input class="js-modal-table-asset-checkbox" type="checkbox" checked="checked" value="'+this.escapeExpression("function"==typeof(s=null!=(s=t.key||a&&a.key)?s:t.helperMissing)?s.call(e,{name:"key",hash:{},data:a}):s)+'" hidden/>\n                                                        <td class="table__td">\n                                                            <div class="license-image container-relative">\n                                                                <img class="c-align pointer-events-none" src="'+this.escapeExpression(this.lambda(null!=e?e.content_thumb_url:e,e))+'" data-t="selected-asset-thumbnail"/>\n                                                            </div>\n                                                        </td>\n                                                        <td class="table__td">\n'+(null!=(i=t.each.call(e,null!=e?e.license_references:e,{name:"each",hash:{},fn:this.program(2,a,0),inverse:this.program(7,a,0),data:a}))?i:"")+'                                                        </td>\n                                                        <td class="table__td center-align">\n                                                            <div class="margin-right-medium table-assets-select__actions">\n                                                                <span class="js-modal-asset-toggle-remove table-assets-select__action cursor-pointer" data-rel="'+this.escapeExpression("function"==typeof(s=null!=(s=t.key||a&&a.key)?s:t.helperMissing)?s.call(e,{name:"key",hash:{},data:a}):s)+'" data-t="remove-from-selection-button">\n                                                                    <i class="mti-icon mti-icon--framed icon-close half-heavy-metal-overlay white-text text-regular no-padding"></i>\n                                                                </span>\n                                                            </div>\n                                                        </td>\n                                                    </tr>\n'},2:function(e,t,n,a){var i;return'                                                                <div class="column on-small-6 text-small padding-right-xsmall padding-bottom-xsmall">\n                                                                    <span class="bold">'+this.escapeExpression(this.lambda(null!=e?e.label:e,e))+"</span>: </br>\n                                                                    <span>"+(null!=(i=t.if.call(e,null!=e?e.value:e,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.program(5,a,0),data:a}))?i:"")+"</span>\n                                                                </div>\n"},3:function(e,t,n,a){return this.escapeExpression(this.lambda(null!=e?e.value:e,e))},5:function(e,t,n,a){return"-"},7:function(e,t,n,a){return'                                                                <span class="text-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::No license references",{name:"_",hash:{},data:a}))+"</span>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="motmot">\n    <div class="mti-modal modal-bulk-selection modal--large modal--secondary modal--with-header animated fade-in" data-state="shown">\n        <div class="modal__body overflow-visible" data-t="bulk-licensing-modal">\n            <i class="modal__close mti-icon icon-close js-hide-modal" data-t="close-icon"></i>\n            <form name="js-license-record-options" method="post">\n                <div class="modal__header center-align">\n                    <span data-t="modal-bulk-title">'+this.escapeExpression("function"==typeof(s=null!=(s=t.title||(null!=e?e.title:e))?s:t.helperMissing)?s.call(e,{name:"title",hash:{},data:a}):s)+'</span>\n                </div>\n                <div class="modal__content grey gravel-text">\n                    <div class="js-modal-bulk-content-wrapper container-relative padding-large">\n                        <div class="border-1 border-solid border-radius-4 white nurse-border padding-medium margin-bottom-xlarge">\n                            <div class="container-inline-block padding-right-large">\n                                <table class="left-align v-align-top text-sregular">\n                                    <tbody>\n                                        <tr class="padding-bottom-xsmall">\n                                            <td class="padding-right-xlarge" data-t="number-of-assets-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::INFO::Number of assets",{name:"_",hash:{},data:a}))+'</td>\n                                            <td class="js-modal-nb-assets" data-t="number-of-assets-text-value">\n'+(null!=(i=this.invokePartial(n["modalWindow/numberFilesLicenseReferences"],e,{name:"modalWindow/numberFilesLicenseReferences",hash:{number_selected:null!=e?e.nb_assets:e},data:a,indent:"                                                ",helpers:t,partials:n}))?i:"")+'                                            </td>\n                                        </tr>\n                                        <tr class="padding-bottom-xsmall">\n                                            <td class="padding-right-xlarge">\n                                                <strong data-t="price-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Period",{name:"_",hash:{},data:a}))+'</strong>\n                                            </td>\n                                            <td class="js-modal-total-prices-column">\n                                                <span class="grey dove-text text-up">'+this.escapeExpression("function"==typeof(s=null!=(s=t.period||(null!=e?e.period:e))?s:t.helperMissing)?s.call(e,{name:"period",hash:{},data:a}):s)+'</span>\n                                            </td>\n                                        </tr>\n                                    </tbody>\n                                </table>\n                            </div>\n                        </div>\n                        <div class="border-1 border-solid border-radius-4 nurse-border">\n                            <div class="row">\n                                <div class="column on-small-12 on-medium-6">\n                                    <div class="modal-bulk-selection-assets-wrapper overflow-scroll border-right-solid grey alabaster">\n                                        <table class="table-assets-select table table--default">\n                                            <tbody>\n'+(null!=(i=t.each.call(e,null!=e?e.assets:e,{name:"each",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'                                            </tbody>\n                                        </table>\n                                    </div>\n                                </div>\n                                <div class="js-modal-bulk-selection-tabs column on-small-12 on-medium-6">\n                                    <div class="padding-medium">\n                                        <div class="modal-bulk-selection--tabs container-relative">\n                                            <ul>\n'+(null!=(i=this.invokePartial(n["components/bulkSelectionModal/tabsHeaderItem"],e,{name:"components/bulkSelectionModal/tabsHeaderItem",hash:{active:!0,label:(t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::License Record Details",{name:"_",hash:{},data:a}),dataT:"license-record-options",tab:"license_record_options"},data:a,indent:"                                                ",helpers:t,partials:n}))?i:"")+'                                            </ul>\n                                        </div>\n\n                                        <div class="tab-content" data-tab="license_record_options">\n'+(null!=(i=this.invokePartial(n["modalWindow/licenseRecordDetailsFieldSet"],e,{name:"modalWindow/licenseRecordDetailsFieldSet",data:a,indent:"                                            ",helpers:t,partials:n}))?i:"")+'                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="js-modal-bulk-selection-tooltip tooltip tooltip--fixed-width in-front" data-is-hidden="true"></div>\n                    </div>\n                </div>\n                <div class="modal__footer right-align">\n                    <button class="js-modal-button-license button button--dialog button--action" data-t="modal-license-record-btn-cta">\n                        <i class="mti-icon"></i>\n                        <span data-t="modal-license-record-btn-cta">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Generate License Record",{name:"_",hash:{},data:a}))+"</span>\n                    </button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n"},usePartial:!0,useData:!0})}),define("hbs!templates/modalWindow/licenseRecordDetailsFieldSet",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return null!=(i=t.if.call(e,(i=a&&a.root)&&i.group_by,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:""},2:function(e,t,n,a){var i;return'        <div class="margin-bottom-medium">\n            <div data-t="license-record-grouped-label" class="grey dove-text font-semibold text-small margin-bottom-xsmall">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Group Assets",{name:"_",hash:{},data:a}))+'</div>\n            <div class="js-license-reference-group-by select-box">\n'+(null!=(i=this.invokePartial(n["modalWindow/licenseRecordGroupAssets"],e,{name:"modalWindow/licenseRecordGroupAssets",hash:{grouped_by_option:(i=a&&a.root)&&i.grouped_by_option,groups:(i=a&&a.root)&&i.group_by},data:a,indent:"                ",helpers:t,partials:n}))?i:"")+'            </div>\n            <div data-t="license-record-grouped-icon" class="container-relative container-inline-block info-icon-tooltip-details">\n                <i class="mti-icon icon-infofull blue bleu-de-france-text"></i>\n                <div class="tooltip tooltip--secondary tooltip--right">\n                    <span class="text-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::You may choose to group your licensed assets by project, by customer, by purchase order or any other reference.",{name:"_",hash:{},data:a}))+'</span>\n                    <span class="text-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Each new project, customer, purchase order or other references will start on a new page on your record.",{name:"_",hash:{},data:a}))+"</span>\n                </div>\n            </div>\n        </div>\n"},4:function(e,t,n,a){var i;return'    <div class="margin-bottom-medium">\n        <div data-t="license-record-price-label" class="grey dove-text font-semibold text-small margin-bottom-xsmall">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Display Price",{name:"_",hash:{},data:a}))+'</div>\n        <div class="select-box">\n            <select name="price" data-t="license-record-price-select">\n                <option value="0">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Do not display price",{name:"_",hash:{},data:a}))+'</option>\n                <option value="1"'+(null!=(i=t.if.call(e,null!=e?e.price_display_option:e,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+">"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Display price in credit",{name:"_",hash:{},data:a}))+"</option>\n"+(null!=(i=t.if.call(e,null!=e?e.facing_price_enabled:e,{name:"if",hash:{},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")+'            </select>\n        </div>\n        <div data-t="license-record-price-icon" class="container-relative container-inline-block info-icon-tooltip-details">\n            <i class="mti-icon icon-infofull blue bleu-de-france-text"></i>\n            <div class="tooltip tooltip--secondary tooltip--right">\n                <span class="text-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Please specify if you want to display the price of the asset you licensed in your record.",{name:"_",hash:{},data:a}))+'</span>\n                <span class="text-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::And if so, if the price must appear in credits or in currency.",{name:"_",hash:{},data:a}))+"</span>\n            </div>\n        </div>\n    </div>\n"},5:function(e,t,n,a){var i;return null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"1",logic:"eq",value:null!=e?e.price_display_option:e},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:""},6:function(e,t,n,a){return' selected="true"'},8:function(e,t,n,a){var i;return'                    <option value="2"'+(null!=(i=t.if.call(e,null!=e?e.price_display_option:e,{name:"if",hash:{},fn:this.program(9,a,0),inverse:this.noop,data:a}))?i:"")+">"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Display price in currency",{name:"_",hash:{},data:a}))+"</option>\n"},9:function(e,t,n,a){var i;return null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"2",logic:"eq",value:null!=e?e.price_display_option:e},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="margin-bottom-small">\n    <div class="row">\n        <div class="column on-large-12 padding-top-medium">\n            <div class="margin-bottom-xsmall margin-top-small left-align">\n'+(null!=(i=this.invokePartial(n["modalWindow/fieldInputValidator"],e,{name:"modalWindow/fieldInputValidator",hash:{value:null!=(i=null!=e?e.record_options:e)?i.record_name:i,id:"licenseRecordName",required:!0,placeholder:(t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Enter a name for this record...",{name:"_",hash:{},data:a}),dataT:"license-record-name",name:"name",label:(t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Record Name",{name:"_",hash:{},data:a})},data:a,indent:"                ",helpers:t,partials:n}))?i:"")+'            </div>\n            <div class="margin-bottom-xsmall left-align">\n'+(null!=(i=this.invokePartial(n["modalWindow/fieldInputValidator"],e,{name:"modalWindow/fieldInputValidator",hash:{value:null!=(i=null!=e?e.record_options:e)?i.notes:i,dataT:"license-record-notes",placeholder:(t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::You may enter additional notes here (e.g. Special note for accounting department)",{name:"_",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Additional Notes",{name:"_",hash:{},data:a}),type:"textarea",name:"notes"},data:a,indent:"                ",helpers:t,partials:n}))?i:"")+"             </div>\n        </div>\n    </div>\n</div>\n\n"+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:1,logic:"more",value:null!=e?e.nb_assets:e},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.unless.call(e,null!=e?e.price_display_is_disabled:e,{name:"unless",hash:{},fn:this.program(4,a,0),inverse:this.noop,data:a}))?i:"")+'\n<div class="margin-bottom-medium">\n    <div data-t="license-record-terms-label" class="grey dove-text font-semibold text-small margin-bottom-xsmall">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Minimum Terms",{name:"_",hash:{},data:a}))+'</div>\n    <div class="select-box">\n        <select name="terms" data-t="license-record-terms-select">\n            <option value="0">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Do not attach terms",{name:"_",hash:{},data:a}))+'</option>\n            <option value="1"'+(null!=(i=t.if.call(e,null!=e?e.has_terms_included:e,{name:"if",hash:{},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+">"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Attach terms",{name:"_",hash:{},data:a}))+'</option>\n        </select>\n    </div>\n    <div data-t="license-record-terms-icon" class="container-relative container-inline-block info-icon-tooltip-details">\n        <i class="mti-icon icon-infofull blue bleu-de-france-text"></i>\n        <div class="tooltip tooltip--secondary tooltip--right">\n            <span class="text-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::You may decide to attach a copy of the Minimum Terms to your record.",{name:"_",hash:{},data:a}))+'</span>\n            <span class="text-small">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::The Minimum Terms includes license rights and restrictions that may apply to the assets.",{name:"_",hash:{},data:a}))+"</span>\n        </div>\n    </div>\n</div>\n"},usePartial:!0,useData:!0})}),define("hbs!templates/modalWindow/licenseRecordGroupAssets",["Handlebars"],function(e){return e.template({1:function(e,t,n,a,i,s){var r,o;return"        <option value="+this.escapeExpression("function"==typeof(o=null!=(o=t.key||a&&a.key)?o:t.helperMissing)?o.call(e,{name:"key",hash:{},data:a}):o)+(null!=(r=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:a&&a.key,logic:"eq",value:null!=s[1]?s[1].grouped_by_option:s[1]},fn:this.program(2,a,0,i,s),inverse:this.noop,data:a}))?r:"")+">\n            "+this.escapeExpression(this.lambda(e,e))+"\n        </option>\n"},2:function(e,t,n,a){return' selected="true"'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a,i,s){var r;return'<select name="grouped" data-t="license-record-grouped-select">\n    <option value="0">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::LICENSE::RECORD::Do not group assets",{name:"_",hash:{},data:a}))+"</option>\n"+(null!=(r=t.each.call(e,null!=e?e.groups:e,{name:"each",hash:{},fn:this.program(1,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"</select>\n"},useData:!0,useDepths:!0})}),define("hbs!templates/modalWindow/licensingDetailModal",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'                                <div class="column on-small-12 on-large-8">\n                                    <div class="padding-right-large">\n                                        <div class="player">\n                                            <div class="player-content">\n                                                <video preload="none" poster="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.content:e)?i.content_thumb_large_url:i,e))+'" onmouseover="this.play()" onmouseout="this.pause()" muted="muted" class="container-block" autoplay="autoplay" loop="loop">\n                                                    <source src="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.content:e)?i.video_preview_url:i,e))+'" type="video/mp4"  />\n                                                </video>\n'+(null!=(i=this.invokePartial(n.thumbnailBadges,e,{name:"thumbnailBadges",hash:{license_transfers:null!=e?e.licenseTransfers:e,displayLicensedBadge:null!=e?e.displayLicenseBadge:e},data:a,indent:"                                                ",helpers:t,partials:n}))?i:"")+'                                                <div class="'+(null!=(i=t.if.call(e,null!=e?e.isPhoenixEnabled:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.program(4,a,0),data:a}))?i:"")+' shown">\n                                                    <div class="thumb-indication">\n'+(null!=(i=this.invokePartial(n.videoSvgPicto,e,{name:"videoSvgPicto",data:a,indent:"                                                        ",helpers:t,partials:n}))?i:"")+"\n                                                        "+(null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.duration:i,{name:"if",hash:{},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+'\n                                                    </div>\n                                                    <div class="format">\n                                                        <span class="video_hd white-text '+(null!=(i=t.if.call(e,null!=e?e.isPhoenixEnabled:e,{name:"if",hash:{},fn:this.program(9,a,0),inverse:this.noop,data:a}))?i:"")+'">\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"4K",logic:"eq",value:null!=(i=null!=e?e.content:e)?i.resolution:i},fn:this.program(11,a,0),inverse:this.program(13,a,0),data:a}))?i:"")+'                                                        </span>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n\n                                <div class="column on-small-12 on-large-4 padding-xsmall left-align">\n'+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{isUpperCase:!0,value:null!=(i=null!=e?e.content:e)?i.format:i,label:(t._||e&&e._||t.helperMissing).call(e,"FILE::File",{name:"_",hash:{},data:a})},data:a,indent:"                                    ",helpers:t,partials:n}))?i:"")+"\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"FILE::%d x %d px",{name:"_",hash:{},data:a}),null!=(i=null!=e?e.content:e)?i.content_original_width:i,null!=(i=null!=e?e.content:e)?i.content_original_height:i,{name:"sprintf",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Dimensions",{name:"_",hash:{},data:a})},data:a,indent:"                                    ",helpers:t,partials:n}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.video_codec:i,{name:"if",hash:{},fn:this.program(15,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.video_bitrate_in_kbps:i,{name:"if",hash:{},fn:this.program(17,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.duration:i,{name:"if",hash:{},fn:this.program(19,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.framerate:i,{name:"if",hash:{},fn:this.program(21,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseTypeDetail"],e,{name:"modalWindow/licenseTypeDetail",hash:{value:null!=e?e.license_type_label:e},data:a,indent:"                                    ",helpers:t,partials:n}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=e?e.required_quota:e,{name:"if",hash:{},fn:this.program(23,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.is_just_purchased:i,{name:"if",hash:{},fn:this.program(25,a,0),inverse:this.noop,data:a}))?i:"")+"                                </div>\n                            "},2:function(e,t,n,a){return"thumb-indications-v2 container-absolute to-the-bottom half-black-overlay"},4:function(e,t,n,a){return"thumb-indications"},6:function(e,t,n,a){var i;return'<span class="white-text '+(null!=(i=t.if.call(e,null!=e?e.isPhoenixEnabled:e,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:"")+'">'+this.escapeExpression((t.minutes||e&&e.minutes||t.helperMissing).call(e,null!=(i=null!=e?e.content:e)?i.duration:i,{name:"minutes",hash:{},data:a}))+"</span>"},7:function(e,t,n,a){return"text-sregular"},9:function(e,t,n,a){return"text-sregular bold"},11:function(e,t,n,a){return"                                                                "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"SEARCH::TYPE::4K",{name:"_",hash:{},data:a}))+"\n"},13:function(e,t,n,a){return"                                                                "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"SEARCH::TYPE::HD",{name:"_",hash:{},data:a}))+"\n"},15:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:null!=(i=null!=e?e.content:e)?i.video_codec:i,label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Codec",{name:"_",hash:{},data:a})},data:a,indent:"                                        ",helpers:t,partials:n}))?i:""},17:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t.concat||e&&e.concat||t.helperMissing).call(e,(t.bitrate||e&&e.bitrate||t.helperMissing).call(e,null!=(i=null!=e?e.content:e)?i.video_bitrate_in_kbps:i,{name:"bitrate",hash:{},data:a}),(t._||e&&e._||t.helperMissing).call(e,"FILE::Mbps",{name:"_",hash:{},data:a}),{name:"concat",hash:{separator:" "},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Bit Rate",{name:"_",hash:{},data:a})},data:a,indent:"                                        ",helpers:t,partials:n}))?i:""},19:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t.minutes||e&&e.minutes||t.helperMissing).call(e,null!=(i=null!=e?e.content:e)?i.duration:i,{name:"minutes",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Duration",{name:"_",hash:{},data:a})},data:a,indent:"                                        ",helpers:t,partials:n}))?i:""},21:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t.number||e&&e.number||t.helperMissing).call(e,null!=(i=null!=e?e.content:e)?i.framerate:i,{name:"number",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Frame Rate",{name:"_",hash:{},data:a})},data:a,indent:"                                        ",helpers:t,partials:n}))?i:""},23:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/requiredPriceLabel"],e,{name:"modalWindow/requiredPriceLabel",hash:{value:null!=e?e.required_quota:e},data:a,indent:"                                        ",helpers:t,partials:n}))?i:""},25:function(e,t,n,a){var i;return'                                        <div class="row">\n'+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t._||e&&e._||t.helperMissing).call(e,"FILE::Already licensed",{name:"_",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Status",{name:"_",hash:{},data:a})},data:a,indent:"                                            ",helpers:t,partials:n}))?i:"")+"                                        </div>\n"},27:function(e,t,n,a){var i;return' \n                                <div class="column on-small-12 on-large-8">\n                                    <div class="padding-right-large">\n                                        <img src="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.content:e)?i.content_thumb_large_url:i,e))+'" alt="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.content:e)?i.title:i,e))+'" class="responsive-img" />\n'+(null!=(i=this.invokePartial(n.thumbnailBadges,e,{name:"thumbnailBadges",hash:{license_transfer_tooltip_data:null!=e?e.licenseTransfers:e,displayTransferredBadge:null!=e?e.displayLicenseTransferBadge:e,displayLicensedBadge:null!=e?e.displayLicenseBadge:e},data:a,indent:"                                        ",helpers:t,partials:n}))?i:"")+'                                    </div>\n                                </div>\n\n                                <div class="column on-small-12 on-large-4 padding-xsmall left-align" data-t="license-reference-details">\n'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.is_template:i,{name:"if",hash:{},fn:this.program(28,a,0),inverse:this.program(30,a,0),data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=e?e.required_quota:e,{name:"if",hash:{},fn:this.program(23,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.is_just_purchased:i,{name:"if",hash:{},fn:this.program(25,a,0),inverse:this.noop,data:a}))?i:"")+"\n                                </div>\n"},28:function(e,t,n,a){var i;return(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{isUpperCase:!0,value:null!=(i=null!=e?e.content:e)?i.format:i,label:(t._||e&&e._||t.helperMissing).call(e,"FILE::File Type",{name:"_",hash:{},data:a})},data:a,indent:"                                        ",helpers:t,partials:n}))?i:"")+"\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t.concat||e&&e.concat||t.helperMissing).call(e,(t.filesize||e&&e.filesize||t.helperMissing).call(e,null!=(i=null!=e?e.content:e)?i.size_bytes:i,{name:"filesize",hash:{},data:a}),(t._||e&&e._||t.helperMissing).call(e,"FILE::MB",{name:"_",hash:{},data:a}),{name:"concat",hash:{separator:" "},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::File Size",{name:"_",hash:{},data:a})},data:a,indent:"                                        ",helpers:t,partials:n}))?i:"")+"\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:null!=(i=null!=e?e.content:e)?i.use_with:i,label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Use With",{name:"_",hash:{},data:a})},data:a,indent:"                                        ",helpers:t,partials:n}))?i:"")+"\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseTypeDetail"],e,{name:"modalWindow/licenseTypeDetail",hash:{value:null!=e?e.license_type_label:e},data:a,indent:"                                        ",helpers:t,partials:n}))?i:"")},30:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.is_3D:i,{name:"if",hash:{},fn:this.program(31,a,0),inverse:this.program(46,a,0),data:a}))?i:""},31:function(e,t,n,a){var i;return"\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{isUpperCase:!0,value:null!=(i=null!=e?e.content:e)?i.primary_file_type:i,label:(t._||e&&e._||t.helperMissing).call(e,"FILE::File Type",{name:"_",hash:{},data:a})},data:a,indent:"                                            ",helpers:t,partials:n}))?i:"")+"\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t.concat||e&&e.concat||t.helperMissing).call(e,(t.filesize||e&&e.filesize||t.helperMissing).call(e,null!=(i=null!=e?e.content:e)?i.size_bytes:i,{name:"filesize",hash:{},data:a}),(t._||e&&e._||t.helperMissing).call(e,"FILE::MB",{name:"_",hash:{},data:a}),{name:"concat",hash:{separator:" "},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::File Size",{name:"_",hash:{},data:a})},data:a,indent:"                                            ",helpers:t,partials:n}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=e?e.content_is_3D_type_lights:e,{name:"if",hash:{},fn:this.program(32,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=e?e.content_is_3D_type_materials:e,{name:"if",hash:{},fn:this.program(37,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseTypeDetail"],e,{name:"modalWindow/licenseTypeDetail",hash:{value:null!=e?e.license_type_label:e},data:a,indent:"                                            ",helpers:t,partials:n}))?i:"")+"                                        "},32:function(e,t,n,a){var i;return(null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.is_outdoor:i,{name:"if",hash:{},fn:this.program(33,a,0),inverse:this.program(35,a,0),data:a}))?i:"")+"\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:null!=(i=null!=e?e.content:e)?i.light_types:i,label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Light Types",{name:"_",hash:{},data:a})},data:a,indent:"                                                ",helpers:t,partials:n}))?i:"")+"\n"},33:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t._||e&&e._||t.helperMissing).call(e,"FILE::Yes",{name:"_",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Outdoor",{name:"_",hash:{},data:a})},data:a,indent:"                                                    ",helpers:t,partials:n}))?i:""},35:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t._||e&&e._||t.helperMissing).call(e,"FILE::No",{name:"_",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Outdoor",{name:"_",hash:{},data:a})},data:a,indent:"                                                    ",helpers:t,partials:n}))?i:""},37:function(e,t,n,a){var i;return"\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.is_tileable:i,{name:"if",hash:{},fn:this.program(38,a,0),inverse:this.program(40,a,0),data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.is_procedural:i,{name:"if",hash:{},fn:this.program(42,a,0),inverse:this.program(44,a,0),data:a}))?i:"")},38:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t._||e&&e._||t.helperMissing).call(e,"FILE::Yes",{name:"_",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Tileable",{name:"_",hash:{},data:a})},data:a,indent:"                                                    ",helpers:t,partials:n}))?i:""},40:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t._||e&&e._||t.helperMissing).call(e,"FILE::No",{name:"_",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Tileable",{name:"_",hash:{},data:a})},data:a,indent:"                                                    ",helpers:t,partials:n}))?i:""},42:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t._||e&&e._||t.helperMissing).call(e,"FILE::Yes",{name:"_",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Procedural",{name:"_",hash:{},data:a})},data:a,indent:"                                                    ",helpers:t,partials:n}))?i:""},44:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t._||e&&e._||t.helperMissing).call(e,"FILE::No",{name:"_",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Procedural",{name:"_",hash:{},data:a})},data:a,indent:"                                                    ",helpers:t,partials:n}))?i:""},46:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.is_audio:i,{name:"if",hash:{},fn:this.program(47,a,0),inverse:this.program(52,a,0),data:a}))?i:""},47:function(e,t,n,a){var i;return" \n"+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{isUpperCase:!0,value:null!=(i=null!=e?e.content:e)?i.format:i,label:(t._||e&&e._||t.helperMissing).call(e,"FILE::File Type",{name:"_",hash:{},data:a})},data:a,indent:"                                            ",helpers:t,partials:n}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.content:e)?i.audio_data:i)?i.audio_bitrate:i,{name:"if",hash:{},fn:this.program(48,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.content:e)?i.audio_data:i)?i.duration:i,{name:"if",hash:{},fn:this.program(50,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=this.invokePartial(n["modalWindow/licenseTypeDetail"],e,{name:"modalWindow/licenseTypeDetail",hash:{value:null!=e?e.license_type_label:e},data:a,indent:"                                            ",helpers:t,partials:n}))?i:"")+"                                        "},48:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t.concat||e&&e.concat||t.helperMissing).call(e,(t.bitrate||e&&e.bitrate||t.helperMissing).call(e,null!=(i=null!=(i=null!=e?e.content:e)?i.audio_data:i)?i.audio_bitrate:i,{name:"bitrate",hash:{},data:a}),(t._||e&&e._||t.helperMissing).call(e,"FILE::Kbps",{name:"_",hash:{},data:a}),{name:"concat",hash:{separator:" "},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Bit Rate",{name:"_",hash:{},data:a})},data:a,indent:"                                                ",helpers:t,partials:n}))?i:""},50:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t.minutes||e&&e.minutes||t.helperMissing).call(e,null!=(i=null!=(i=null!=e?e.content:e)?i.audio_data:i)?i.duration:i,{name:"minutes",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Duration",{name:"_",hash:{},data:a})},data:a,indent:"                                                ",helpers:t,partials:n}))?i:""},52:function(e,t,n,a){var i;return" \n\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{isUpperCase:!0,value:null!=(i=null!=e?e.content:e)?i.format:i,label:(t._||e&&e._||t.helperMissing).call(e,"FILE::File Type",{name:"_",hash:{},data:a})},data:a,indent:"                                            ",helpers:t,partials:n}))?i:"")+"\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesDetail"],e,{name:"modalWindow/licenseReferencesDetail",hash:{value:(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"FILE::%d x %d px",{name:"_",hash:{},data:a}),null!=(i=null!=e?e.content:e)?i.content_original_width:i,null!=(i=null!=e?e.content:e)?i.content_original_height:i,{name:"sprintf",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"FILE::Dimensions",{name:"_",hash:{},data:a})},data:a,indent:"                                            ",helpers:t,partials:n}))?i:"")+"\n"+(null!=(i=(t["if-all-true"]||e&&e["if-all-true"]||t.helperMissing).call(e,null!=(i=null!=e?e.content:e)?i.is_premium:i,(t.not||e&&e.not||t.helperMissing).call(e,null!=(i=null!=e?e.content:e)?i.is_editorial:i,{name:"not",hash:{},data:a}),{name:"if-all-true",hash:{},fn:this.program(53,a,0),inverse:this.program(55,a,0),data:a}))?i:"")+"                                        "},53:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseTypeDetail"],e,{name:"modalWindow/licenseTypeDetail",hash:{value:(t._||e&&e._||t.helperMissing).call(e,"FILE::LICENSE::Extended",{name:"_",hash:{},data:a})},data:a,indent:"                                                ",helpers:t,partials:n}))?i:""},55:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseTypeDetail"],e,{name:"modalWindow/licenseTypeDetail",hash:{value:null!=e?e.license_type_label:e},data:a,indent:"                                                ",helpers:t,partials:n}))?i:""},57:function(e,t,n,a){var i;return'                            <div class="row">\n                                <div class="center-align border-bottom-1 border-bottom-solid grey-border silver-sand-border padding-xsmall">\n                                    <span class="grey silver-sand-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"ORGANIZATION::REFERENCE::Please enter license reference(s) below",{name:"_",hash:{},data:a}))+"</span>\n                                </div>\n                            </div>\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesFieldSet"],e,{name:"modalWindow/licenseReferencesFieldSet",data:a,indent:"                            ",helpers:t,partials:n}))?i:"")},59:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["modalWindow/licenseTransferFieldSet"],e,{name:"modalWindow/licenseTransferFieldSet",data:a,indent:"                            ",helpers:t,partials:n}))?i:""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="motmot">\n    <div class="mti-modal modal--with-header modal--secondary modal--large animated fade-in" data-state="shown">\n        <div class="modal__body overflow-visible">\n            <i class="modal__close mti-icon icon-close js-hide-modal"></i>\n            <form name="js-licensing-form" method="post">\n                <div class="modal__header left-align">\n                    <div id="modal-title" class="grey silver-sand-text">\n                        '+this.escapeExpression("function"==typeof(s=null!=(s=t.modal_title||(null!=e?e.modal_title:e))?s:t.helperMissing)?s.call(e,{name:"modal_title",hash:{},data:a}):s)+'\n                    </div>\n                    <div class="font-semibold">'+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"FILE::File #%s",{name:"_",hash:{},data:a}),null!=(i=null!=e?e.content:e)?i.content_id:i,{name:"sprintf",hash:{},data:a}))+'</div>\n                </div>\n                <div class="modal__content">\n                    <div class="padding-medium">\n                        <div class="row margin-bottom-small">\n'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.content:e)?i.is_video:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(27,a,0),data:a}))?i:"")+"                        </div>\n\n"+(null!=(i=t.if.call(e,null!=e?e.display_license_references:e,{name:"if",hash:{},fn:this.program(57,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=e?e.display_license_transfer:e,{name:"if",hash:{},fn:this.program(59,a,0),inverse:this.noop,data:a}))?i:"")+'\n                    </div>\n                </div>\n                <div class="modal__footer center-align container-absolute container-full">\n                    <button class="button button--dialog license-reference-submit-btn">\n                        <span>\n                            '+this.escapeExpression("function"==typeof(s=null!=(s=t.button_label||(null!=e?e.button_label:e))?s:t.helperMissing)?s.call(e,{name:"button_label",hash:{},data:a}):s)+"\n                        <span>\n                    </button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n"},usePartial:!0,useData:!0})}),define("hbs!templates/modalWindow/groupLicenseReferences",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.edit:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.program(4,a,0),data:a}))?i:""},2:function(e,t,n,a){var i;return'                                        <div class="container-license-group-image container-relative margin-xsmall js-content-select selected-assets" data-state="selected" data-download-id="'+this.escapeExpression("function"==typeof(i=null!=(i=t.key||a&&a.key)?i:t.helperMissing)?i.call(e,{name:"key",hash:{},data:a}):i)+'">\n                                            <div class="selected-item-icon circle">\n                                                <i class="icon-checkmark mti-large blue bleu-de-france-text"></i>\n                                            </div>\n                                            <div class="license-group-image">\n                                                <img src="'+this.escapeExpression(this.lambda(null!=e?e.thumb:e,e))+'"/>\n                                            </div>\n                                        </div>\n'},4:function(e,t,n,a){var i;return'                                        <div class="container-license-group-image container-relative margin-xsmall js-unauthorized-assets" data-state="unauthorized" data-download-id="'+this.escapeExpression("function"==typeof(i=null!=(i=t.key||a&&a.key)?i:t.helperMissing)?i.call(e,{name:"key",hash:{},data:a}):i)+'">\n                                            <div class="unauthorized-item-icon circle yellow orange js-unauthorized-item-icon">\n                                                <i class="icon-exclamationmark white-text"></i>\n                                            </div>\n                                            <div class="license-group-image">\n                                                <img src="'+this.escapeExpression(this.lambda(null!=e?e.thumb:e,e))+'"/>\n                                            </div>\n                                        </div>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="motmot">\n    <div class="mti-modal modal--with-header modal--large animated fade-in" data-state="shown">\n        <div class="modal__body overflow-visible js-references-modal-body">\n            <div class="js-modal-unauthorized-tooltip"></div>\n            <i class="modal__close mti-icon icon-close js-hide-modal"></i>\n            <form name="js-group-license-references" method="post">\n                <div class="modal__header left-align">\n                    <div id="modal-title" class="grey silver-sand-text">\n                        '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"ORGANIZATION::REFERENCE::Update References",{name:"_",hash:{},data:a}))+'\n                    </div>\n                    <div class="font-semibold js-number-selected">\n'+(null!=(i=this.invokePartial(n["modalWindow/numberFilesLicenseReferences"],e,{name:"modalWindow/numberFilesLicenseReferences",data:a,indent:"                        ",helpers:t,partials:n}))?i:"")+'                    </div>\n                </div>\n                <div class="modal__content">\n                    <div class="padding-medium">\n                        <div>\n                            <div class="preview-container js-preview-container border-1 border-solid silver-sand-border padding-xsmall margin-bottom-small">\n'+(null!=(i=t.each.call(e,null!=e?e.content:e,{name:"each",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'                                <div class="clear-fix"></div>\n                            </div>\n                        </div>\n\n                        <div>\n                            <div class="center-align border-bottom-1 border-bottom-solid grey-border silver-sand-border padding-xsmall">\n                                <span class="grey silver-sand-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"ORGANIZATION::REFERENCE::New references will apply to all the assets selected above.",{name:"_",hash:{},data:a}))+"</span>\n                            </div>\n                        </div>\n\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesFieldSet"],e,{name:"modalWindow/licenseReferencesFieldSet",data:a,indent:"                        ",helpers:t,partials:n}))?i:"")+'                    </div>\n                </div>\n                <div class="modal__footer center-align">\n                    <button class="button button--dialog license-reference-submit-btn">\n                        <span>'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"ORGANIZATION::REFERENCE::Update References",{name:"_",hash:{},data:a}))+"<span>\n                    </button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n"},usePartial:!0,useData:!0})}),define("hbs!templates/modalWindow/numberFilesLicenseReferences",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return"<span>\n    "+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"FILE::%s File","FILE::%s Files",null!=e?e.number_selected:e,{name:"ngettext",hash:{},data:a}),null!=e?e.number_selected:e,{name:"sprintf",hash:{},data:a}))+"\n</span>\n"},useData:!0})}),define("hbs!templates/modalWindow/licenseReferencesDetail",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return" text-up"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="row">\n    <div class="column on-small-7"><span class="grey silver-sand-text font-semibold text-up text-small" data-t="use-with-label">'+this.escapeExpression("function"==typeof(s=null!=(s=t.label||(null!=e?e.label:e))?s:t.helperMissing)?s.call(e,{name:"label",hash:{},data:a}):s)+'</span></div>\n    <div class="column on-small-5">\n        <span class="grey dove-text font-semibold '+(null!=(i=t.if.call(e,null!=e?e.isUpperCase:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+' text-small">\n            '+this.escapeExpression("function"==typeof(s=null!=(s=t.value||(null!=e?e.value:e))?s:t.helperMissing)?s.call(e,{name:"value",hash:{},data:a}):s)+"\n        </span>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/modalWindow/fieldInputValidator",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i,s;return"<label>\n    <span "+this.escapeExpression((t["data-t"]||e&&e["data-t"]||t.helperMissing).call(e,null!=e?e.dataT:e,"label",{name:"data-t",hash:{},data:a}))+' class="grey dove-text text-small font-semibold">\n        '+this.escapeExpression("function"==typeof(s=null!=(s=t.label||(null!=e?e.label:e))?s:t.helperMissing)?s.call(e,{name:"label",hash:{},data:a}):s)+"\n"+(null!=(i=(t["if-all-true"]||e&&e["if-all-true"]||t.helperMissing).call(e,null!=e?e.required:e,null!=e?e.condensed_display:e,{name:"if-all-true",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:"")+"    </span>\n"},2:function(e,t,n,a){return"            <sup>*</sup>\n"},4:function(e,t,n,a){var i,s;return"            <textarea "+this.escapeExpression((t["data-t"]||e&&e["data-t"]||t.helperMissing).call(e,null!=e?e.dataT:e,"input",{name:"data-t",hash:{},data:a}))+(null!=(i=t.if.call(e,null!=e?e.name:e,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.id:e,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:"")+' class="input--full js-field-group-input '+this.escapeExpression("function"==typeof(s=null!=(s=t.className||(null!=e?e.className:e))?s:t.helperMissing)?s.call(e,{name:"className",hash:{},data:a}):s)+'"'+(null!=(i=t.if.call(e,null!=e?e.required:e,{name:"if",hash:{},fn:this.program(9,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.value:e,{name:"if",hash:{},fn:this.program(11,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.placeholder:e,{name:"if",hash:{},fn:this.program(13,a,0),inverse:this.noop,data:a}))?i:"")+"></textarea>\n"},5:function(e,t,n,a){var i;return' name="'+this.escapeExpression("function"==typeof(i=null!=(i=t.name||(null!=e?e.name:e))?i:t.helperMissing)?i.call(e,{name:"name",hash:{},data:a}):i)+'"'},7:function(e,t,n,a){var i;return' id="'+this.escapeExpression("function"==typeof(i=null!=(i=t.id||(null!=e?e.id:e))?i:t.helperMissing)?i.call(e,{name:"id",hash:{},data:a}):i)+'"'},9:function(e,t,n,a){return" required"},11:function(e,t,n,a){var i;return' value="'+this.escapeExpression("function"==typeof(i=null!=(i=t.value||(null!=e?e.value:e))?i:t.helperMissing)?i.call(e,{name:"value",hash:{},data:a}):i)+'"'},13:function(e,t,n,a){var i;return' placeholder="'+this.escapeExpression("function"==typeof(i=null!=(i=t.placeholder||(null!=e?e.placeholder:e))?i:t.helperMissing)?i.call(e,{name:"placeholder",hash:{},data:a}):i)+'"'},15:function(e,t,n,a){var i,s;return'            <input type="text" '+this.escapeExpression((t["data-t"]||e&&e["data-t"]||t.helperMissing).call(e,null!=e?e.dataT:e,"input",{name:"data-t",hash:{},data:a}))+(null!=(i=t.if.call(e,null!=e?e.name:e,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.id:e,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:"")+' class="input--full js-field-group-input '+this.escapeExpression("function"==typeof(s=null!=(s=t.className||(null!=e?e.className:e))?s:t.helperMissing)?s.call(e,{name:"className",hash:{},data:a}):s)+'"'+(null!=(i=t.if.call(e,null!=e?e.required:e,{name:"if",hash:{},fn:this.program(9,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.value:e,{name:"if",hash:{},fn:this.program(11,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.placeholder:e,{name:"if",hash:{},fn:this.program(13,a,0),inverse:this.noop,data:a}))?i:"")+"/>\n"},17:function(e,t,n,a){return"</label>"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return(null!=(i=t.if.call(e,null!=e?e.label:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'    <div class="input-group">\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"textarea",logic:"eq",value:null!=e?e.type:e},fn:this.program(4,a,0),inverse:this.program(15,a,0),data:a}))?i:"")+'        <i class="js-field-group-icon mti-icon mti-icon--suffix icon-alert red lust-text" data-is-hidden="true"></i>\n        <div class="js-field-group-tooltip wrong-input-tooltip menu container-absolute container-below red lust margin-top-medium padding-small" data-is-hidden="true">\n            <div class="menu__arrow menu__arrow--top menu__arrow--error-color menu__arrow--center"></div>\n            <div class="js-field-group-tooltip-text white-text font-light left-align text-small">\n                <ul></ul>\n            </div>\n        </div>\n    </div>\n'+(null!=(i=t.if.call(e,null!=e?e.label:e,{name:"if",hash:{},fn:this.program(17,a,0),inverse:this.noop,data:a}))?i:"")+"\n"},useData:!0})}),define("hbs!templates/modalWindow/licenseTypeDetail",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return"                "+this.escapeExpression("function"==typeof(i=null!=(i=t.value||(null!=e?e.value:e))?i:t.helperMissing)?i.call(e,{name:"value",hash:{},data:a}):i)+"\n"},3:function(e,t,n,a){return"                "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"FILE::LICENSE::Enhanced",{name:"_",hash:{},data:a}))+"\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="row">\n    <div class="column on-small-7">\n        <span class="grey silver-sand-text font-semibold text-up text-small" data-t="license-label">\n            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"FILE::License",{name:"_",hash:{},data:a}))+'\n        </span>\n    </div>\n    <div class="column on-small-5">\n        <span class="grey dove-text font-semibold text-small" data-t="license-value">\n'+(null!=(i=t.if.call(e,null!=e?e.value:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(3,a,0),data:a}))?i:"")+"        </span>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/modalWindow/requiredPriceLabel",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return" text-up"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="row">\n    <div class="column on-small-7">\n        <span class="grey silver-sand-text font-semibold text-up text-small" data-t="price-label">\n            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"FILE::Price",{name:"_",hash:{},data:a}))+'\n        </span>\n    </div>\n    <div class="column on-small-5">\n        <span class="grey dove-text font-semibold'+(null!=(i=t.if.call(e,null!=e?e.isUpperCase:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+' text-small" data-t="price-value">\n            '+this.escapeExpression("function"==typeof(s=null!=(s=t.value||(null!=e?e.value:e))?s:t.helperMissing)?s.call(e,{name:"value",hash:{},data:a}):s)+"\n        </span>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/modalWindow/fotoliaSubscription",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'                                <span class="text-sregular v-align-top large-line-height">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.fotoliaSubscription:e)?i.price_after_decimal:i,e))+"</span>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="motmot">\n    <div class="grey mti-modal modal--with-header modal--large animated fade-in" data-state="shown">\n        <div class="theme grey white-smoke modal__body">\n            <i class="modal__close mti-icon icon-close js-hide-modal"></i>\n\n            <h3 class="grey dove-text modal__header text-center">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"PLANS::MIGRATION::We detect that you had a Fotolia subscription",{name:"_",hash:{},data:a}))+'</h3>\n            <h3 class="grey dove-text text-center margin-top-small">'+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"PLANS::MIGRATION::Switch to Adobe Stock and %searn 33%% off%s",{name:"_",hash:{},data:a}),"<strong>","</strong>",{name:"sprintf",hash:{},data:a}))?i:"")+'</h3>\n\n            <div class="row margin-top-xlarge margin-bottom-xlarge">\n                <div class="column on-small-12 on-medium-2 on-medium-offset-5">\n                    <div class="border-top-1 border-solid silver-sand-border"></div>\n                </div>\n            </div>\n\n            <div class="pod-modal padding-bottom-xlarge margin-left-xlarge margin-right-xlarge">\n                <div class="plans-pods center-align">\n                    <div class="white border-solid border-1 seashell-border plans-pods__tile__ftl-modal">\n\n                        <div class="container-relative">\n                            <span class="white mti-ribbon ribbon--top ribbon--left ribbon--info text-up">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"PLANS::MIGRATION::Your Fotolia plan",{name:"_",hash:{},data:a}))+'</span>\n                        </div>\n\n                        <div class="padding-top-xlarge">\n                            <div class="padding-top-xsmall padding-left-small padding-right-small">\n                                <div class="grey dove-text text-regular min-height-small">\n                                    '+this.escapeExpression(this.lambda(null!=(i=null!=e?e.fotoliaSubscription:e)?i.quota:i,e))+'\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class="blue crayola-text v-align-wrapper medium-height-responsive">\n                            <span class="text-sregular v-align-top large-line-height">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.fotoliaSubscription:e)?i.symbol:i,e))+'</span>\n                            <span class="text-xxxlarge font-light">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.fotoliaSubscription:e)?i.price_before_decimal:i,e))+"</span>\n\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.fotoliaSubscription:e)?i.price_after_decimal:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'\n                            <span class="text-sregular v-align-bottom large-line-height">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"PLANS::PRICING::/mo",{name:"_",hash:{},data:a}))+'</span>\n                        </div>\n\n                        <div class="row margin-top-small margin-bottom-small">\n                            <div class="column on-small-12 on-medium-2 on-medium-offset-5">\n                                <div class="border-top-1 border-solid silver-sand-border"></div>\n                            </div>\n                        </div>\n\n                        <div class="padding-left-large">\n                            <ul class="grey dove-text list-style-none text-small center-align">\n                                <li>'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.fotoliaSubscription:e)?i.expiration_date:i,e))+"</li>\n                                <li>"+this.escapeExpression(this.lambda(null!=(i=null!=e?e.fotoliaSubscription:e)?i.months_left:i,e))+"</li>\n                                <li>"+this.escapeExpression(this.lambda(null!=(i=null!=e?e.fotoliaSubscription:e)?i.remaining_downloads:i,e))+'</li>\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class="left margin-left-xlarge margin-right-xlarge grey dove-text margin-bottom-large">\n                <h3 class="font-bold">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"PLANS::MIGRATION::What will happen to my Fotolia subscription?",{name:"_",hash:{},data:a}))+'</h3>\n                <ul class="grey-text text-sregular list-style-disc margin-left-small ftl-modal-infos">\n                    <li class="margin-top-medium">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"PLANS::MIGRATION::When you purchase an Adobe Stock subscription, your current Fotolia subscription will close.",{name:"_",hash:{},data:a}))+'</li>\n                    <li class="margin-top-medium">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"PLANS::MIGRATION::Each of your remaining Fotolia downloads will be converted into two Adobe Stock licenses.",{name:"_",hash:{},data:a}))+'</li>\n                </ul>\n            </div>\n            <div class="clear-fix"></div>\n            <div class="modal__footer text-center">\n              <button class="js-hide-modal button button--dialog">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CHECKOUT::OK",{name:"_",hash:{},data:a}))+"</button>\n            </div>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/modalWindow/vectorDownloadChoice",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<div class="motmot">\n    <div class="modal-vector-download-choice mti-modal modal--with-header " data-t="vector-download-choice-modal">\n        <div class="modal__body text-sregular">\n            <i\n                class="modal__close mti-icon icon-close js-hide-modal js-vector-download-choice-close-button"\n                data-t="vector-download-choice-close-btn"\n                data-ingest-clicktype="vector-download-choice-modal-close"\n            ></i>\n            <div class="modal__header">\n                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::CHOICE::Please Choose File Type to Download",{name:"_",hash:{},data:a}))+'\n            </div>\n            <div class="modal__content grey heavy-metal-text left-align">\n                <div class="padding-medium">\n                    <div class="margin-bottom-medium">\n                        '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::CHOICE::License has been purchased. Which file type would you like to download?",{name:"_",hash:{},data:a}))+'\n                    </div>\n                    <div class="margin-bottom-small">\n                        <label class="switch grey heavy-metal-text" data-ingest-clicktype="vector-download-choice-modal-vector">\n                            <input\n                                type="radio"\n                                name="vector_download_choice"\n                                data-t="vector-download-choice-vector-radio"\n                                value="vector"\n                                checked="checked"\n                            />\n                            <strong>\n                                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::CHOICE::Vector (AI/EPS/SVG)",{name:"_",hash:{},data:a}))+'\n                            </strong>\n                            <div class="text-small padding-left-large">\n                                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::CHOICE::Can be scaled infinitely for use with Adobe Illustrator.",{name:"_",hash:{},data:a}))+'\n                            </div>\n                        </label>\n                    </div>\n                    <div class="margin-bottom-small">\n                        <label class="switch grey heavy-metal-text" data-ingest-clicktype="vector-download-choice-modal-jpeg">\n                            <input\n                                type="radio"\n                                name="vector_download_choice"\n                                data-t="vector-download-choice-jpeg-radio"\n                                value="jpeg"\n                            />\n                            <strong>\n                                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::CHOICE::JPEG",{name:"_",hash:{},data:a}))+'\n                            </strong>\n                            <div class="text-small padding-left-large">\n                                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::CHOICE::Raster files can be opened with a wide variety of apps like Adobe Photoshop.",{name:"_",hash:{},data:a}))+'\n                            </div>\n                        </label>\n                    </div>\n                    <div>\n                        <label class="switch grey heavy-metal-text" data-ingest-clicktype="vector-download-choice-modal-set-as-default">\n                            <input\n                                type="checkbox"\n                                name="vector_download_choice_set_as_default"\n                                data-t="vector-download-choice-set-as-default"\n                                value=""\n                            />\n                            <strong>\n                                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::CHOICE::Set as default",{name:"_",hash:{},data:a}))+'\n                            </strong>\n                        </label>\n                        <div class="text-small padding-left-large">\n                            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::CHOICE::We'll remember your choice for downloading vector files from now on. You can change your preference in vector image Settings.",{name:"_",hash:{},data:a}))+'\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="modal__footer">\n                <button class="button button--dialog js-vector-download-choice-download-btn" data-t="vector-download-choice-download-btn" data-ingest-content-id='+this.escapeExpression(this.lambda(null!=e?e.contentId:e,e))+">\n                    "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::CHOICE::Download",{name:"_",hash:{},data:a}))+"\n                </button>\n            </div>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/modalWindow/transparentPngDownloadChoice",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return"                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"TRANSPARENT_PNG::DOWNLOAD::CHOICE::License has been purchased.",{name:"_",hash:{},data:a}))+"\n"},3:function(e,t,n,a){var i;return'                        <div class="margin-bottom-small">\n                                <label class="switch grey heavy-metal-text" data-ingest-clicktype="transparent-png-download-choice-modal-vector">\n                                    <input\n                                        tabindex="0"\n                                        type="radio"\n                                        name="transparent_png_download_choice"\n                                        data-t="transparent-png-download-choice-vector-radio"\n                                        value="vector"\n'+(null!=(i=t.if.call(e,null!=e?e.isVector:e,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.noop,data:a}))?i:"")+"                                    />\n                                    <strong>\n                                        "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"TRANSPARENT_PNG::DOWNLOAD::CHOICE::Vector (AI/EPS/SVG): ",{name:"_",hash:{},data:a}))+'\n                                    </strong>\n                                    <div class="text-small padding-left-large">\n                                        '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"TRANSPARENT_PNG::DOWNLOAD::CHOICE::Graphics based on geometric shapes. They can be resized any amount without affecting quality. For use with Adobe Illustrator.",{name:"_",hash:{},data:a}))+"\n                                    </div>\n                                </label>\n                        </div>\n"},4:function(e,t,n,a){return'                                            checked="checked"\n'},6:function(e,t,n,a){return'                                        checked="checked"\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="motmot">\n    <div class="modal-vector-download-choice mti-modal modal--with-header " data-t="transparent-png-download-choice-modal" role="dialog">\n        <div class="modal__body text-sregular">\n            <button\n                data-t="transparent-png-download-choice-close-btn"\n                data-ingest-clicktype="transparent-png-download-choice-modal-close"\n                class="modal__close js-transparent-png-download-choice-modal-close"\n                aria-label="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"A11Y::TRANSPARENT_PNG::DOWNLOAD::CHOICE::Close modal",{name:"_",hash:{},data:a}))+'"\n            >\n                <i class="modal__close mti-icon icon-close"></i>\n            </button>\n            <div class="modal__header">\n                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"TRANSPARENT_PNG::DOWNLOAD::CHOICE::Please choose file type to download",{name:"_",hash:{},data:a}))+'\n            </div>\n            <div class="modal__content grey heavy-metal-text left-align">\n                <div class="padding-medium">\n                    <div class="margin-bottom-medium">\n'+(null!=(i=(t["if-all-true"]||e&&e["if-all-true"]||t.helperMissing).call(e,null!=e?e.isInvokedFromHover:e,null!=e?e.isLicensedDownloadUrl:e,{name:"if-all-true",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+"                        "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"TRANSPARENT_PNG::DOWNLOAD::CHOICE::Which file type would you like to download?",{name:"_",hash:{},data:a}))+"\n                    </div>\n"+(null!=(i=t.if.call(e,null!=e?e.isVector:e,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+'                    <div class="margin-bottom-small">\n                            <label class="switch grey heavy-metal-text" data-ingest-clicktype="transparent-png-download-choice-modal-jpeg">\n                                <input\n                                    tabindex="0"\n                                    type="radio"\n                                    name="transparent_png_download_choice"\n                                    data-t="transparent-png-download-choice-jpeg-radio"\n                                    value="jpeg"\n'+(null!=(i=t.if.call(e,(t.not||e&&e.not||t.helperMissing).call(e,null!=e?e.isVector:e,{name:"not",hash:{},data:a}),{name:"if",hash:{},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+"                                />\n                                <strong>\n                                    "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"TRANSPARENT_PNG::DOWNLOAD::CHOICE::JPEG: ",{name:"_",hash:{},data:a}))+'\n                                </strong>\n                                <div class="text-small padding-left-large">\n                                    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"TRANSPARENT_PNG::DOWNLOAD::CHOICE::Pixel-based images that don't support transparency. Resizing them may affect quality.",{name:"_",hash:{},data:a}))+'\n                                </div>\n                            </label>\n                    </div>\n                    <div class="margin-bottom-small">\n                            <label class="switch grey heavy-metal-text" data-ingest-clicktype="transparent-png-download-choice-modal-png">\n                                <input\n                                    tabindex="0"\n                                    type="radio"\n                                    name="transparent_png_download_choice"\n                                    data-t="transparent-png-download-choice-png-radio"\n                                    value="png"\n                                />\n                                <strong>\n                                    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"TRANSPARENT_PNG::DOWNLOAD::CHOICE::PNG: ",{name:"_",hash:{},data:a}))+'\n                                </strong>\n                                <div class="text-small padding-left-large">\n                                    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"TRANSPARENT_PNG::DOWNLOAD::CHOICE::Pixel-based images that can have transparent backgrounds, resizing them may affect quality.",{name:"_",hash:{},data:a}))+'\n                                </div>\n                            </label>\n                    </div>\n                </div>\n            </div>\n            <div class="modal__footer">\n                <button\n                    class="button button--dialog js-transparent-png-download-choice-download-btn" data-t="transparent-png-download-choice-download-btn"\n                    aria-label="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"A11Y::TRANSPARENT_PNG::DOWNLOAD::CHOICE::Download asset of selected format",{name:"_",hash:{},data:a}))+'"\n                    data-ingest-content-id='+this.escapeExpression(this.lambda(null!=e?e.contentId:e,e))+"\n                >\n                    "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"TRANSPARENT_PNG::DOWNLOAD::CHOICE::Download",{name:"_",hash:{},data:a}))+"\n                </button>\n            </div>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/modalWindow/ccxQALicenseDialog",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<div class="motmot">\n    <div class="modal-vector-download-choice mti-modal modal--with-header " data-t="ccxqa-license-modal" role="dialog">\n        <div class="modal__body text-sregular">\n            <button\n                data-t="ccxqa-license-modal-close-btn"\n                data-ingest-clicktype="ccxqa-license-modal-close"\n                class="modal__close js-ccxqa-license-modal-close"\n                aria-label="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"A11Y::CCXQA::LICENSE_DIALOG::Close modal",{name:"_",hash:{},data:a}))+'"\n            >\n                <i class="modal__close mti-icon icon-close"></i>\n            </button>\n            <div class="modal__header" data-t="ccxqa-license-modal-title">\n                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CCXQA::LICENSE_DIALOG::TITLE::License for free first",{name:"_",hash:{},data:a}))+'\n            </div>\n            <div class="modal__content grey heavy-metal-text left-align">\n                <div class="padding-medium">\n                    <div class="margin-bottom-medium text-center" data-t="ccxqa-license-modal-text">\n                        '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CCXQA::LICENSE_DIALOG::You must license and download this image before you can resize or remove its background",{name:"_",hash:{},data:a}))+'\n                    </div>\n                </div>\n            </div>\n            <div class="modal__footer">\n                <button\n                    class="button button--dialog js-ccxqa-license-btn" data-t="ccxqa-license-modal-btn"\n                    aria-label="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"A11Y::CCXQA::LICENSE_DIALOG::License and download asset for free",{name:"_",hash:{},data:a}))+'"\n                    data-content-id='+this.escapeExpression(this.lambda(null!=e?e.contentId:e,e))+"\n                    data-license-id="+this.escapeExpression(this.lambda(null!=e?e.licenseId:e,e))+"\n                    data-ingest-content-id="+this.escapeExpression(this.lambda(null!=e?e.contentId:e,e))+"\n                >\n                    "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"CCXQA::LICENSE_DIALOG::License and download",{name:"_",hash:{},data:a}))+"\n                </button>\n            </div>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/videoSvgPicto",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 19 12" style="enable-background:new 0 0 19 12;width: 15px;height: 10px;fill: white;" xml:space="preserve">\n    <g>\n        <path d="M17.8,0.8L13,3V0.8C13,0.4,12.6,0,12.2,0H0.8C0.4,0,0,0.4,0,0.8v10.4C0,11.6,0.4,12,0.8,12h11.4c0.4,0,0.8-0.4,0.8-0.8V9\n                 l4.8,2.2c0.5,0.4,1.2,0,1.2-0.7v-9C19,0.9,18.3,0.5,17.8,0.8z"></path>\n    </g>\n</svg>\n'},useData:!0})}),define("components/fieldInputValidator",["jquery"],function(e){"use strict";var t="data-is-hidden",n="data-field-is-valid";return function(a,i){var s=this,r=a.parent(),o=r.find(".js-field-group-tooltip"),l=r.find(".js-field-group-icon"),c=r.find(".js-field-group-tooltip-text > ul");this.missMatchedValues=!1,this.setMessage=function(t){var n=e.isArray(t)?t:[t||""];c.html(n.map(function(t){if(t)return e("<li>").text(t)}))},this.showTooltip=function(){"false"!==o.attr(t)&&(o.attr(t,"false"),l.attr(t,"false"))},this.showToolTipmissMatchedValues=function(){s.missMatchedValues&&!a.val().trim()?(s.setMessage(s.missMatchedValues),l.attr(t,"false")):l.attr(t,"true")},this.hideToolTip=function(){o.attr(t,"true"),s.showToolTipmissMatchedValues()},this.checkValue=function(e){var t,s=e;(t=i)&&t.maxlength&&t.message&&(i.invalidCharactersPattern&&(s=e.replace(i.invalidCharactersPattern,"")),s=s.substring(0,i.maxlength)),a.attr("required")&&a.attr(n,!!s.trim()),e!==s?(a.val(s),this.setMessage(i.message),this.showTooltip(),setTimeout(this.hideToolTip,2e3)):this.hideToolTip()},l.hover(s.showTooltip,s.hideToolTip)}}),define("hbs!templates/modalWindow/licenseTransferFieldSet",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return" border-top-1 border-top-solid grey-border silver-sand-border margin-top-large"},3:function(e,t,n,a){return" on-medium-12 margin-bottom-medium"},5:function(e,t,n,a){return" on-medium-6 padding-medium"},7:function(e,t,n,a){return" on-medium-12"},9:function(e,t,n,a){return" on-medium-6 margin-top-medium"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="row">\n    <div class="js-license-transfer-wrapper'+(null!=(i=t.unless.call(e,(i=a&&a.root)&&i.display_license_transfer_as_one_column,{name:"unless",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'">\n        <div class="column on-small-12'+(null!=(i=t.if.call(e,(i=a&&a.root)&&i.display_license_transfer_as_one_column,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.program(5,a,0),data:a}))?i:"")+' margin-top-medium">\n            <div>\n                <label class="text-sregular">\n                    <input data-t="license-transfer-enable-checkbox" type="checkbox" class="js-license-transfer-checkbox margin-right-small">\n                    <span data-t="license-transfer-enable-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,'ORGANIZATION::LICENSE_TRANSFER::Apply the "Transferred" license badge',{name:"_",hash:{},data:a}))+'</span>\n                </label>\n            </div>\n            <div class="js-license-transfer-inputs" data-is-hidden="true">\n                <div class="margin-bottom-xsmall margin-top-small left-align">\n'+(null!=(i=this.invokePartial(n["modalWindow/fieldInputValidator"],e,{name:"modalWindow/fieldInputValidator",hash:{required:!0,dataT:"license-transfer-client-name",name:"client_name",label:(t._||e&&e._||t.helperMissing).call(e,"ORGANIZATION::LICENSE_TRANSFER::Client Name",{name:"_",hash:{},data:a})},data:a,indent:"                    ",helpers:t,partials:n}))?i:"")+'                </div>\n                <div class="margin-bottom-xsmall left-align">\n'+(null!=(i=this.invokePartial(n["modalWindow/fieldInputValidator"],e,{name:"modalWindow/fieldInputValidator",hash:{dataT:"license-transfer-notes",label:(t._||e&&e._||t.helperMissing).call(e,"ORGANIZATION::LICENSE_TRANSFER::Additional Notes",{name:"_",hash:{},data:a}),name:"notes"},data:a,indent:"                    ",helpers:t,partials:n}))?i:"")+'                </div>\n            </div>\n        </div>\n        <div class="column on-small-12'+(null!=(i=t.if.call(e,(i=a&&a.root)&&i.display_license_transfer_as_one_column,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.program(9,a,0),data:a}))?i:"")+' white border-2 border-solid border-radius-4 bleu-de-france-border padding-medium">\n            <div class="text-sregular grey dove-text margin-bottom-medium">\n                <strong data-t="license-transfer-details-title-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"ORGANIZATION::LICENSE_TRANSFER::License transfer details",{name:"_",hash:{},data:a}))+'</strong>\n                <i class="mti-icon icon-infofull right blue bleu-de-france-text"></i>\n            </div>\n            <div class="text-sregular grey dove-text" data-t="license-transfer-details-body-text">\n                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"ORGANIZATION::LICENSE_TRANSFER::Please keep in mind that a license may only belong to either yourself, or your client (not both) and that a license may only be transferred to a client via an enforceable written agreement between you and your client.",{name:"_",hash:{},data:a}))+"\n                "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"ORGANIZATION::LICENSE_TRANSFER::Please note that this action cannot be reversed, and that the transfer status and details (client name and additional notes) will be visible by all the users of your organization.",{name:"_",hash:{},data:a}))+"\n            </div>\n        </div>\n    </div>\n</div>\n"},usePartial:!0,useData:!0})}),define("components/licenseTransferFieldSet",["jquery","components/fieldInputValidator","hbs!templates/modalWindow/licenseTransferFieldSet"],function(e,t,n){"use strict";var a="",i="data-is-hidden",s="data-field-is-valid";return{template:n,init:function(n,r){var o,l={},c=!1,u=n.find(".js-license-transfer-wrapper"),d=u.find(".js-license-transfer-checkbox"),p=u.find(".js-license-transfer-inputs"),_={};function h(e){for(var t in _)_[t].required&&_[t].input.prop("required",e)}function f(){r||(c=!1,l={},p.attr(i,!0),h(!1))}function E(){c=!0,p.attr(i,!1),h(!0)}function m(){var e,t,n;for(e in _)n=(t=_[e].input).val().trim(),(_[e].required||_[e].validator.missMatchedValues)&&t.attr(s,!!n),l[e]=n}function g(){o&&o(Object.assign({},l),c)}u.find(".js-field-group-input").each(function(){var n=e(this),a=n.attr("name"),i=new t(n);_[a]={input:n,validator:i,required:n.prop("required")},n.on("input",function(){m(),g(),i.checkValue(n.val())}).on("blur",function(){i.hideToolTip()})}),r?(d.hide(),E()):(f(),d.on("change",function(){e(this).prop("checked")?E():f(),g()})),this.data=function(){return l},this.valid=function(){var e,t,n=!0;if(!c)return n;for(t in m(),_)if(((e=_[t]).required||e.validator.missMatchedValues)&&!l[t]){n=!1;break}return n},this.resetFields=function(){var e;for(e in _)(_[e].required||_[e].validator.missMatchedValues)&&_[e].input.attr(s,"true")},this.setTransferData=function(t,n,i){var r,o,c,u;n=n||{},i=i||{};if(e.isPlainObject(t)){for(o in d.prop("checked",!0),E(),_)r=_[o],c=t[o]||a,u=n.default,r.validator.missMatchedValues=!1,e.isArray(c)&&(c.length<2?c=c[0]:(i.missMatchedValues&&(r.validator.missMatchedValues=[i.missMatchedValues].concat(c.map(function(e){return"- "+e}))),c=a,u=n.missMatchedValues)),l[o]=c,r.input.attr(s,!0).attr("placeholder",u).val(c),r.validator.showToolTipmissMatchedValues();m()}else d.prop("checked",!1),this.resetFields(),f()},this.onDataChanged=function(t){e.isFunction(t)&&(o=t)}}}}),define("lib/licenseReferencesConstants",[],function(){"use strict";return{REFERENCE_ID_PROJECT_NAME:"1",REFERENCE_ID_PROJECT_REFERENCE:"2",REFERENCE_ID_CUSTOMER_NAME:"3",REFERENCE_ID_CUSTOMER_REFERENCE:"4",REFERENCE_ID_COST_CENTER:"5",REFERENCE_ID_PURCHASE_ORDER_NUMBER:"6",REFERENCE_ID_ISBN:"7",REFERENCE_ID_DEPARTMENT:"8",REFERENCE_ID_COUNTRY:"9",REFERENCE_ID_LICENSEE:"10"}}),define("hbs!templates/modalWindow/licenseReferencesFieldSet",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return(null!=(i=t.unless.call(e,null!=e?e.condensed_license_references_display:e,{name:"unless",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.each.call(e,null!=e?e.mandatory_license_references:e,{name:"each",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.unless.call(e,null!=e?e.condensed_license_references_display:e,{name:"unless",hash:{},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")},2:function(e,t,n,a){var i;return'                <div class="js-mandatory-reference-fields column on-small-12 on-medium-6'+(null!=(i=t.unless.call(e,null!=e?e.optional_license_references:e,{name:"unless",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+' center-align padding-medium">\n                    <div class="margin-bottom-xsmall"><span class="text-sregular grey dove-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"ORGANIZATION::REFERENCE::Mandatory References",{name:"_",hash:{},data:a}))+"</span></div>\n"},3:function(e,t,n,a){return" on-medium-offset-3"},5:function(e,t,n,a){var i;return'                    <div class="margin-bottom-xsmall left-align container-relative'+(null!=(i=t.if.call(e,null!=e?e.condensed_license_references_display:e,{name:"if",hash:{},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+'">\n'+(null!=(i=this.invokePartial(n["modalWindow/fieldInputValidator"],e,{name:"modalWindow/fieldInputValidator",hash:{condensed_display:(i=a&&a.root)&&i.condensed_license_references_display,value:t.lookup.call(e,(i=a&&a.root)&&i.saved_license_references,a&&a.key,{name:"lookup",hash:{},data:a}),required:!0,dataT:e,name:a&&a.key,label:e,className:"js-license-reference-field",id:a&&a.key},data:a,indent:"                        ",helpers:t,partials:n}))?i:"")+"                    </div>\n"},6:function(e,t,n,a){return" license-reference-field left container-inline-block"},8:function(e,t,n,a){return"                </div>\n"},10:function(e,t,n,a){var i;return(null!=(i=t.unless.call(e,null!=e?e.condensed_license_references_display:e,{name:"unless",hash:{},fn:this.program(11,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.each.call(e,null!=e?e.optional_license_references:e,{name:"each",hash:{},fn:this.program(13,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.unless.call(e,null!=e?e.condensed_license_references_display:e,{name:"unless",hash:{},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")},11:function(e,t,n,a){var i;return'                <div class="js-optional-reference-fields column on-small-12 on-medium-6'+(null!=(i=t.unless.call(e,null!=e?e.mandatory_license_references:e,{name:"unless",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+' center-align padding-medium">\n                    <div class="margin-bottom-xsmall"><span class="text-sregular grey dove-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"ORGANIZATION::REFERENCE::Optional References",{name:"_",hash:{},data:a}))+"</span></div>\n"},13:function(e,t,n,a){var i;return'                    <div class="margin-bottom-xsmall left-align container-relative'+(null!=(i=t.if.call(e,null!=e?e.condensed_license_references_display:e,{name:"if",hash:{},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+'">\n'+(null!=(i=this.invokePartial(n["modalWindow/fieldInputValidator"],e,{name:"modalWindow/fieldInputValidator",hash:{condensed_display:(i=a&&a.root)&&i.condensed_license_references_display,value:t.lookup.call(e,(i=a&&a.root)&&i.saved_license_references,a&&a.key,{name:"lookup",hash:{},data:a}),dataT:e,name:a&&a.key,label:e,className:"js-license-reference-field",id:a&&a.key},data:a,indent:"                        ",helpers:t,partials:n}))?i:"")+"                    </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="row">\n    <div class="js-license-references-wrapper">\n'+(null!=(i=t.if.call(e,null!=e?e.mandatory_license_references:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.optional_license_references:e,{name:"if",hash:{},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:"")+"    </div>\n</div>\n"},usePartial:!0,useData:!0})}),define("components/licenseReferencesFieldSet",["jquery","i18n","i18n-config","components/fieldInputValidator","lib/licenseReferencesConstants","hbs!templates/modalWindow/licenseReferencesFieldSet"],function(e,t,n,a,i,s){"use strict";var r="data-field-is-valid",o={};return{template:s,init:function(s){var l,c={};function u(e){var t,n,a,i=!0;for(t in o){if(a=(n=o[t]).input.val().trim(),n.input.prop("disabled"))return!0;a||!n.required&&!n.validator.missMatchedValues?n.input.attr(r,"true"):(i=!1,e&&n.input.focus(),n.input.attr(r,"false")),c[parseInt(t,10)]=a}return i}o={},s.find(".js-license-reference-field").each(function(){var s=e(this),r=s.attr("id"),d=new a(s,function(e){var a,s;e===i.REFERENCE_ID_PURCHASE_ORDER_NUMBER?(s=35,a=t.sprintf(n.ngettext("MODAL::LICENSE_REFERENCE::ERROR::Client purchase order cannot exceed %s character. It cannot include linefeeds or special characters such as commas.","MODAL::LICENSE_REFERENCE::ERROR::Client purchase order cannot exceed %s characters. It cannot include linefeeds or special characters such as commas.",s),s)):(s=80,a=t.sprintf(n.ngettext("MODAL::LICENSE_REFERENCE::ERROR::References cannot exceed %s character. They cannot include linefeeds or special characters such as commas.","MODAL::LICENSE_REFERENCE::ERROR::References cannot exceed %s characters. They cannot include linefeeds or special characters such as commas.",s),s));return{invalidCharactersPattern:/\r\n|\r|\n|,|"/g,maxlength:s,message:a}}(r));o[r]={input:s,validator:d,required:s.prop("required")},s.on("input",function(){d.checkValue(s.val()),u(),l&&l(Object.assign({},c))}).on("blur",function(){d.hideToolTip()})}),this.setReferences=function(t,n,a){var i,s,r,l;n=n||{},a=a||{};for(s in t)r=n.default,l=t[s],i=o[s],e.isArray(l)&&(l.length<2?(i.validator.missMatchedValues=!1,l=l[0]||""):(a.missMatchedValues&&(i.validator.missMatchedValues=[a.missMatchedValues].concat(l.map(function(e){return"- "+e}))),r=n.missMatchedValues,l="")),i.input.attr("placeholder",r).val(l),i.validator.checkValue(l);u()},this.onDataChanged=function(t){e.isFunction(t)&&(l=t)},this.data=function(){return c},this.valid=function(){return u(!0)},this.resetFields=function(){var e;for(e in o)(o[e].required||o[e].validator.missMatchedValues)&&o[e].input.attr(r,"true")}}}}),define("app/actions/detailsActions",["app/actions/actionTypes","app/constants/localStorage"],function(e,t){"use strict";return{addItemDetails:function(t,n){return{content_id:t||0,data:n||{},type:e.ADD_ITEM_DETAILS}},selectItem:function(t){return{content_id:t||0,type:e.ITEM_SELECTED}},closeDetailsPanel:function(){return{type:e.CLOSE_DETAILS_PANEL}},updateDetailPanelLicense:function(t,n){return{contentId:parseInt(t,10),licenseId:n,type:e.UPDATE_DETAIL_PANEL_LICENSE}},saveVectorDownloadPreference:function(t){return{type:e.SAVE_VECTOR_DOWNLOAD_PREFERENCE,value:t}},openVectorDownloadSettings:function(){return{type:e.OPEN_VECTOR_DOWNLOAD_SETTINGS}},closeVectorDownloadSettings:function(){return{type:e.CLOSE_VECTOR_DOWNLOAD_SETTINGS}},selectContentLicense:function(t,n){return{contentId:parseInt(t,10),licenseId:parseInt(n,10),type:e.SELECT_CONTENT_LICENSE}},contentLicensed:function(t,n){return{contentId:parseInt(t,10),licenseId:n,type:e.CONTENT_LICENSED}},setTransparentPngDownloadAssetType:function(t){return{type:e.SET_TRANSPARENT_PNG_DOWNLOAD_ASSET_TYPE,downloadAssetType:t}}}}),define("app/stock-portal",["jquery","lodash","lib/utils","lib/analytics","app/constants/dunamis","app/constants/analytics"],function(e,t,n,a,i,s){"use strict";var r=[];function o(){return window.__stock_portal_exports__}function l(){e(".js-server-side-circle-loader").attr("data-state","hidden")}function c(e){if(t.get(o(),"store.dispatch")&&t.get(o(),"actions")){var n=t.get(o().actions,e),a=Array.prototype.slice.call(arguments,1),i=n.apply(null,a);return o().store.dispatch(i)}r.push(arguments)}return{getState:function(){return o()?o().store.getState():null},subscribe:function(e){return o().store.subscribe(e)},onPortalInitialized:function(){for(;r.length>0;)c.apply(null,r.shift())},FIND_SIMILAR:"find_similar",FILTERS:"filters",initLibrariesToast:c.bind(null,"librariesToast.initLibrariesToast"),audioFindSimilarById:function(e){c("visualSearchModal.audioFindSimilarById",e)},assetLicensedOnly:c.bind(null,"librariesToast.assetLicensedOnly"),saveToLibraryLoadingStart:c.bind(null,"librariesToast.saveToLibraryLoadingStart"),saveToLibraryLoadingStop:c.bind(null,"librariesToast.saveToLibraryLoadingStop"),saveToLibrarySuccess:c.bind(null,"librariesToast.saveToLibrarySuccess"),saveToLibraryFailure:c.bind(null,"librariesToast.saveToLibraryFailure"),showLibrariesList:c.bind(null,"librariesToast.showLibrariesList"),startCheckout:function(e){var n=i.PROPERTIES.CHECKOUT,r=t.get(e.dunamisTrackingData,n.SELECTION_METHOD),o=t.get(e,"dunamisTrackingData",{});o[n.FINDING_METHOD]=a.determineFindingMethod(),o[n.SELECTION_METHOD]=r||s.SELECTION_DIRECT,e.dunamisTrackingData=o,c("coreCheckout.startCheckout",e)},startTeamCheckout:c.bind(null,"stockTeamCheckout.startTeamCheckout"),hidePanel:c.bind(null,"searchPanel.hidePanel"),renderPanelLoading:c.bind(null,"searchPanel.renderPanelLoading"),closeAlert:c.bind(null,"alert.closeAlert"),renderCarousel:c.bind(null,"carousel.renderCarousel"),renderFiltersPanel:function(){l(),c("searchPanel.renderFiltersPanel")},renderFindSimilarControlsPanel:function(e){l(),e&&function(e){var t="composition"===e.findSimilarBy&&e.hideComposition;return!e.findSimilarBy||t}(e)&&(e.findSimilarBy="all"),c("searchPanel.renderFindSimilarControlsPanel",e)},clearFindSimilarControls:function(){l(),c("searchPanel.clearFindSimilarControls")},onlyClearFindSimilarControls:function(){l(),c("searchPanel.onlyClearFindSimilarControls")},renderAlert:function(e,t){c("alert.renderAlert",e),t||n.scrollToTop()},renderCCXQAErrorAlert:function(e){c("ccxQA.renderCCXQAErrorAlert",e)},removeServerSideLoader:l,renderVisualSearchModal:function(e){c("visualSearchModal.visualSearchUpdateSearchDataAndOpenModal",e)},hideVisualSearchModal:function(){c("visualSearchModal.visualSearchCloseModal")},renderSortMenuFilter:function(e){c("sortMenu.renderSortMenuFilter",e)},renderFaqSection:function(){c("details.renderFaqSection")},renderFreepikAssetSection:function(){c("details.renderFreepikAssetSection")},renderPostPurchaseModal:function(e){c("postPurchaseModal.showPostPurchaseModal",e)},hidePostPurchaseModal:function(){c("postPurchaseModal.closePostPurchaseModal")},ccxQAModalLoadingStart:c.bind(null,"ccxQA.ccxQAModalLoadingStart"),ccxQAModalLoadingEnd:c.bind(null,"ccxQA.ccxQAModalLoadingEnd"),renderProfileDropdown:function(e){c("navbar.renderProfileDropdown",e)},updateProfileDropdownEntitlements:function(e){c("navbar.updateProfileDropdownEntitlements",e)},userSignedIn:c.bind(null,"user.userSignedIn"),redownloadForFreeComplete:c.bind(null,"callToAction.redownloadForFreeDone"),redownloadForFreeError:c.bind(null,"callToAction.redownloadForFreeError"),enterpriseLicensingDone:c.bind(null,"callToAction.enterpriseLicensingDone"),renderNavbarMarketplaceWaffleLeftNav:function(e){c("navbar.renderNavbarMarketplaceWaffleLeftNav",e)},renderFollowToggleButton:function(e){c("followToggleButton.renderFollowToggleButton",parseInt(e,10))},renderDetailsFollowToggleButton:function(e){c("details.renderDetailsFollowToggleButton",e)},showEnterprisePlanDetailsModal:function(e){c("enterprisePlanDetailsModal.showEnterprisePlanDetailsModal",e)},loadBulkActionLicenseAgainModal:function(e){c("licenseAgainModal.loadLicenseAgainModal",e)},addAssetsAndOpenShoppingCart:function(e){c("stockShoppingCart.addAssetsAndOpenShoppingCart",e)},renderTransparentPngInfoModal:function(e){c("transparentPng.renderTransparentPngInfoModal",e)},openWelcomeScreenModal:function(e){c("welcomeScreenModal.openModal",e)},clearPreInitializationActionFIFOQueue:function(){r=[]},openShareSheet:function(e){c("shareSheet.openShareSheet",e)},openLibraryInvitationModal:function(e){c("libraryInvitationModal.showInvitationModal",e)},hideLibraryInvitationModal:function(){c("libraryInvitationModal.hideInvitationModal")},renderExtendImageModal:function(e){c("details.renderExtendImageModal",e)},renderGenerativeNullResults:function(e){c("nullResults.renderGenerativeNullResults",e)},hideExtendImageModal:function(){c("details.hideExtendImageModal")},renderBuyChoiceActionButtons:function(e){c("details.renderBuyChoiceActionButtons",e)}}}),define("app/utils/observer",["app/client","app/stock-portal","lodash"],function(e,t,n){"use strict";var a=e.getInstance();return{observe:function(e,t){var n=e(a.getState());return a.subscribe(function(){var i=e(a.getState());i!==n&&t(n=i)})},listen:function(e){var t=a.getState();return a.subscribe(function(){var n=a.getState();e(t,n),t=n})},listenForPortalStateChange:function(e){var n=t.getState();if(n)return t.subscribe(function(){var a=t.getState();e(n,a),n=a})},isEligibleForUniversalPlanUse:function(){return n.get(a.getState(),"member.stockProfile.is_eligible_for_universal_plan_use")}}}),define("app/ajax/search",["jquery","page_config","lib/ajax"],function(e,t,n){"use strict";function a(a){var i=e.Deferred(),s=e.extend(!0,{},a);return a.oa&&t.isSearchHelperRefactorEnabled?n.ajax({url:t.base_url+"/Ajax/Search/Post",type:"POST",data:JSON.stringify(s),dataType:"json",cache:!1,contentType:"application/json",processData:!1}).done(function(e){i.resolve(e)}).fail(function(e){i.reject(e)}):n.get(t.base_url+"/Ajax/Search",s,"json").done(function(e){i.resolve(e)}).fail(function(e){i.reject(e)}),i.promise()}var i={fetchPremiumSearchResults:function(e){return a(e)},fetchSearchFacets:function(t){var n=e.extend({},t,{get_facets_only:1});return i.fetchSearchResults(n)},fetchSearchResults:a,fetchQuerySuggestions:function(a){var i=e.Deferred(),s=JSON.stringify({filters:a.filters,k:a.k});return n.ajax({url:t.base_url+"/QuerySuggestion",type:"POST",data:s,dataType:"json",cache:!1,contentType:"application/json",processData:!1}).done(function(e){i.resolve(e)}).fail(function(e){i.reject(e)}),i.promise()}};return i}),define("app/utils/carousel",["app/client","page_config","app/constants/assetTypeFilters","app/constants/dunamis","app/constants/analytics","i18n"],function(e,t,n,a,i,s){"use strict";var r=e.getInstance();function o(){var e=r.getState().page.filter_asset_type;return t.isFreeEnabled&&t.isFreeBottomRailEnabled&&e===n.FREE}return{isFreeBottomRailActive:o,isPremiumBottomRailActiveInAll:function(){var e=r.getState().page.filter_asset_type;return t.hasCCTProOrCCEPro&&e===n.ALL},getBottomRailDunamisEventTypes:function(){return o()?{RESULTS_COUNT:a.FBR.RESULTS_COUNT,CAROUSEL:i.FREE_BOTTOM_RAIL.FREE_BR_CAROUSEL,VIEW_RESULTS:a.FBR.VIEW_RESULTS,ASSET_CLICK:a.FBR.ASSET_CLICK}:{RESULTS_COUNT:a.PBR.RESULTS_COUNT,CAROUSEL:i.PREMIUM_BOTTOM_RAIL.PREMIUM_CAROUSEL,VIEW_RESULTS:a.PBR.VIEW_RESULTS,ASSET_CLICK:a.PBR.ASSET_CLICK}},getBottomRailUpperLeftStrings:function(){return o()?{ASSET_TYPE:"HEADER::our other collections"}:{ASSET_TYPE:"HEADER::Premium"}}}}),define("components/carousel/actions/assetsActions",["jquery","app/constants/carousel","app/constants/searchFilters","app/actions/actionTypes","app/ajax/search","app/utils/carousel"],function(e,t,n,a,i,s){"use strict";return{clearAssets:function(){return{type:a.CLEAR_PREMIUM_IMAGES}},getAssets:function(){return function(t,n){var r=n(),o=e.extend({},r.filters,{limit:12,price:{$$:1,$$$:1},get_facets:0});s.isFreeBottomRailActive()&&(o.filters=e.extend({},o.filters,{free_collection:0}),o.price={},o.filters=e.extend({},o.filters,{is_fbr:1})),t({promise:i.fetchPremiumSearchResults(o),type:a.FETCH_PREMIUM_IMAGES})}},getItems:function(a,s,r,o,l,c){return function(u,d){var p,_={get_facets:0};return r!==t.EMPTY_TYPE&&r!==t.LONGTAIL_TYPE&&(_[n.KEYWORD]=d().filters[n.KEYWORD]),u(p={promise:i.fetchSearchResults(e.extend({},a,_)),carouselType:r,type:s,style:o,id:l,keyword:c}),p}}}}),define("lib/contentHelper",["lodash","i18n-config","lib/utils","app/client","page_config","lib/member","lib/contentDetails","lib/license"],function(e,t,n,a,i,s,r,o){"use strict";var l,c=a.getInstance();function u(t){return!(!i.isFreeVideoEnabled&&!h(t))&&(e.get(t,"is_video",!1)&&e.get(t,"is_free",!1))}function d(e){return!!e&&(!i.isAeAndPrTemplateMetadataEnabled||!p(e))}function p(e){return e.is_template&&("aet"===e.format||"prproj"===e.format)}function _(e,t){var n,a,i;if(e){for(i in n=e.selectedLicenseId,e.license_details)if(e.license_details.hasOwnProperty(i)&&e.license_details[i].is_default){a=parseInt(i),n||(e.selectedLicenseId=a);break}return a||(a=e.possible_licenses&&e.possible_licenses[0]),t?a:n||a}}function h(e){var t=e.content_id,n=r.isTemplate(t)||e.is_template,a=r.is3D(t)||e.is_3D;return f(e)&&!(n||a)}function f(e){var t=e.content_id,n=r.isFree(t)||e.is_free;return i.isFreeEnabled&&n}function E(t,a){var i,s,r=t.getState(),o=e.get(r,"content",{}),l=n.arrayFindByKeyValue(o,"content_id",a)||null;if(!l||!e.get(l,"premium_level",!1))return!1;for(s=Object.values(l.premium_level),i=0;i<s.length;++i)if("core"===s[i].split("|")[2])return!0;return!1}function m(e){var t=c.getState().content;return n.arrayFindByKeyValue(t,"content_id",e)||{}}return l={hasPurchasedALicense:function(t){var a,i=c.getState(),s=n.arrayFindByKeyValue(i.content,"content_id",t)||{},r=e.get(s,"license_details",{});for(a in r)if(r[a]&&r[a].downloaded)return!0;return!1},isFreeVideo:u,isVideoTemplate:p,shouldDisplayLicenseButton:function(t){var n=e.get(t,"is_free",!1)&&(e.get(t,"is_template",!1)||e.get(t,"is_3D",!1)||u(t)),a=f(t);return n||a},shouldShowSaveToLibraryButton:function(e){return!e||d(e)},shouldShowViewPreviewButton:function(e){var t=(e.is_template||e.is_3D)&&"mogrt"!==e.format;return i.isAeAndPrTemplateMetadataEnabled?t&&!p(e):t},getLicenseIdForContent:_,shouldDisplayBuyCTA:function(e,t){var a=c.getState(),i=n.arrayFindByKeyValue(a.content,"content_id",e)||{},r=l.getLicenseIdForContent(i,t),o=s.hasQuota(r,i,r),u=s.canLicenseWithUniversalPlanCredits(i),d=s.hasAvailableCreditPackQuota(i.content_id);return s.isDefaultEntitlementCCE(i.content_id)?function(e){var t=!1;if(s.hasEnterpriseCreditCardPurchaseEnabled(e.content_id)){var n={total_quota_available_by_license_type_id:s.getDefaultEntitlement(e.content_id).total_quota_available_by_license_type_id,is_organization_out_of_quota:e.org_model_data&&e.org_model_data.is_organization_out_of_quota};t=!(e.is_allowed_and_purchasable&&s.hasEnoughQuotaForPossibleAssetLicenses(e,n))}return t}(i):!(o||d||f(i)||u)},isFreeExperienceEnabled:h,shouldShowDownloadPreviewCTA:function(e,t){var n=e.content_id,a=r.isTemplate(n)||e.is_template,i=r.is3D(n)||e.is_3D;return!(t||a||i||e.deprecatedLicenseIdUsed||h(e))},shouldUseFreeCTACopy:f,isCore:E,getSEOMicrodataItemType:function(e){var t="https://schema.org/MediaObject";return e.is_image||e.is_illustrative||e.is_vector?t="https://schema.org/ImageObject":e.is_video?t="https://schema.org/VideoObject":e.is_template?t="https://schema.org/MediaObject":e.is_3D?t="https://schema.org/3DModel":e.is_audio&&(t="https://schema.org/AudioObject"),t},shouldDisplayFreeWithTrialPhoenix:function(e,t){var n=e.content_id,a=l.isCore(t,n),c=r.isVideo(n),u=l.isLicenseOverage(e,!0),d=s.isEligibleForTrial(u,n)&&!s.isAdmin(n),p=i.isFreeWithTrialPhoenixEnabled&&d,_=l.getLicenseIdForContent(e,!0),h=[o.LICENSE_ID_STANDARD];c&&i.isEligibleForUniversalPlanPurchase&&(h.push(o.LICENSE_ID_HD),i.isEligibleForFlattenedVideoPricing&&h.push(o.LICENSE_ID_4K));var f=h.includes(_);return(a||c)&&!1!==e.has_franklin_trial&&l.shouldDisplayBuyCTA(n)&&f&&(p||i.isFreeWithTrialEnabledUsLoggedOutOnly)},shouldDisplayCCTProDetailsCTA:function(t){var n=t&&t.content_id,a=E(c,n),i=_(t)===o.LICENSE_ID_ENHANCED,r=e.get(t,"is_standard",!1),l=1===e.get(t,"premium_level_id",!1);return s.hasCCTPro(n)&&(a||r&&l)&&i},isLicenseOverage:function(t,n){var a=l.getLicenseIdForContent(t,n),i=s.hasSubscription(),r=void 0!==e.get(s,'_stockProfile.default_entitlement.total_quota_available_by_license_id["'+a+'"]');return!(!i||!r)&&!s.hasQuota(a,t,a)},getAssetDetailsFromStore:m,isTransparent:function(t){var n=m(t);return e.get(n,"is_transparent",!1)},shouldSaveToLibrary:d,shouldDisplayAddToCartButton:function(t,n,a){if(!i.isAddToCartLabelForShoppingCartUsersEnabled)return!1;var s=m(n);if(!s||!Object.keys(s).length)return!1;var r=a||s.default_license_id,o=s.license_details&&s.license_details[r],l=t.getDefaultEntitlement(n),c=e.get(l,"requires_license_references",!1),u=e.get(l,"can_license_transfer",!1);return!!o&&"ENTERPRISE"===o.workflow&&(!!o.quota||c||u)},getLicenseButtonLabel:function(e,n,a){return this.shouldDisplayAddToCartButton(e,n,a)?t.gettext("HOVER::MENU::Add to cart"):t.gettext("HOVER::MENU::License")}}}),define("hbs!templates/search/recentSearches",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return"false"},3:function(e,t,n,a){return"true"},5:function(e,t,n,a){var i,s;return"                            <li\n"+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:a&&a.index,logic:"eq",value:(i=a&&a.root)&&i.selected},fn:this.program(6,a,0),inverse:this.program(8,a,0),data:a}))?i:"")+'                                data-keyword-index="'+this.escapeExpression("function"==typeof(s=null!=(s=t.index||a&&a.index)?s:t.helperMissing)?s.call(e,{name:"index",hash:{},data:a}):s)+'"\n                            >\n                                <a href="#" class="nav__link js-search-recent-item">\n                                    '+this.escapeExpression(this.lambda(e,e))+"\n                                </a>\n                            </li>\n"},6:function(e,t,n,a){return'                                    class="nav__item js-search-recent-item-selected"\n                                    data-active="true"\n'},8:function(e,t,n,a){return'                                    class="nav__item"\n'},10:function(e,t,n,a){return'                                class="nav__item js-search-recent-clear js-search-recent-item-selected"\n                                data-active="true"\n'},12:function(e,t,n,a){return'                                class="nav__item js-search-recent-clear"\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="container-full container-absolute to-the-left" data-is-hidden="'+(null!=(i=t.if.call(e,null!=e?e.show:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(3,a,0),data:a}))?i:"")+'">\n    <div class="padding-top-large">\n        <div class="container-relative">\n            <div class="menu container-absolute container-full">\n                <div class="text-regular">\n                    <ul class="js-search-recent-panel nav nav--tertiary nav--hover-white-smoke">\n                        <li class="nav__item nav__link grey dove-text text-sregular">\n                            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"SEARCH::NAV::Recent searches",{name:"_",hash:{},data:a}))+"\n                        </li>\n"+(null!=(i=t.each.call(e,null!=e?e.keywords:e,{name:"each",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+"\n                        <li\n"+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:null!=(i=null!=e?e.keywords:e)?i.length:i,logic:"eq",value:null!=e?e.selected:e},fn:this.program(10,a,0),inverse:this.program(12,a,0),data:a}))?i:"")+'                            data-keyword-index="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.keywords:e)?i.length:i,e))+'"\n                            data-action="clearAll"\n                        >\n                            <a href="#" class="nav__link">\n                                <span class="blue science-text text-sregular">\n                                    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"SEARCH::FILTERS::Clear all",{name:"_",hash:{},data:a}))+"\n                                </span>\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("app/utils/search",["jquery","lodash","page_config","app/stock-portal","app/client","app/constants/assetTypeFilters","app/constants/searchFilters","app/constants/analytics","app/utils/routes","components/carousel/actions/assetsActions","lib/window","lib/analytics","lib/analytics/dunamis","lib/analytics/utils","lib/utils","lib/member","lib/contentDetails","lib/contentHelper","hbs!templates/search/recentSearches","app/utils/carousel"],function(e,t,n,a,i,s,r,o,l,c,u,d,p,_,h,f,E,m,g,T){"use strict";var b=i.getInstance(),v="recent-searches-v1",I=5,S=".js-search-recent-container";function A(){try{return JSON.parse(localStorage.getItem(v))||[]}catch(e){O()}}function O(){var t,n=b.getState().view.recentSearches;localStorage.removeItem(v),t=A(),e(S).html(g({keywords:t,show:n}))}function y(){b.dispatch(c.clearAssets())}function C(e){return E.getSortedContentArray(t.get(e,"items",{})).map(function(e){return e.content_id})}var R={addRecentSearch:function(t){var n;"string"==typeof t&&(t=(t=t.trim()).replace(/\s+/g," ")),n=localStorage.getItem(v)||"[]",n=JSON.parse(n),t&&(-1!==e.inArray(t,n)?n.splice(n.indexOf(t),1):n.length>=I&&n.pop(),n.unshift(t),localStorage.setItem(v,JSON.stringify(n)))},clearPremiumBottomRail:y,clearRecentSearches:O,getAssetType:function(){return t.get(b.getState(),"page.filter_asset_type","")},getRecentSearches:A,idExistsInFindSimilar:function(e){var t=b.getState().filters,n=[];return t&&t[r.SIMILAR_CONTENT_ID]&&(n=t[r.SIMILAR_CONTENT_ID].toString().split(r.SIMILAR_CONTENT_ID_SEPARATOR)),-1!==n.indexOf(e.toString())},isNonFmfPage:function(){var e=!1,t=b.getState(),n=t.page,a=t.filters,i=n.filter_asset_type===s.VIDEOS,o=a[r.PRICE]&&a[r.PRICE][r.PRICE_CLIENT_HIGH],l=a[r.FILTERS]&&a[r.FILTERS][r.EDITORIAL]==r.EDITORIAL_ON;return a[r.COLLECTION]&&(i||o||l)&&(e=!0),e},isVideoAssetType:function(){return b.getState().page.filter_asset_type===s.VIDEOS},isFreeAssetType:function(){return b.getState().page.filter_asset_type===s.FREE},updatePremiumBottomRail:function(e){var t=b.getState(),n=t.filters,a=t.page.filter_asset_type,i=parseInt(e,10)||1,o=n[r.PRICE]&&n[r.PRICE][r.PRICE_CLIENT_LOW]&&!n[r.PRICE][r.PRICE_CLIENT_HIGH];return T.isFreeBottomRailActive()||T.isPremiumBottomRailActiveInAll()||a===s.IMAGES&&1===i&&o?(b.dispatch(c.getAssets()),!0):(y(),!1)},isContentId:function(e){return null!==e&&!isNaN(e)&&7===e.length},logSimilarAnalyticsDunamis:function(t,n){var a=e(".js-search-text-input"),i=p.constants,s={},r=a.val();s[i.EVENT_PARAMS.STOCK_SEARCH_KEYWORD]=r,s[i.VISUAL_SEARCH.FIND_SIMILAR_BY]=n||o.FSC_OPTIONS.FSC_OPTION_ALL,p.track(i.SEARCH_BEGIN,t,s,a)},handleClickSimilarAnalyticsDunamis:function(t,n,a){var i=e(".js-search-text-input"),s=p.constants,r={};r[s.VISUAL_SEARCH.FIND_SIMILAR_BY]=n||o.FSC_OPTIONS.FSC_OPTION_ALL,t==s.VISUAL_SEARCH.HOVER_FIND_SIMILAR?p.track(s.CLICK,t,r,a):p.track(s.CLICK,t,r,i)},handleDunamisSuccessTracking:function(n){var a,i,s=b.getState(),o=p.constants,l=e(".js-search-input"),c=t.get(s,"filters.k",""),u=t.get(s.search,"items",{}),d=!Object.keys(u).length,f=n||h.getQueryParam(o.SEARCH_TYPE)||o.SEARCH_RESULTS_SUCCESS,E=h.getQueryParam(r.FIND_SIMILAR_BY);d||f===o.CONTENT_ID||(i=R.getSearchResultsBreakdownforDunamis(),a=t.get(s,"search.suggestedKeywords",null),i[o.VISUAL_SEARCH.FIND_SIMILAR_BY]=E,i[o.EVENT_PARAMS.STOCK_SEARCH_KEYWORD]=c,i[o.EVENT_PARAMS.FILTERS]=t.get(s,"filters.filters"),i[o.EVENT_PARAMS.PAGE]=t.get(s,"pagination.page"),t.get(s,"search.ussInstrumentation")&&(i[o.EVENT_PARAMS.USS_INSTRUMENTATION]=t.get(s,"search.ussInstrumentation")),i[o.EVENT_PARAMS.SEARCH_CONTEXT_SEQUENCE]=_.generateUUID(),a&&(f=f===o.USERTYPED?o.AUTO_CORRECT:f,i[o.EVENT_PARAMS.SUGGESTED_KEYWORD]=a),R.isContentId(c)&&(f=o.CONTENT_ID),p.track(o.SEARCH_SUCCESS,f,i,l))},handleDunamisAssetDropdownChange:function(){var t=p.constants;p.track(t.SEARCH_BEGIN,t.ASSET_TYPE_CHANGE,{},e("body"))},getSortedContentIds:C,getSearchResultsBreakdownforDunamis:function(){var e,n=b.getState(),a=p.constants,i={},s=C(n.search),r=t.get(n,"pagination.total",0),o=(e={"3d":0,core_images:0,editorial_photos:0,editorial_videos:0,free:0,illustrations:0,photos:0,premium_3d:0,premium_photos:0,premium_template:0,template:0,vectors:0,video_4k:0,video_hd:0},s.forEach(function(t){E.isImage(t)?(m.isCore(b,t)&&e.core_images++,E.getContentTypeId(t)===f.CONTENT_TYPE_ID_PHOTO?(e.photos++,E.isEditorial(t)?e.editorial_photos++:E.isPremium(t)&&e.premium_photos++):E.getContentTypeId(t)===f.CONTENT_TYPE_ILLUSTRATION?e.illustrations++:E.getContentTypeId(t)===f.CONTENT_TYPE_VECTOR&&e.vectors++):E.isVideo(t)?(E.getLargestVideoSize(t)===E.HIGHRES_SIZE_VIDEO_4K?e.video_4k++:E.getLargestVideoSize(t)===E.HIGHRES_SIZE_VIDEO_HD&&e.video_hd++,E.isEditorial(t)&&e.editorial_videos++):E.isTemplate(t)?(e.template++,E.isPremium(t)&&e.premium_template++):E.is3D(t)&&(e["3d"]++,E.isPremium(t)&&e.premium_3d++),E.isFree(t)&&e.free++}),e);return i[a.EVENT_PARAMS.CONTENT_ID_LIST]=s,i[a.EVENT_PARAMS.RESULTS_COUNTS]=o,i[a.EVENT_PARAMS.TOTAL_SEARCH_RESULTS]=r,i},handleDunamisPaginationTracking:function(n,a){var i=p.constants,s={},r=b.getState(),o=t.get(r,"filters.k","");s[i.EVENT_PARAMS.PAGE]=n,s[i.EVENT_PARAMS.STOCK_SEARCH_KEYWORD]=o,p.track(i.CLICK,i.PAGINATION,s,e(a)),p.track(i.SEARCH_BEGIN,i.PAGINATION,s,e(a))},showSearchErrorAlert:function(){a.renderAlert({name:"SearchErrorAlert",alertBody:{id:"alert.alertBody.searchErrorAlert",defaultMessage:"We're experiencing some difficulties completing this search. Please try again in a few minutes."}})},showMoveToLibraryFailureAlert:function(e,t){var n={name:"MoveToLibraryFailureAlert",alertBody:{id:"libraries.toast.title.moveFailureText",defaultMessage:"Could not move asset into "+t},variant:"error",position:"sticky bottom",zIndex:"2"};a.renderAlert(n,!0)},showSaveToLibraryFailureAlert:function(e,t,n){var i={alertType:r.ALERT_LIBRARIES_ERROR,variant:"error",position:"sticky bottom",zIndex:"2",errorData:{status:n&&(n.status||n.response&&n.response.status),libName:t,action:"Save"}};a.renderAlert(i,!0)},resetFindSimilarFilters:function(e){return e[r.NATIVE_VISUAL_SEARCH]="",e[r.SIMILAR_CONTENT_ID]="",e[r.MODEL_ID]="",e[r.SERIE_ID]="",n.is_mobile||(e[r.FIND_SIMILAR_BY]=""),e},isVisualSearchActive:function(){var e=b.getState();return(t.get(e.filters,r.SIMILAR_CONTENT_ID,"").length||t.get(e.filters,r.NATIVE_VISUAL_SEARCH,"").length)>0},isPurchasableAsset:function(e){var t=b.getState().details,n=t.selected,a=!(!n||!t[n])&&!!t[n].is_purchasable;return E.isPurchasable(e)||a},removeAssetIdQueryParamFromUrl:function(){if(h.getQueryParam("asset_id")){var e=u.getLocation("href").split("?"),t=e[1]?e[1]:"",n=h.removeQueryParam(t,"asset_id"),a=e[0]+"?"+n;u.pushState({asset_id:null},a,a)}},updateAssetIdQueryParamToUrl:function(e){if(!isNaN(parseInt(e))&&e.toString()===parseInt(e).toString()&&h.getQueryParam("asset_id")!==e){var t=u.getLocation("href").split("?"),n=t[1]?t[1]:"",a=h.setQueryParam(n,"asset_id",e),i=t[0]+"?"+a;u.pushState({asset_id:e},i,i)}},handleQuerySuggestionsAsynchronous:function(t){var n=e(".js-search-text-input"),a=p.constants,i={};i[a.EVENT_PARAMS.QUERY_SUGGESTION_LIST]=t,p.track(a.VISUAL_SEARCH.IMPRESSIONS,a.QUERY_SUGGESTION,i,n)},RECENT_SEARCHES_KEY:v};return R}),define("lib/videoThumbnail",["jquery","lib/analytics/dunamis"],function(e,t){"use strict";var n=t.constants;function a(a,i){var s=n.VISIT,r=i,o={};o[n.EVENT_PARAMS.VIDEO_DURATION]=a.duration,o[n.EVENT_PARAMS.VIDEO_PLAY_TIME]=a.currentTime,t.track(s,r,o,e(a))}return{initVideoAnalyticEvents:function(){e(".js-video-thumb").on("play",function(e){a(e.currentTarget,n.HOVER_VIDEO_START)}).on("pause ended",function(e){a(e.currentTarget,n.HOVER_VIDEO_STOP)})}}}),define("app/actions/searchActions",["jquery","lodash","app/actions/actionTypes","app/ajax/search","app/constants/searchFilters","app/utils/search","lib/ajax","lib/utils","page_config","app/constants/assetTypeFilters","lib/videoThumbnail"],function(e,t,n,a,i,s,r,o,l,c,u){"use strict";var d=new Set(["en_us","ee","gr_en","lv","lt","hu","mt","ro","si","sk","fi","bg","au","nz","th","hk"]);function p(e){var t={};e[i.PRICE]&&(e[i.PRICE][i.PRICE_CLIENT_LOW]&&(t[i.PRICE_SERVER_LOW]=e[i.PRICE][i.PRICE_CLIENT_LOW]),e[i.PRICE][i.PRICE_CLIENT_HIGH]&&(t[i.PRICE_SERVER_HIGH]=e[i.PRICE][i.PRICE_CLIENT_HIGH],t[i.PRICE_SERVER_MEDIUM]=e[i.PRICE][i.PRICE_CLIENT_HIGH])),Object.keys(t).length&&(e[i.PRICE]=t)}function _(e){e[i.FILTERS]&&e[i.FILTERS][i.CONTENT_TYPE_PHOTO]&&(f(e,i.VIVID_COLOR,i.VIVID_COLOR_DEFAULT_SCORING)||f(e,i.DEPTH_OF_FIELD,i.DEPTH_OF_FIELD_DEFAULT_SCORING))&&(e[i.FILTERS][i.CONTENT_TYPE_ILLUSTRATION]=0,e[i.FILTERS][i.CONTENT_TYPE_VECTOR]=0),!e[i.FILTERS]||1!=e[i.FILTERS][i.CONTENT_TYPE_ILLUSTRATION]&&1!=e[i.FILTERS][i.CONTENT_TYPE_VECTOR]||(e[i.SCORING]=void 0)}function h(e){var n=t.get(e,"filters",{}),a=t.get(e,"page.filter_asset_type",null);return t.get(n.filters,i.COPY_SPACE,null)&&(a===c.ALL?(n.filters[i.CONTENT_TYPE_IMAGE]=1,n.filters[i.CONTENT_TYPE_VIDEO]=0,n.filters[i.CONTENT_TYPE_TEMPLATE]=0,n.filters[i.CONTENT_TYPE_3D]=0,n.filters[i.CONTENT_TYPE_PHOTO]=1,n.filters[i.CONTENT_TYPE_ILLUSTRATION]=0,n.filters[i.CONTENT_TYPE_VECTOR]=0):a===c.IMAGES&&(n.filters[i.CONTENT_TYPE_PHOTO]=1,n.filters[i.CONTENT_TYPE_ILLUSTRATION]=0,n.filters[i.CONTENT_TYPE_VECTOR]=0)),n}function f(e,t,n){return!!(e[i.SCORING]&&void 0!==e[i.SCORING][t]&&e[i.SCORING][t]!==n)}function E(n,a){var i,r=n.pagination,o=n.page.filter_asset_type,c=e.extend(!0,{},n.filters,h(n)),u="templates"===o,d="3d"===o,f=s.isVisualSearchActive()&&(u||d);return"get_facets"in(a=a||{})||(a.get_facets=t.get(n,"view.metadata.filtersPanel.isVisible",!1)?1:0),f&&(a=s.resetFindSimilarFilters(a)),p(c),i=e.param(e.extend({},c,a||{})),_(c),{pagination:r,assetType:o,searchParams:e.extend({},c,{limit:t.get(l,"search_params.limit")},a),urlQuery:i,filters:c}}function m(e,t){var n=t.filters,a=n[i.CONTENT_TYPE_ILLUSTRATION]||n[i.CONTENT_TYPE_PHOTO]||n[i.CONTENT_TYPE_VECTOR],s=t.k,r=!n.is_editorial,o=d.has(l.locale_code.toLowerCase()),c=e.page.filter_asset_type;return a&&s&&r&&o&&("all"==c||"images"==c)}function g(e){return function(t){o.isObject(t)&&t.result&&o.isObject(t.result.items)&&Object.keys(t.result.items).length>0&&!t.result.suggest_used&&s.addRecentSearch(e)}}return{getSearchResults:function(e,t,i){return function(r,o){var l=E(o(),t);i=i||!1,r({isHistoryNavigationSearch:e,newUrlQuery:l.urlQuery,promise:a.fetchSearchResults(l.searchParams),searchFilters:l.searchParams,searchPagination:l.pagination,type:n.GET_SEARCH_RESULTS,assetType:l.assetType,forceSearchRoute:i}).fail(function(e){500===e.error.status&&s.showSearchErrorAlert()}).then(g(l.filters.k)).then(function(){s.handleDunamisSuccessTracking(),u.initVideoAnalyticEvents()})}},hideRecentSearches:function(){return{type:n.HIDE_RECENT_SEARCHES}},processFilters:p,showRecentSearches:function(){return{type:n.SHOW_RECENT_SEARCHES}},getQuerySuggestionsResults:function(e,t){return function(i,r){var o=r(),l=E(o,t);m(o,l.searchParams)?i({isHistoryNavigationSearch:e,newUrlQuery:l.urlQuery,promise:a.fetchQuerySuggestions(l.searchParams),searchFilters:l.searchParams,searchPagination:l.pagination,assetType:l.assetType,type:n.GET_QUERY_SUGGESTIONS_RESULTS}).then(function(e){s.handleQuerySuggestionsAsynchronous(e.result)}):i({type:n.CLEAR_QUERY_SUGGESTIONS})}},getSearchDispatchData:E,shouldRequestQuerySuggestions:m,isAestheticFilterEnabled:f,processAestheticFilters:_,addRecentSearchCallback:g,setAssetTypeToPremium:function(){return{type:n.SET_ASSET_TYPE_TO_PREMIUM}},processCopySpaceFilter:h,updateAssetID:function(e){return{value:e,type:n.UPDATE_ASSET_ID}}}}),define("hbs!templates/search/thumbsPreview",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return null!=(i=t.each.call(e,null!=e?e.thumbs:e,{name:"each",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:""},2:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.thumbPreview,e,{name:"thumbPreview",hash:{src:null!=e?e.src:e,max_find_similar:(i=a&&a.root)&&i.max_find_similar,id:null!=e?e.id:e,alt:null!=e?e.alt:e},data:a,indent:"        ",helpers:t,partials:n}))?i:""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.thumbs:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:""},usePartial:!0,useData:!0})}),define("hbs!templates/search/thumbPreview",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return"js-show-tooltip-on-hover"},3:function(e,t,n,a){return"opacity-half"},5:function(e,t,n,a){return"inactive-"},7:function(e,t,n,a){return"transparent-overlay"},9:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.thumbPreviewInactiveTooltip,e,{name:"thumbPreviewInactiveTooltip",hash:{max_find_similar:null!=e?e.max_find_similar:e},data:a,indent:"    ",helpers:t,partials:n}))?i:""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="container-relative container-inline-block thumb-badge '+(null!=(i=t.if.call(e,null!=e?e.inactive:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'" data-t="thumb-badge">\n    <div class="'+(null!=(i=t.if.call(e,null!=e?e.inactive:e,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+'">\n        <div class="padding-left-small">\n            <span class="v-align margin-left-medium">\n                <a class="js-'+(null!=(i=t.if.call(e,null!=e?e.inactive:e,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+"thumb-badge-close container-inline-block no-font-size strong-white-overlay circle "+(null!=(i=t.if.call(e,null!=e?e.inactive:e,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:"")+'" data-id="'+this.escapeExpression("function"==typeof(s=null!=(s=t.id||(null!=e?e.id:e))?s:t.helperMissing)?s.call(e,{name:"id",hash:{},data:a}):s)+'">\n                    <span class="black-text">\n                        <i class="mti-icon icon-close"></i>\n                    </span>\n                </a>\n            </span>\n            <img alt="'+this.escapeExpression("function"==typeof(s=null!=(s=t.alt||(null!=e?e.alt:e))?s:t.helperMissing)?s.call(e,{name:"alt",hash:{},data:a}):s)+'" class="thumb-badge__image" src="'+this.escapeExpression("function"==typeof(s=null!=(s=t.src||(null!=e?e.src:e))?s:t.helperMissing)?s.call(e,{name:"src",hash:{},data:a}):s)+'"/>\n        </div>\n    </div>\n'+(null!=(i=t.if.call(e,null!=e?e.inactive:e,{name:"if",hash:{},fn:this.program(9,a,0),inverse:this.noop,data:a}))?i:"")+"</div>\n"},usePartial:!0,useData:!0})}),define("hbs!templates/search/thumbPreviewInactiveTooltip",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="container-absolute h-align js-inactive-tooltip" data-is-visible="false">\n    <div class="padding-top-large"></div>\n    <div class="menu container-relative">\n        <div class="menu__arrow menu__arrow--top menu__arrow--center"></div>\n        <div class="padding-left-large padding-right-large padding-top-small padding-bottom-small">\n            <p class="no-margin normal-whitespace thumb-badge__tooltip">\n                '+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"SEARCH::FIND_SIMILAR::TOOLTIP::We currently support a maximum of %s%s images%s for similarity search.",{name:"_",hash:{},data:a}),"<strong>",null!=e?e.max_find_similar:e,"</strong>",{name:"sprintf",hash:{},data:a}))?i:"")+"\n            </p>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("app/actions/filterActions",["jquery","page_config","app/actions/actionTypes","app/constants/assetTypeFilters","app/actions/searchActions","app/ajax/search","app/constants/searchFilters","app/utils/searchData"],function(e,t,n,a,i,s,r,o){"use strict";function l(e){var t=e&&e[r.FILTERS];t&&(t[r.VIDEO_IS_ALL]?(t[r.VIDEO_IS_4K]=0,t[r.VIDEO_IS_ALL]=void 0):t[r.VIDEO_IS_4K]&&(t[r.VIDEO_IS_4K]=1))}function c(e){var t={};switch(e){case r.ILLUSTRATIVE_INCLUDE:t[r.ILLUSTRATIVE]=r.ILLUSTRATIVE_INCLUDE;break;case r.ILLUSTRATIVE_EXCLUDE:t[r.ILLUSTRATIVE]=r.ILLUSTRATIVE_EXCLUDE;break;case r.ILLUSTRATIVE_ALL:t[r.ILLUSTRATIVE]=r.ILLUSTRATIVE_ALL}return{filters:t,type:n.UPDATE_ILLUSTRATIVE_FILTER}}function u(e){var t={};return t[r.CONTENT_TYPE_IMAGE]=1,t[r.CONTENT_TYPE_VIDEO]=o.shouldShowAssetTypesFilterVideo(e)?1:0,t[r.CONTENT_TYPE_3D]=o.shouldShowAssetTypesFilter3d(e)?1:0,t[r.CONTENT_TYPE_TEMPLATE]=o.shouldShowAssetTypesFilterTemplates(e)?1:0,e==r.EDITORIAL&&(t[r.EDITORIAL]=1),t}return{clearAssetTypeBreadcrumb:function(e){return{filters:u(e),type:n.CLEAR_ASSET_TYPE_BREADCRUMB}},clearBreadcrumbFilter:function(e,t){return{filter:{key:e,value:t},type:n.CLEAR_BREADCRUMB_FILTER}},clearSearchFilters:function(e){return{data:e||{},type:n.CLEAR_SEARCH_FILTERS}},closeFiltersPanel:function(){return{type:n.CLOSE_FILTERS_PANEL}},openFiltersPanel:function(){return function(t,a){var r,o=a();r=e.extend({},o.filters),i.processFilters(r),i.processAestheticFilters(r),t({promise:s.fetchSearchFacets(r),type:n.OPEN_FILTERS_PANEL})}},updateAssetTypeFilter:function(e,t){var a={},i=e[r.CONTENT_TYPE_ALL],s=e[r.CONTENT_TYPE_IMAGE],o=e[r.CONTENT_TYPE_VIDEO],l=e[r.CONTENT_TYPE_3D],c=e[r.CONTENT_TYPE_TEMPLATE];return a[r.CONTENT_TYPE_IMAGE]=0,a[r.CONTENT_TYPE_VIDEO]=0,a[r.CONTENT_TYPE_3D]=0,a[r.CONTENT_TYPE_TEMPLATE]=0,s?a[r.CONTENT_TYPE_IMAGE]=1:o?a[r.CONTENT_TYPE_VIDEO]=1:l?a[r.CONTENT_TYPE_3D]=1:c?a[r.CONTENT_TYPE_TEMPLATE]=1:i&&(a=u(t)),{filters:a,all:i,type:n.UPDATE_ASSET_TYPE_FILTER}},toggleCopySpaceFilter:function(e){return{value:e[r.COPY_SPACE_ALL]?r.COPY_SPACE_ALL:"",type:n.UPDATE_COPY_SPACE_FILTER}},updateCopySpaceFilterType:function(e){var t=e[r.COPY_SPACE_MANUFACTURED],a=e[r.COPY_SPACE_NATURAL];return{value:a&&t?r.COPY_SPACE_ALL:t?r.COPY_SPACE_MANUFACTURED:a?r.COPY_SPACE_NATURAL:"",type:n.UPDATE_COPY_SPACE_FILTER}},updateDurationFilter:function(e,t){return{min:void 0!==e?e:r.VIDEO_DURATION_DEFAULT_MIN,max:void 0!==t?t:r.VIDEO_DURATION_DEFAULT_MAX,type:n.UPDATE_DURATION_FILTER}},updateEthnicityFilter:function(e){return{ethnicity:e,type:n.UPDATE_ETHNICITY_FILTER}},updateImageSubcategoryFilter:function(t,i){var s=e.extend({},t);return i!==a.IMAGES&&(s[r.CONTENT_TYPE_IMAGE]=1,s[r.CONTENT_TYPE_VIDEO]=0,s[r.CONTENT_TYPE_TEMPLATE]=0,s[r.CONTENT_TYPE_3D]=0),{filters:s,type:n.UPDATE_IMAGE_SUBCATEGORY_FILTER}},updateFrameRateFilter:function(e,t){return{frameRates:e,areAllSelected:t,type:n.UPDATE_FRAME_RATE_FILTER}},updateGentechFilter:function(e){var t={};switch(e){case r.GENTECH_ONLY:t[r.GENTECH]=r.GENTECH_ONLY;break;case r.GENTECH_EXCLUDE:t[r.GENTECH]=r.GENTECH_EXCLUDE;break;case r.GENTECH_ALL:t[r.GENTECH]=r.GENTECH_ALL}return{filters:t,type:n.UPDATE_GENTECH_FILTER}},updateIconMapping:function(e,t){var a={};return 1===e&&(a[r.ICON_SINGLE]=r.ICON_ONLY),1===t&&(a[r.ICON_SHEET]=r.ICON_ONLY),{filters:a,type:n.UPDATE_ICON_FILTER}},updateMimeTypeFilter:function(e){return{mimeType:e,type:n.UPDATE_MIME_TYPE_FILTER}},updateShotSizeFilter:function(e){return{shotSize:e,type:n.UPDATE_SHOT_SIZE_FILTER}},updateShotAngleFilter:function(e){return{shotAngle:e,type:n.UPDATE_SHOT_ANGLE_FILTER}},updateSearchFilters:function(t){return function(t){var n=t&&t[r.PRICE],a={};n&&(n[r.PRICE_CLIENT_HIGH]?(n[r.PRICE_CLIENT_HIGH]=1,n[r.PRICE_CLIENT_LOW]=0):n[r.PRICE_CLIENT_LOW]?(n[r.PRICE_CLIENT_HIGH]=0,n[r.PRICE_CLIENT_LOW]=1):n[r.PRICE_CLIENT_ALL]&&(n[r.PRICE_CLIENT_HIGH]=0,n[r.PRICE_CLIENT_LOW]=0,n[r.PRICE_CLIENT_ALL]=0),a[r.PRICE_SERVER_LOW]=n[r.PRICE_CLIENT_LOW],a[r.PRICE_SERVER_MEDIUM]=n[r.PRICE_CLIENT_HIGH],a[r.PRICE_SERVER_HIGH]=n[r.PRICE_CLIENT_HIGH],t[r.PRICE]=e.extend({},n,a))}(t),l(t),function(e){var t=e&&e[r.FILTERS];t&&(t[r.RELEASES_ALL]?(t[r.INCLUDE_PEOPLE]=1,t[r.EXCLUDE_PEOPLE]=1,t[r.RELEASES_ALL]=0):t[r.EXCLUDE_PEOPLE]?(t[r.INCLUDE_PEOPLE]=0,t[r.EXCLUDE_PEOPLE]=1):t[r.INCLUDE_PEOPLE]&&(t[r.INCLUDE_PEOPLE]=1,t[r.EXCLUDE_PEOPLE]=0))}(t),function(e){e&&e[r.CATEGORY]===r.CATEGORIES_ALL&&(e[r.CATEGORY]="")}(t),c(t),{filters:t||{},type:n.UPDATE_SEARCH_FILTERS}},updateSizeFilter:function(e,t,a,i){var s={type:n.UPDATE_SIZE_FILTER,value:{}};return e===r.SIZE_PIXELS?(s[r.SIZE]=r.SIZE_PIXELS,t&&(s.value[r.SIZE_PIXELS_WIDTH_MIN]=t),a&&(s.value[r.SIZE_PIXELS_HEIGHT_MIN]=a)):e===r.SIZE_MEGA_PIXELS&&(s[r.SIZE]=r.SIZE_MEGA_PIXELS,i&&(s.value[r.SIZE_MEGA_PIXELS_MIN]=i)),s},updateVideoSubcategory:l,updateIsolatedMapping:function(e){var t={};return 1===e&&(t[r.ISOLATED]=r.ISOLATED_ONLY),{filters:t,type:n.UPDATE_ISOLATED_FILTER}},updateUndiscoveredMapping:function(e){var t={};return 1===e&&(t[r.UNDISCOVERED]=r.UNDISCOVERED_ONLY),{filters:t,type:n.UPDATE_UNDISCOVERED_FILTER}},updateLocalArtistsMapping:function(e){var t={};return 1===e&&(t[r.LOCAL_ARTISTS]=r.LOCAL_ARTISTS_ONLY),{filters:t,type:n.UPDATE_LOCAL_ARTISTS_FILTER}},updateLoopingMapping:function(e){var t={};return 1===e&&(t[r.IS_LOOP]=r.IS_LOOP_ONLY),{filters:t,type:n.UPDATE_IS_LOOP_FILTER}},updateIllustrativeMapping:c,updateBackgroundMapping:function(e,t){var a={};return 1===e&&(a[r.ISOLATED]=r.ISOLATED_ONLY),1===t&&(a[r.TRANSPARENT]=r.TRANSPARENT_ONLY),{filters:a,type:n.UPDATE_BACKGROUND_FILTER}},updateUsageCategoryFilter:function(e,t){return{usageCategories:e,areAllSelected:t,type:n.UPDATE_USAGE_CATEGORY_FILTER}}}}),define("app/actions/multiImageActions",["jquery","page_config","app/actions/actionTypes","app/constants/searchFilters","app/constants/assetTypeFilters","lodash","app/utils/searchData"],function(e,t,n,a,i,s,r){"use strict";return{multiImageAdd:function(e,i,s){return function(o,l){var c=l().filters;return i=i||{},(s=s||{})[a.NATIVE_VISUAL_SEARCH]?(s[a.SIMILAR_CONTENT_ID]="",i[a.NATIVE_VISUAL_SEARCH]=s[a.NATIVE_VISUAL_SEARCH]):s[a.SIMILAR_CONTENT_ID]=e,s[a.FIND_SIMILAR_BY]=s[a.FIND_SIMILAR_BY]||"all",i[a.FIND_SIMILAR_BY]=s[a.FIND_SIMILAR_BY]||"all",!t.is_mobile&&r.isAestheticFilterSet(c)&&delete c.scoring,o({contentId:Number(e),multiImage:i,searchFilters:s||{},type:n.MULTI_IMAGE_ADD,isVideo:!!i&&i.isVideo,allFilters:c})}},multiImageRemove:function(e){return function(t,a){return t({contentId:e,type:n.MULTI_IMAGE_REMOVE})}},multiImageUpload:function(e,s,r){var o={type:n.MULTI_IMAGE_UPLOAD,src:e};if(!t.is_mobile){switch(r){case i.ALL:case i.PREMIUM:s[a.CONTENT_TYPE_IMAGE]=1,s[a.CONTENT_TYPE_PHOTO]=1,s[a.CONTENT_TYPE_ILLUSTRATION]=0,s[a.CONTENT_TYPE_VECTOR]=0,s[a.CONTENT_TYPE_VIDEO]=0,s[a.CONTENT_TYPE_TEMPLATE]=0,s[a.CONTENT_TYPE_3D]=0;break;case i.EDITORIAL:s[a.CONTENT_TYPE_IMAGE]=1,s[a.CONTENT_TYPE_VIDEO]=0;break;case i.IMAGES:s[a.CONTENT_TYPE_PHOTO]=1,s[a.CONTENT_TYPE_ILLUSTRATION]=0,s[a.CONTENT_TYPE_VECTOR]=0}o.filters=s,o.filter_asset_type=r}return o},updateFindSimilarBy:function(e,t){return{type:n.UPDATE_FIND_SIMILAR_BY,id:e,findSimilarBy:t}},getNewSimilarIds:function(e,t){var n,i="",s=[];return e&&((n=t.toString())&&(s=n.split(a.SIMILAR_CONTENT_ID_SEPARATOR)),s.length>=a.MAX_FIND_SIMILAR_IMAGES&&s.shift(),s.push(e),i=s.join(a.SIMILAR_CONTENT_ID_SEPARATOR)),{similarContentId:i}}}}),define("app/actions/historyActions",["jquery","page_config","app/constants/searchFilters","app/actions/actionTypes","lib/utils","lodash"],function(e,t,n,a,i,s){"use strict";function r(e){var t=e&&e[n.PRICE];t&&(t[n.PRICE_SERVER_HIGH]&&(t[n.PRICE_CLIENT_HIGH]=1),t[n.PRICE_SERVER_LOW]&&(t[n.PRICE_CLIENT_LOW]=1))}return{navigateSearchHistory:function(){return function(t,n){var s=window.location,o=0===s.search.indexOf("?")?s.search.substr(1):s.search,l=n().history.paramHistory[o]||{},c=e.extend({},l),u=c.pagination,d=c.filters,p=c.assetType,_=c.title,h=c.url;r(d),t({pastKeyword:d?d.k:i.getQueryParam("k"),previousAssetType:p,previousFilters:d,previousPagination:u,previousTitle:_,previousUrl:h,shouldSkipUrl:!0,type:a.NAVIGATE_SEARCH_HISTORY})}},undoAction:function(){return function(t,n){var o,l,c,u,d,p,_=n(),h=s.get(_,"history.paramHistory",null);Object.keys(h).length>1&&(o=h[Object.keys(h).slice(-2,-1)[0]],l=(h=e.extend({},o)).pagination,c=h.filters,u=h.assetType,d=h.title,p=h.url),r(c),t({type:a.ALERT_UNDO_ACTION,pastKeyword:c?c.k:i.getQueryParam("k"),previousAssetType:u,previousFilters:c,previousPagination:l,previousTitle:d,previousUrl:p,shouldSkipUrl:!1})}}}}),define("lib/licenseHistory/uiEvents",["vendor/backbone-events-standalone"],function(e){"use strict";return e.mixin({TAB_CHANGED:"license_history_tab_changed",UI_IS_LOADING:"license_history_ui_loading",SEARCH_BEGIN:"license_history_search_begin"})}),define("components/search/searchHelper",["jquery","lodash","page_config","i18n-config","app/client","app/actions/searchActions","app/utils/search","app/utils/routes","app/utils/searchData","lib/utils","lib/contentDetails","lib/window","hbs!templates/search/thumbsPreview","hbs!templates/search/thumbPreview","hbs!templates/search/thumbPreviewInactiveTooltip","app/constants/searchFilters","app/actions/filterActions","app/actions/multiImageActions","lib/analytics","lib/analytics/dunamis","app/stock-portal","app/actions/historyActions","app/constants/analytics","app/constants/assetTypeFilters","lib/licenseHistory/uiEvents"],function(e,t,n,a,i,s,r,o,l,c,u,d,p,_,h,f,E,m,g,T,b,v,I,S,A){"use strict";var O,y=".js-thumbs-container",C=i.getInstance();function R(){b.closeAlert()}var L=function(e,t,a){var i,r=C.getState().pagination,o=t||{};O.closeAlertHandler(),o.search_page=o.search_page?o.search_page:r.page,i=s.getSearchResults(e,o,a),n.isQISAsyncEnabled&&C.dispatch(s.getQuerySuggestionsResults(e,o,a)),C.dispatch(i),c.scrollToTop()};function N(){e(y).html("")}function D(){return C.getState().filters[f.SIMILAR_CONTENT_ID]||""}function P(e){var t=o.getSearchRoute(e);return void 0===t&&(t="/search"),n.base_url+t}function w(){var e=C.getState(),n="templates"===t.get(e,"page.filter_asset_type",""),a=1===l.getEnabledAssetContentTypeFilters(e).length&&!!t.get(e,"filters.filters.content_type:template",!1);return n||a}function M(){var e=C.getState(),n="3d"===t.get(e,"page.filter_asset_type",""),a=1===l.getEnabledAssetContentTypeFilters(e).length&&!!t.get(e,"filters.filters.content_type:3d",!1);return n||a}function k(e){var n=C.getState(),a=t.get(e,"is_video",!1)||t.get(e,"isVideo",!1),i="videos"===t.get(n,"page.filter_asset_type",""),s=1===l.getEnabledAssetContentTypeFilters(n).length&&!!t.get(n,"filters.filters.content_type:video",!1);return a||i||s}return O={thumbPreviewSelector:y,performSearch:L,togglePreviewThumbs:function(t,n){var s,r,o,l="",u=[],d=i.getInstance().getState(),E=d.view.multiImage,m=[],g=[];if(t){for(r=(u=t.toString().split(f.SIMILAR_CONTENT_ID_SEPARATOR)).length-1;r>=0;r--)s=Number(u[r]),(l=c.getValueFromArrayById(E.metadata,"contentId",s))&&(m.push({alt:l.title,id:s,src:l.thumbnail}),n?b.renderFindSimilarControlsPanel():(o=k(l),g={similarContentId:t,imgUrl:l.content_url,imgThumbnailUrl:l.thumbnail_240,hideComposition:o,findSimilarBy:l.findSimilarBy||d.filters.find_similar_by,isTransparent:!!l.is_transparent,imgSrcWebp:l.thumbnail_url_webp},b.renderFindSimilarControlsPanel(g)));e(y).html(p({max_find_similar:a.gettext("SEARCH::FIND_SIMILAR::TOOLTIP::MAX_IMAGES::two"),thumbs:m},{partials:{thumbPreview:_,thumbPreviewInactiveTooltip:h}}))}else N()},removePreviewThumb:N,getSimilarContentId:D,performActionAndSearch:function(e,t,n,a){t=t||!1,n=n||{},C.dispatch(e),L(t,n,a)},getCollectionId:function(){return C.getState().filters[f.COLLECTION]},getMultiImageMetadata:function(e){var a={thumbnail:e.content_thumb_url||t.get(e,"src",""),thumbnail_240:e.thumbnail_url||t.get(e,"src",""),title:e.title||"",content_url:e.content_url,contentId:e.content_id};return n.is_mobile||(a.isVideo=e.is_video),a},showIncompatibleFiltersAlert:function(){b.renderAlert({name:"IncompatibleFiltersAlert",alertType:"undo",alertBody:{id:"alert.alertBody.fscIncompatibleFiltersApplied",defaultMessage:"Some filters you selected are unavailable when performing a Find Similar or Visual Search and have been removed."}})},idExistsInSimilarContent:function(e){if(!e)return!1;var t=e.toString();return(O.getSimilarContentId().toString().split(f.SIMILAR_CONTENT_ID_SEPARATOR)||[]).indexOf(t)>-1},clearFilters:function(e){var n=C.getState();O.performActionAndSearch(E.clearSearchFilters({filter_asset_type:t.get(n,"page.filter_asset_type",""),similar_content_id:t.get(n,"filters.similar_content_id",""),native_visual_search:t.get(n,"filters.native_visual_search",""),serie_id:t.get(n,"filters.serie_id",""),model_id:t.get(n,"filters.model_id","")}),!1,e)},handleFindSimilarCloseClick:function(t){var n=e(t.currentTarget).data("id").toString(),a={},i=C.getState().filters[f.NATIVE_VISUAL_SEARCH],s={},r=T.constants,o=document.querySelector('input[name="fsc-options-'+n+'"]:checked'),l=o?o.value:"",c=r.VISUAL_SEARCH.CLOSE_VISUAL_SEARCH_TILE;localStorage.getItem(f.FSC_IMAGE)&&localStorage.removeItem(f.FSC_IMAGE),i===n?a[f.NATIVE_VISUAL_SEARCH]="":(C.dispatch(m.multiImageRemove(n)),a[f.SIMILAR_CONTENT_ID]=D()),a[f.FIND_SIMILAR_BY]="",l&&(s[r.VISUAL_SEARCH.FIND_SIMILAR_BY]=l,a[r.SEARCH_TYPE]=c,T.track(r.CLICK,c,s,e("body")),T.track(r.SEARCH_BEGIN,c,s,e("body"))),O.performSearch(!1,a)},renderFindSimilarControlsOnKeywordChange:function(e){var n=f.FILTERS+"."+f.KEYWORD,a=C.getState(),i=t.get(a,n);!t.isEqual(i,e)&&l.isFindSimilarControlsSearch(a)&&b.renderFindSimilarControlsPanel()},undoClickHandler:function(){O.performActionAndSearch(v.undoAction(),!1,{search_page:c.getQueryParam("search_page")}),R()},closeAlertHandler:R,getSelectedContentData:function(e){var t=C.getState(),n=t.details&&t.details.selected;return n&&n===e?t.details[n]:u.getContentData(e)},shouldHideFscComposition:k,shouldRemoveFSCTile:function(){return w()||M()},getPreviousUrl:function(){var n,a,i=C.getState(),s=null,r=t.get(i,"history.paramHistory",null);return r&&Object.keys(r).length>1&&(n=r[a=Object.keys(r).slice(-2,-1)[0]],s=(r=e.extend({},n)).url+"?"+a),s},resetSeeMoreSeriesFilters:function(e){return e[f.SIMILAR_CONTENT_ID]="",e[f.SERIE_ID]="",e},resetSeeMoreModelFilters:function(e){return e[f.SIMILAR_CONTENT_ID]="",e[f.MODEL_ID]="",e},showIncompatibleFSCCompositionAlert:function(){var e={name:"IncompatibleFSCCompositionAlert",alertType:f.ALERT_ACTION_UNDO,alertBody:{id:"alert.alertBody.fscIncompatibleCompositionApplied",defaultMessage:"Find Similar Composition is unavailable when searching for Video assets and has been removed."}};b.renderAlert(e)},isFSCCompositionOptionSelected:function(){return(t.get(C.getState().filters,f.FIND_SIMILAR_BY,"").length?t.get(C.getState().filters,f.FIND_SIMILAR_BY):I.FSC_OPTIONS.FSC_OPTION_ALL)===I.FSC_OPTIONS.FSC_OPTION_COMPOSITION},isFSCIncompatible3DSet:M,isFSCIncompatibleTemplateSet:w,showIncompatible3DAssetAlert:function(e){var t={name:"IncompatibleAssetAlert",alertType:e,alertBody:{id:"alert.alertBody.fscIncompatibleAsset3DApplied",defaultMessage:"Find Similar is unavailable when searching for 3D assets. To search with this image, please select a different content type."}};b.renderAlert(t)},showIncompatibleTemplatesAssetAlert:function(e){var t={name:"IncompatibleAssetAlert",alertType:e,alertBody:{id:"alert.alertBody.fscIncompatibleAssetTemplatesApplied",defaultMessage:"Find Similar is unavailable when searching for Template assets. To search with this image, please select a different content type."}};b.renderAlert(t)},getSearchUrlForAssetType:P,getSearchUrlWithQueryParams:function(e){var t=e.assetType,n=e.keywords,a=P(t);return O.validateKeyword(n)&&(a=encodeURI(a+"?k="+n)),a},getActiveSearchPill:function(e){return e[f.COLLECTION]?"collections":e[f.SERIE_ID]?"series":e[f.AUTHOR]?"portfolio":e[f.MODEL_ID]?"model":null},getVisualSearchModalData:function(){var e=C.getState(),a={items:{},details:{selected:null},filters:{filters:{"content_type:photo":0,"content_type:illustration":0,"content_type:zip_vector":0,"content_type:video":0,"content_type:template":0,"content_type:3d":0,"content_type:image":0,is_editorial:0,include_stock_enterprise:0},k:"",similar_content_id:null},page:{filter_asset_type:"",isUsingAjax:!1,isMultiImageFSCEnabled:!1}};return a.items=u.getContentDataDic()||{},a.filters.filters["content_type:photo"]=t.get(e,"filters.filters.content_type:photo",0),a.filters.filters["content_type:illustration"]=t.get(e,"filters.filters.content_type:illustration",0),a.filters.filters["content_type:zip_vector"]=t.get(e,"filters.filters.content_type:zip_vector",0),a.filters.filters["content_type:video"]=t.get(e,"filters.filters.content_type:video",0),a.filters.filters["content_type:template"]=t.get(e,"filters.filters.content_type:template",0),a.filters.filters["content_type:3d"]=t.get(e,"filters.filters.content_type:3d",0),a.filters.filters["content_type:image"]=t.get(e,"filters.filters.content_type:image",0),a.filters.filters.is_editorial=t.get(e,"filters.filters.is_editorial",0),a.filters.filters.include_stock_enterprise=t.get(e,"filters.filters.include_stock_enterprise",0),a.filters.k=t.get(e,"filters.k",""),a.filters.similar_content_id=t.get(e,"filters.similar_content_id",null),a.page.filter_asset_type=t.get(e,"page.filter_asset_type",""),a.page.isUsingAjax=t.get(n,"isUsingAjax",!1),a.page.isMultiImageFSCEnabled=t.get(n,"isMultiImageFSCEnabled",!1),a.details=t.get(e,"details",{selected:null}),a},isInLicenseHistoryContext:function(e){return e.match(/^\/Member\/LicenseHistory/)},validateKeyword:function(e){return!(e&&e.length>1024)},isMoreFromSeriesVector:function(e){var n=C.getState();return t.get(n,["details",e,"is_vector"],!1)},shouldUpdateAssetTypeFacets:function(e){var t=!1;return e.facets&&e.facets.asset_type&&(t=!0),t},trackDisplayedSrpViewLinks:function(){var t,n=C.getState(),a=n.search,i=n.page.filter_asset_type,s=a.facets&&a.facets.asset_type?a.facets.asset_type:{},r=s&&s.video?s.video:0,o=T.constants;r>0&&(t=o.ASSET_TYPE_LINK_VIDEO),t&&i===S.ALL&&T.track(o.VISUAL_SEARCH.IMPRESSIONS,t,{},e("body"))},shouldSearchInLicenseHistory:function(){var e=d.getLocation("pathname");return(e.includes("/Member/LicenseHistory")||e.includes("/Member/EnterpriseReport"))&&n.isLicenseHistorySearchUIEnabled},performSearchInLicenseHistory:function(e){A.trigger(A.SEARCH_BEGIN,e)}}}),define("hbs!templates/detailPanel/vectorDownloadSettings",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'    <div class="'+(null!=(i=t.if.call(e,null!=e?e.shouldRenderMobileAssetDetailsBelowTitle:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.program(4,a,0),data:a}))?i:"")+' container-table">\n        <div class="container-table-row">\n            <div class="text-small grey dove-text">\n                <span data-t="vector-download-choice-text">\n'+(null!=(i=t.if.call(e,null!=e?e.isLicensed:e,{name:"if",hash:{},fn:this.program(6,a,0),inverse:this.program(11,a,0),data:a}))?i:"")+(null!=(i=t.unless.call(e,null!=e?e.vectorDownloadChoice:e,{name:"unless",hash:{},fn:this.program(16,a,0),inverse:this.noop,data:a}))?i:"")+'                </span>\n                <span class="grey bon-jour-text margin-left-xsmall">|</span>\n                <button class="js-vector-download-settings-button" data-t="vector-download-settings-button" data-ingest-clicktype="vector-download-settings">\n                    <i class="mti-icon icon-settings"></i>\n                    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"DETAIL::PANEL::BUTTON::Settings",{name:"_",hash:{},data:a}))+"\n                </button>\n            </div>\n        </div>\n    </div>\n\n"+(null!=(i=t.if.call(e,null!=e?e.shouldShowVectorDownloadSettingsModal:e,{name:"if",hash:{},fn:this.program(18,a,0),inverse:this.noop,data:a}))?i:"")},2:function(e,t,n,a){return"details-margin-bottom-medium"},4:function(e,t,n,a){return"margin-top-medium"},6:function(e,t,n,a){var i;return(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"vector",logic:"eq",value:null!=e?e.vectorDownloadChoice:e},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"jpeg",logic:"eq",value:null!=e?e.vectorDownloadChoice:e},fn:this.program(9,a,0),inverse:this.noop,data:a}))?i:"")},7:function(e,t,n,a){return"                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"DETAIL::PANEL::Download File Type: Vector",{name:"_",hash:{},data:a}))+"\n"},9:function(e,t,n,a){return"                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"DETAIL::PANEL::Download File Type: JPEG",{name:"_",hash:{},data:a}))+"\n"},11:function(e,t,n,a){var i;return(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"vector",logic:"eq",value:null!=e?e.vectorDownloadChoice:e},fn:this.program(12,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"jpeg",logic:"eq",value:null!=e?e.vectorDownloadChoice:e},fn:this.program(14,a,0),inverse:this.noop,data:a}))?i:"")},12:function(e,t,n,a){return"                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"DETAIL::PANEL::License File Type: Vector",{name:"_",hash:{},data:a}))+"\n"},14:function(e,t,n,a){return"                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"DETAIL::PANEL::License File Type: JPEG",{name:"_",hash:{},data:a}))+"\n"},16:function(e,t,n,a){return"                        "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"DETAIL::PANEL::Vector and JPEG files included with both licenses",{name:"_",hash:{},data:a}))+"\n"},18:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["components/vectorDownloadSettingsModal"],e,{name:"components/vectorDownloadSettingsModal",data:a,indent:"        ",helpers:t,partials:n}))?i:""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=(t["if-all-true"]||e&&e["if-all-true"]||t.helperMissing).call(e,null!=e?e.isVectorJpegEnabled:e,null!=e?e.isVector:e,{name:"if-all-true",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:""},usePartial:!0,useData:!0})}),define("hbs!templates/components/vectorDownloadSettingsModal",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return'                                checked="checked"\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="mti-modal modal--with-header" data-t="vector-download-settings-modal">\n    <div class="modal__body text-sregular">\n        <i\n            class="modal__close mti-icon icon-close js-vector-download-close-button"\n            data-t="vector-download-settings-close-btn"\n            data-ingest-clicktype="vector-download-settings-modal-close"\n        ></i>\n        <div class="modal__header">\n            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::SETTINGS::Vector Download Settings",{name:"_",hash:{},data:a}))+'\n        </div>\n        <div class="modal__content grey heavy-metal-text left-align">\n            <div class="padding-medium">\n                <div class="margin-bottom-medium">\n                    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::SETTINGS::What file type do you want to download?",{name:"_",hash:{},data:a}))+'\n                </div>\n                <div class="margin-bottom-small">\n                    <label class="switch grey heavy-metal-text" data-ingest-clicktype="vector-download-settings-modal-always-vector">\n                        <input\n                            type="radio"\n                            name="vector_download_choice"\n                            data-t="vector-download-settings-vector-radio"\n                            class="js-vector-download-option"\n                            value="vector"\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"vector",logic:"eq",value:null!=e?e.vectorDownloadChoice:e},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+"                        />\n                        <strong>\n                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::SETTINGS::Always download vector file type",{name:"_",hash:{},data:a}))+'\n                        </strong>\n                    </label>\n                </div>\n                <div class="margin-bottom-small">\n                    <label class="switch grey heavy-metal-text" data-ingest-clicktype="vector-download-settings-modal-always-jpeg">\n                        <input\n                            type="radio"\n                            name="vector_download_choice"\n                            data-t="vector-download-settings-jpeg-radio"\n                            class="js-vector-download-option"\n                            value="jpeg"\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"jpeg",logic:"eq",value:null!=e?e.vectorDownloadChoice:e},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+"                        />\n                        <strong>\n                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::SETTINGS::Always download JPEG file type",{name:"_",hash:{},data:a}))+'\n                        </strong>\n                    </label>\n                </div>\n                <div>\n                    <label class="switch grey heavy-metal-text" data-ingest-clicktype="vector-download-settings-modal-always-ask">\n                        <input\n                            type="radio"\n                            name="vector_download_choice"\n                            data-t="vector-download-settings-always-ask-radio"\n                            class="js-vector-download-option"\n                            value=""\n'+(null!=(i=t.unless.call(e,null!=e?e.vectorDownloadChoice:e,{name:"unless",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+"                        />\n                        <strong>\n                            "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::SETTINGS::Ask me every time",{name:"_",hash:{},data:a}))+'\n                        </strong>\n                    </label>\n                    <div class="text-small padding-left-large">\n                        '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::SETTINGS::Whenever you download a licensed vector image, well ask you which file type youd like to download.",{name:"_",hash:{},data:a}))+'\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="modal__footer">\n            <button class="button button--dialog js-vector-download-save" data-t="vector-download-settings-save-btn" data-ingest-clicktype="vector-download-settings-modal-save">\n                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"VECTOR::DOWNLOAD::SETTINGS::Save",{name:"_",hash:{},data:a}))+"\n            </button>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("components/vectorDownloadSettings",["jquery","page_config","app/client","app/actions/detailsActions","app/constants/localStorage","app/utils/observer","lib/contentDetails","lib/utils","lib/analytics/dunamis","app/constants/dunamis","components/search/searchHelper","hbs!templates/detailPanel/vectorDownloadSettings","hbs!templates/components/vectorDownloadSettingsModal"],function(e,t,n,a,i,s,r,o,l,c,u,d,p){"use strict";var _=n.getInstance(),h="vector_download_choice",f="vector_download_choice_set_as_default",E=".js-vector-download-save",m=".js-vector-download-close-button",g=!1;function T(){return e('input[name="'+h+'"]:checked').val()}function b(e,t){var n=t.details.selected,a=e.page,i=t.page;return!!n&&(i.shouldShowVectorDownloadSettingsModal!==a.shouldShowVectorDownloadSettingsModal||i.vectorDownloadChoice!==a.vectorDownloadChoice)}function v(e){var t=window&&window.localStorage;t&&(e?t.setItem(i.VECTOR_DOWNLOAD_CHOICE_KEY,e):t.removeItem(i.VECTOR_DOWNLOAD_CHOICE_KEY)),_.dispatch(a.saveVectorDownloadPreference(e))}function I(){g||(e("body").on("click",E,function(){v(T())}).on("click",m,function(){_.dispatch(a.closeVectorDownloadSettings())}),g=!0)}return t.isVectorJpegEnabled&&(e(document).ready(I),s.listen(function(n,a){var i=a.details.selected,s=e(".js-vector-download-settings");if(s.length>0&&b(n,a)){var o,l,c,h,f=_.getState().page;l=f.shouldShowVectorDownloadSettingsModal,o=f.vectorDownloadChoice,c=r.isVector(i)||u.isMoreFromSeriesVector(i),h=r.isLicensed(i),s.html(d({isVector:c,isVectorJpegEnabled:t.isVectorJpegEnabled,vectorDownloadChoice:o,shouldShowVectorDownloadSettingsModal:l,shouldDisplayMobileAssetDetailsBelowTitle:t.is_mobile&&t.isMobileAssetDetailsBelowTitleEnabled,isLicensed:h},{partials:{"detailPanel/vectorDownloadSettings":d,"components/vectorDownloadSettingsModal":p}}))}})),{init:I,getVectorDownloadChoiceValue:T,isVectorDownloadChoiceSetAsDefaultChecked:function(){return e('input[name="'+f+'"]:checked').length},saveVectorDownloadChoice:v,shouldShowVectorDownloadChoiceModal:function(e,n){var a=window&&window.localStorage,s=r.isVector(e)||u.isMoreFromSeriesVector(e),l=a&&a.getItem(i.VECTOR_DOWNLOAD_CHOICE_KEY);return s&&o.isLicensedDownloadUrl(n)&&t.isVectorJpegEnabled&&!l},getVectorDownloadUrl:function(e,n){return t.isVectorJpegEnabled&&"jpeg"===e?n+"?format=jpeg":n},shouldRenderVectorDownloadSettings:b,trackVectorDownloadChoice:function(e,t,n){var a={};e&&t&&n&&(n=n.toLowerCase(),a[c.CONTENT_DOWNLOAD_FORMAT]="vector"===n?r.getContentFormat(t):n,l.track(c.CLICK,c.VECTOR_JPEG_DOWNLOAD_CHOICE,a,e))}}}),define("components/transparentPngDownloadSettings",["jquery","lodash","app/client","i18n-config","lib/contentDetails","lib/utils","lib/contentHelper","lib/analytics/dunamis","app/constants/dunamis","app/constants/mediaTypes"],function(e,t,n,a,i,s,r,o,l,c){"use strict";var u=n.getInstance(),d="transparent_png_download_choice",p="PNG",_="JPEG",h="SVG",f="AI/EPS",E={PNG:a.gettext("DETAIL::PANEL::TRANSPARENT_PNG_FILE_TYPE::PNG"),JPEG:a.gettext("DETAIL::PANEL::TRANSPARENT_PNG_FILE_TYPE::JPEG"),"AI/EPS":a.gettext("DETAIL::PANEL::TRANSPARENT_PNG_FILE_TYPE::AI/EPS"),SVG:a.gettext("DETAIL::PANEL::TRANSPARENT_PNG_FILE_TYPE::SVG")},m={PNG:c.PNG,JPEG:c.JPEG,"AI/EPS":c.ILLUSTRATOR,SVG:c.SVG};function g(){var e=u.getState();return t.get(e,"details.downloadAssetType",null)}return{getDownloadChoiceValue:function(){return e('input[name="'+d+'"]:checked').val()},getDownloadUrl:function(e,t){switch(e=e&&e.toLowerCase()){case"jpeg":case"png":return t+"?format="+e;default:return t}},shouldShowTransparentPngDownloadChoiceModal:function(e,t){var n=r.isTransparent(e),a=this.isInvokedFromDetailsPanel(e),i=s.isWatermarkedDownloadUrl(t);return n&&(s.isLicensedDownloadUrl(t)||i)&&!a},getDownloadChoiceValueFromStore:g,ASSET_TYPES:E,TRANSPARENT_ASSET_PNG:p,TRANSPARENT_ASSET_JPEG:_,TRANSPARENT_ASSET_SVG:h,TRANSPARENT_ASSET_AI_EPS:f,ASSET_TYPES_TO_MEDIA_TYPES_MAP:m,MEDIA_TYPES_TO_ASSET_TYPES:{"image/png":"PNG","image/jpeg":"JPEG","application/illustrator":"AI/EPS","image/svg+xml":"SVG"},getTransparentPngDownloadTypes:function(e){var t={};if(!e.is_transparent)return t;if(e.is_vector){var n=e.format.toUpperCase();t[n]=E[n]}return t.JPEG=E.JPEG,t.PNG=E.PNG,t},getTransparentThumbnailUrl:function(e,t,n){if(!t)return e;var a=g();return(a===p||!n&&null===a&&t)&&(e=e.replace(".jpg",".webp")),e},trackDownloadChoice:function(e,t,n){var a={};e&&t&&n&&(n=n.toLowerCase(),a[l.CONTENT_DOWNLOAD_FORMAT]="vector"===n?i.getContentFormat(t):n,o.track(l.CLICK,l.TRANSPARENT_PNG_DOWNLOAD_CHOICE,a,e))},isInvokedFromDetailsPanel:function(e){var n=u.getState().details,a=t.get(n,"selected",null);return!!a&&parseInt(a)===parseInt(e)},assetToTransparentAssetDownloadType:function(e){var t=null,n=e.downloadAssetType?e.downloadAssetType.toLowerCase():null;return"jpeg"==n?t=_:"png"==n?t=p:"ai/eps"==e.format?t=f:"svg"==e.format&&(t=h),t}}}),define("lib/organization",["i18n","i18n-config","lib/licenseType","viewHelpers/numberFormatI18n","page_config"],function(e,t,n,a,i){"use strict";var s="CONTENT_TYPE_DENIED_BY_ADMIN",r="WARN_CONTENT_TYPE_DENIED_BY_ADMIN",o="ENTERPRISE_OVERAGE_DISABLED_NO_LICENSES",l="OFFER_NOT_ENOUGH_IMAGES",c="OFFER_NOT_ENOUGH_CREDITS",u="OFFER_NOT_ENOUGH_PREMIUM_CREDITS",d="OFFER_ENTERPRISE_NO_IMAGES",p="OFFER_ENTERPRISE_NO_CREDITS",_="OFFER_SPECIALIST_NO_IMAGES",h="OFFER_SPECIALIST_NO_PREMIUM_CREDITS",f="ENTERPRISE_TRIAL_NO_LICENSES",E=3,m=1,g=2,T=3,b={OFFER_ENTERPRISE_NO_CREDITS:t.gettext("MODAL::PURCHASE::CREDIT::You cannot license this asset type with your image quota. Please contact your administrator to upgrade you current plan."),OFFER_SPECIALIST_NO_PREMIUM_CREDITS:t.gettext("MODAL::PURCHASE::CREDIT::You cannot license this asset type with your image quota. Please contact your administrator to upgrade you current plan."),OFFER_ENTERPRISE_NO_IMAGES:t.gettext("MODAL::PURCHASE::CREDIT::You cannot license this asset type with your credit quota. Please contact your administrator to add images to your account."),OFFER_NOT_ENOUGH_CREDITS:t.gettext("MODAL::PURCHASE::CREDIT::You don't have enough credits to license this asset. Please contact your administrator to add credits to your account."),OFFER_NOT_ENOUGH_IMAGES:t.gettext("MODAL::PURCHASE::CREDIT::You have reached your image quota. Please contact your administrator to increase your image allowance."),OFFER_NOT_ENOUGH_PREMIUM_CREDITS:t.gettext("MODAL::PURCHASE::CREDIT::You don't have enough Premium Credits to license this asset. Please contact your administrator to add more Premium Credits to your account."),OFFER_SPECIALIST_NO_IMAGES:t.gettext("MODAL::PURCHASE::CREDIT::You cannot license this type of asset with your premium credits quota. Please contact your administrator to upgrade your current plan"),CONTENT_TYPE_DENIED_BY_ADMIN:t.gettext("CONTENT::ERROR::You don't have the permission to license this type of asset. Please contact your administrator to extend your licensing rights."),ENTERPRISE_UPGRADE_ASSET:t.gettext("PURCHASE::ERROR::You cannot license this asset type with your current plan. Please contact your administrator to upgrade your plan."),WARN_CONTENT_TYPE_DENIED_BY_ADMIN:t.gettext("CONTENT::ERROR::Please note, this type of asset is not included in your current plan. Therefore you are unable to license this asset unless your administrator upgrades your licensing permissions."),ENTERPRISE_TRIAL_NO_LICENSES:t.gettext("PURCHASE::ERROR::Sorry, all the licenses included in your trial have been used by your enterprise."),ENTERPRISE_OVERAGE_DISABLED_NO_LICENSES:t.gettext("MODAL::PURCHASE::CREDIT::Sorry, your organization's quota has been reached. Please contact your administrator if you need to license more Stock assets."),ENTERPRISE_QUOTA_UNAVAILABLE:t.gettext("MODAL::PURCHASE::CREDIT::You cannot license this asset type with your current quota. Please contact your administrator to upgrade your current plan.")};function v(e){var t=m;return e.license_type_id===n.LICENSE_TYPE_ID_AGENCY_STANDARD_CREDITS||e.license_type_id===n.LICENSE_TYPE_ID_CREDITS_CORE?t=T:e.enterprise_offer.type===E&&(t=g),t}return{ERROR_KEY_CONTENT_TYPE_DENIED_BY_ADMIN:s,ERROR_KEY_WARN_CONTENT_TYPE_DENIED_BY_ADMIN:r,OFFER_ENTERPRISE_ID:1,OFFER_ENTERPRISE_PLUS_ID:2,OFFER_SPECIALIST_PLUS_ID:E,OFFER_PRICE_UNITS_TYPE_IMAGES:T,OFFER_PRICE_UNITS_TYPE_CREDITS:m,OFFER_PRICE_UNITS_TYPE_PREMIUM_CREDITS:g,ERROR_KEY_ENTERPRISE_UPGRADE_ASSET:"ENTERPRISE_UPGRADE_ASSET",ERROR_KEY_ENTERPRISE_QUOTA_UNAVAILABLE:"ENTERPRISE_QUOTA_UNAVAILABLE",ERROR_KEY_ENTERPRISE_TRIAL_NO_LICENSES:f,ERROR_KEY_ENTERPRISE_OVERAGE_DISABLED_NO_LICENSES:o,getOutOufQuotaErrorData:function(e,t){var n="ENTERPRISE_NO_LICENSES";return e.is_organization_out_of_quota?n=e.is_cce_trial?f:o:e.enterprise_offer&&(n=function(e){var t,n;return e.is_not_allowed_by_admin?s:(t=e.enterprise_offer.license_type_ids.indexOf(e.license_type_id)<0,(n=v(e))===T?t?e.enterprise_offer.type===E?_:d:l:n===g?t?h:u:t?p:c)}(e)),{reason:n}},getErrorMessageByKey:function(e){return b[e]},isOrganizationErrorKey:function(e){return e in b},getOrganizationErrorData:function(e){var t=this.getErrorMessageByKey(e),n={};return t&&(n.body=t,i.isPhoenixEnabled&&e===r&&(n.warning=!0)),n},getOfferPriceUnitsType:v,getOfferPriceUnitsWithLabel:function(n,i){return n===T?e.sprintf(t.ngettext("PRICING::SERVICE::CCE::%s Image","PRICING::SERVICE::CCE::%s Images",i),a.format(i)):n===g?e.sprintf(t.ngettext("PRICING::SERVICE::CCE::%s Premium Credit","PRICING::SERVICE::CCE::%s Premium Credits",i),a.format(i)):e.sprintf(t.ngettext("PRICING::SERVICE::CCE::%s Credit","PRICING::SERVICE::CCE::%s Credits",i),a.format(i))},getNotEnoughQuotaErrorKeyByQuotaType:function(e){var t;switch(e){case"images":t=l;break;case"premium_credits":t=u;break;default:t=c}return t}}}),define("lib/videoUtils",["jquery","lib/contentDetails","lib/member","lib/license","app/constants/searchFilters","lodash","page_config","lib/utils"],function(e,t,n,a,i,s,r,o){"use strict";return{showVideoType:function(){for(var a=t.getContentDataDic(),i=document.querySelectorAll(".js-search-result-cell"),s=0,r=i.length;s<r;s++){var o=e(i[s]),l=o.attr("data-content-id"),c=a[l].possible_licenses;if(a[l].is_video){var u=o.find(".video_4k");o.find(".video_hd").removeClass("hidden"),c.indexOf(4)>=0&&(!n.isDefaultEntitlementCCE()||n.hasCreditsModel()||n.hasAgencyModel()||n.hasEnterpriseCreditPackQuotaModel()||n.hasCCEProPlusBundle(l))&&u.removeClass("hidden")}}},showVideoFormatLicensed:function(t,n){var i=e(".js-search-result-cell[data-content-id="+t+"]"),s=i.find(".format .video_4k"),r=i.find(".format .video_hd");4===a.getLicenseIdByLicenseAbbr(n)?(s.removeClass("hidden"),r.addClass("hidden")):(s.addClass("hidden"),r.removeClass("hidden"))},showTabFormatLicensed:function(t,n){var i=e(".js-details[data-content_id="+t+"]").find(".ui-tabs"),s=a.getLicenseIdByLicenseAbbr(n);s&&(i.find(".nav__item").removeClass("active"),i.find(".nav__tab").removeClass("active"),i.find("[data-tab="+s+"]").addClass("active"))},applySourceCompatibility:function(){e(".js-source-compatibility-video").on({mouseover:function(t){var n=e(this);n.append(e("<source></source>").attr({src:n.attr("xsrc"),type:"video/mp4"})),n.off("mouseover")}})},isVideoFormat4K:function(e){return s.get(e,"is_video")&&Array.isArray(s.get(e,"possible_licenses"))&&e.possible_licenses.indexOf(a.LICENSE_ID_4K)>=0||!1},getVideoLicenseFilter:function(e){var t;switch(e){case i.VIDEO_IS_4K:case a.LICENSE_ID_4K:t=a.LICENSE_ID_4K;break;default:t=a.LICENSE_ID_HD}return t},getActiveVideoFilter:function(e,t){var n=e.getState(),a=r.isPhoenixEnabled,l=o.arrayToHashMap(s.get(n,"content",[]),"content_id");return t&&a?l[t].selectedLicenseId:s.get(n,"filters.filters."+i.VIDEO_IS_4K)?i.VIDEO_IS_4K:i.VIDEO_IS_ALL},setDataVideo:function(e,t){var n=!!e.possible_data_video&&e.possible_data_video[t];return n&&(e.content_original_width=n.video_width,e.content_original_height=n.video_height,e.video_content_length=n.video_content_length,e.video_bitrate_in_kbps=n.video_bitrate_in_kbps,e.video_content_type=n.video_content_type,e.video_codec=n.video_codec),e}}}),define("hbs!templates/toastNotifications",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="alert '+this.escapeExpression("function"==typeof(i=null!=(i=t.status_class||(null!=e?e.status_class:e))?i:t.helperMissing)?i.call(e,{name:"status_class",hash:{},data:a}):i)+'">\n    <i class="js-notification-close alert__close mti-icon icon-close"></i>\n    <i class="mti-icon icon-preview"></i>\n    <span>'+this.escapeExpression("function"==typeof(i=null!=(i=t.message||(null!=e?e.message:e))?i:t.helperMissing)?i.call(e,{name:"message",hash:{},data:a}):i)+"</span>\n</div>\n"},useData:!0})}),define("lib/toastNotifications",["jquery","hbs!templates/toastNotifications"],function(e,t){"use strict";var n=3e3,a="info",i=".js-inline-notification-wrapper";function s(s,r){var o,l=r.wrapper||e(i),c=r.status||a,u=r.hasOwnProperty("delay")?r.delay:n;0!==l.length&&(o=t({status_class:"alert--"+c,message:s}),l.html(o),l.attr("data-is-hidden","false"),l.find(".js-notification-close").click(function(){l.attr("data-is-hidden","true")}),u&&setTimeout(function(){l.attr("data-is-hidden","true")},u))}return{showSuccessMessage:function(t,n){s(t,e.extend(n,{status:"success"}))},showErrorMessage:function(t,n){s(t,e.extend(n,{status:"error"}))},showInfoMessage:function(t,n){s(t,e.extend(n,{status:"info"}))},showFixedBottomNotification:function(t,n){var a=(n=n||{}).wrapper||e(".js-fixed-bottom-notification");a.length||((a=e('<div class="js-fixed-bottom-notification container-fixed to-the-bottom maximum-in-front margin-bottom-medium" data-is-hidden="true"></div>')).css({left:"50%",transform:"translateX(-50%)"}),e("body").append(e('<div class="motmot"/>').append(a))),n.wrapper=a,s(t,n)}}}),define("hbs!templates/thumbnailLicensedBadge",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return" badge-truncate badge-truncate--licensed"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div\n    class="image-licensed-badge-v2 js-image-licensed-badge js-badge-with-tooltip'+(null!=(i=(t["if-or"]||e&&e["if-or"]||t.helperMissing).call(e,null!=e?e.isPremium:e,null!=e?e.isEditorial:e,null!=e?e.isIllustrative:e,{name:"if-or",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+' badge-with-tooltip badge-with-tooltip--v2"\n    data-t="license-badge-checkmark-section"\n>\n    <span data-t="license-badge-checkmark-text">\n        <div class="badge--icon">\n            <i class="icon-checkmark thumbnail-badge-icon" data-t="license-badge-checkmark-icon"></i>\n        </div>\n        <div class="badge--text js-badge-text">\n            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"LIBRARIES::STATE::Licensed",{name:"_",hash:{},data:a}))+'\n        </div>\n    </span>\n    <div class="js-tooltip-holder">\n'+(null!=(i=this.invokePartial(n.badgeTooltip,e,{name:"badgeTooltip",hash:{tooltip_data:null!=e?e.license_transfer_tooltip_data:e,dataT:"image-licensed-tooltip-container"},data:a,indent:"        ",helpers:t,partials:n}))?i:"")+'    </div>\n    <div class="tooltip-triangle js-tooltip-triangle"></div>\n</div>\n'},usePartial:!0,useData:!0})}),define("quickerCheckout/analytics/dunamis/dunamisUtils",["lodash","lib/analytics/dunamis"],function(e,t){"use strict";return{getDunamisSubtypeFromSocialProvider:function(e){var t;switch(e){case"facebook":t="sign-in-fb";break;case"google":t="sign-in-google";break;default:t="continue"}return t},trackWrapper:function(n,a,i,s,r){var o=t.constants,l=e.get(r,"finding_method"),c=e.get(r,"selection_method");l&&(i[o.PROPERTIES.CHECKOUT.FINDING_METHOD]=l),c&&(i[o.PROPERTIES.CHECKOUT.SELECTION_METHOD]=c),t.track(n,a,i,s)},getEventDataFromState:function(t){if(!e.isObject(t))throw Error("state must be an object");return{currency:e.get(t,"pricing.price.currency"),eventSubcategory:t.id,offerId:t.offering_id,orderId:t.order_id,orderNumber:t.order_number,productKey:t.product_key,promoType:e.get(t,"plan_information.promo_type"),pricingSubtotal:e.get(t,"pricing.template_text.subtotal"),pricingTax:e.get(t,"pricing.template_text.tax"),pricingTotal:e.get(t,"pricing.template_text.total")}}}}),define("quickerCheckout/analytics/dunamis/events/dunamisErrorEvent",["lib/analytics/dunamis","lodash","page_config","quickerCheckout/analytics/dunamis/dunamisUtils"],function(e,t,n,a){"use strict";return{send:function(n,i,s,r,o){var l,c;t.isObject(n)||(n={errorType:"TypeError",errorDesc:"eventData object was undefined"}),l=r||"error",i=i||"Not specified",s=s||"Not specified",(c={"event.error_code":n.errorCode,"event.error_type":n.errorType,"event.error_desc":n.errorDesc,"stk.case_code":n.errorCaseCode})[e.constants.EVENT_WORKFLOW_PROPERTY]=e.constants.STOCK_CHECKOUT,c[e.constants.EVENT_SUBCATEGORY_PROPERTY]=s,a.trackWrapper(l,i,c,null,o)},getEventDataFromErrorObject:function(e){return t.isObject(e)||(e={name:"TypeError",message:"errorObject was undefined"}),{errorCode:e.error_code||e.errorCode,errorType:e.name||e.error_type||e.errorType,errorDesc:e.message||e.error_message||e.errorMessage,errorCaseCode:e.case_code||e.caseCode||n.x_request_id}}}}),define("quickerCheckout/analytics/dunamis/dunamisCatchWrapper",["lodash","quickerCheckout/analytics/dunamis/events/dunamisErrorEvent"],function(e,t){"use strict";function n(e,n,a){t.send(t.getEventDataFromErrorObject(e),n,a)}return{execFunction:function(t,a,i){if(e.isFunction(t))try{t()}catch(e){n(e,a,i)}},defaultErrorHandler:n}}),define("app/utils/dunamis/dunamisAdminPurchaseFMF",["lib/analytics/dunamis","quickerCheckout/analytics/dunamis/dunamisCatchWrapper"],function(e,t){"use strict";return{send:function(n,a){t.execFunction(function(){var t={},i=e.constants,s=a?e.constants.CLICK:e.constants.VISIT;t[i.EVENT_WORKFLOW_PROPERTY]=i.STOCK_CHECKOUT,t[i.EVENT_SUBCATEGORY_PROPERTY]=i.ADMIN_CANNOT_PURCHASE_FMF,e.track(s,n,t)},"error-admin-purchase-fmf","admin-purchase-fmf-modal")}}}),define("lib/analytics/dunamisCustomEvent",["lib/analytics/dunamis","quickerCheckout/analytics/dunamis/dunamisCatchWrapper"],function(e,t){"use strict";return{sendDunamisPageView:function(n,a,i,s){t.execFunction(function(){var t=e.constants,i={},s=t.VISIT,r=t.PAGE_VIEW;i[t.EVENT_WORKFLOW_PROPERTY]=n,i[t.EVENT_SUBCATEGORY_PROPERTY]=a,e.track(s,r,i)},i,s)},sendDunamisPageLanding:function(n,a,i,s){t.execFunction(function(){var t={},i=e.constants;t[i.EVENT_WORKFLOW_PROPERTY]=n,t[i.EVENT_SUBCATEGORY_PROPERTY]=a,e.track(i.LANDING,i.PAGE_LANDING,t)},i,s)}}}),define("a11y/focus",[],function(){"use strict";var e;return{getLastFocusedElement:function(){return e},setLastFocusedElement:function(){e=document.activeElement},returnFocusToLastElement:function(){e&&e.focus()}}}),define("hbs!templates/motMotModal/message",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'            <div class="modal__header">\n                <div class="center-align">\n                <span class="grey dove-text">\n                    '+this.escapeExpression("function"==typeof(i=null!=(i=t.title||(null!=e?e.title:e))?i:t.helperMissing)?i.call(e,{name:"title",hash:{},data:a}):i)+"\n                </span>\n                </div>\n            </div>\n"},3:function(e,t,n,a){var i;return'                            <div class="grey dove-text text-up">\n                                '+this.escapeExpression("function"==typeof(i=null!=(i=t.messageHeader||(null!=e?e.messageHeader:e))?i:t.helperMissing)?i.call(e,{name:"messageHeader",hash:{},data:a}):i)+"\n                            </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div data-t="motmot-modal-message" class="mti-modal modal--large modal--with-header animated fade-in">\n    <div class="modal__body">\n        <i class="modal__close mti-icon icon-close js-motmot-modal-close"></i>\n'+(null!=(i=t.if.call(e,null!=e?e.title:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'\n        <div class="modal__content">\n            <div class="container-smedium-height-max overflow-y-scroll">\n                <div class="padding-xlarge">\n                    <div class="padding-large">\n'+(null!=(i=t.if.call(e,null!=e?e.messageHeader:e,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+'\n                        <div class="padding-top-medium">\n                            <span class="grey mountain-mist-text">\n                                '+this.escapeExpression("function"==typeof(s=null!=(s=t.message||(null!=e?e.message:e))?s:t.helperMissing)?s.call(e,{name:"message",hash:{},data:a}):s)+"\n                            </span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n"},useData:!0})}),define("hbs!templates/motMotModal/usingPartial",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return(null!=(i=t.if.call(e,null!=e?e.title:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:"")+'\n            <div class="modal__content">\n                <div class="js-motmot-modal-partial">\n'+(null!=(i=this.invokePartial(n.modalContent,e,{name:"modalContent",data:a,indent:"                    ",helpers:t,partials:n}))?i:"")+"                </div>\n            </div>\n\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.params:e)?i.footer:i,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.noop,data:a}))?i:"")+"\n"},2:function(e,t,n,a){var i;return'                <div class="modal__header">\n                    <div class="center-align">\n                        <span class="grey dove-text">\n                            '+this.escapeExpression("function"==typeof(i=null!=(i=t.title||(null!=e?e.title:e))?i:t.helperMissing)?i.call(e,{name:"title",hash:{},data:a}):i)+"\n                        </span>\n                    </div>\n                </div>\n"},4:function(e,t,n,a){var i;return'                <div class="modal__footer">\n'+(null!=(i=this.invokePartial(n.modalFooter,e,{name:"modalFooter",data:a,indent:"                    ",helpers:t,partials:n}))?i:"")+"                </div>\n"},6:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.modalContent,e,{name:"modalContent",data:a,indent:"            ",helpers:t,partials:n}))?i:""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="mti-modal modal--'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.params:e)?i.width:i,e))+' modal--with-header animated fade-in">\n    <div class="modal__body">\n        <button class="modal__close mti-large mti-icon icon-close js-motmot-modal-close" data-t="motmot-modal-close-button" aria-label="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"A11Y::FILTERS::PARTIALS::CLOSE_BUTTON::Close modal",{name:"_",hash:{},data:a}))+'"></button>\n'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.params:e)?i.usingDefault:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(6,a,0),data:a}))?i:"")+"    </div>\n</div>\n"},usePartial:!0,useData:!0})}),define("hbs!templates/motMotModal/partials/migrationV2UpgradeCandidate",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="container-smedium-height-max">\n    <div class="row grey heavy-metal-text">\n        <div class="row padding-top-large padding-bottom-large">\n            <i class="mti-icon mti-4x icon-coin6 grey silver-sand-text"></i>\n        </div>\n        <p class="text-medium font-thin margin-top-xsmall">\n            '+(null!=(i=(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"MODAL::MIGRATIONV2::Buy an Adobe Stock plan and %ssave 33%%%s in your first year.",{name:"_",hash:{},data:a}),"<strong>","</strong>",{name:"sprintf",hash:{},data:a}))?i:"")+'\n        </p>\n        <p class="text-medium font-thin">\n            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::MIGRATIONV2::Alternatively, purchase a credit pack to access and license all asset types.",{name:"_",hash:{},data:a}))+'\n        </p>\n        <div class="row padding-top-xlarge padding-bottom-medium">\n            <div class="v-align-wrapper ">\n                <div class="c-align">\n                    <a href="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.properties:e)?i.button_uri:i,e))+'" class="button button--action js-fotolia-transfer-overage-ok">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::BUTTON::View all pricing options  >",{name:"_",hash:{},data:a}))+'</a>\n                </div>\n            </div>\n        </div>\n        <div class="padding-top-medium"></div>\n    </div>\n</div>\n'},useData:!0})}),define("components/motMotModal",["jquery","i18n-config","a11y/focus","lib/utils","hbs!templates/motMotModal/message","hbs!templates/motMotModal/usingPartial","hbs!templates/motMotModal/partials/migrationV2UpgradeCandidate"],function(e,t,n,a,i,s,r){"use strict";var o=e("<div />",{class:"motmot"}),l=function(t){var n=e.Deferred(),i=e("body");o.html(t),i.append(o),e(".js-motmot-modal-close").focus(),o.on("click",".js-motmot-modal-close",function(){p(),n.resolve()});var s=document.querySelector(".modal__body"),r=s.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),l=r[0],c=r[r.length-1];return s.setAttribute("aria-hidden",!1),i.attr("aria-hidden",!0),o.on("keydown",".modal__body",function(e){a.keyboardTabbingHandler(e,l,c)}),n.promise()},c=function(t){var n,a={};if(t&&t.partial)return n={modalContent:t.partial},t.additionalPartials&&(n=e.extend(n,t.additionalPartials)),t.title&&(a.title=t.title),t.partialProperties&&(a.properties=t.partialProperties),a.params={footer:!1,usingDefault:!0,width:"large"},t.templateParams&&("undefined"!=t.templateParams.footer&&(a.params.footer=t.templateParams.footer),"undefined"!=t.templateParams.usingDefault&&(a.params.usingDefault=t.templateParams.usingDefault),t.templateParams.width&&(a.params.width=t.templateParams.width)),l(s(a,{partials:n}))},u=function(e,t){switch(n.setLastFocusedElement(),e){case"message":return this.showMessage(t);case"usingPartial":return c(t);case"usingTemplate":return d(t);default:throw new Error("Unregistered modal template: "+e)}},d=function(e){if(e&&e.template)return l(e.template(e.params))},p=function(){o.find(".modal__body").attr("aria-hidden",!0),e("body").attr("aria-hidden",!1),o.remove(),n.returnFocusToLastElement()};return{hide:p,registerEvent:function(e,t,n,a){a=a||"click";o.find(e).off(a).on(a,function(){t(n)})},show:u,showMessage:function(e){return l(i(e))},showUsingPartial:c,showUsingTemplate:d,MIGRATION_V2_UPGRADE_CANDIDATE:1,showModal:function(e){var n;if(1!==e)throw new Error("Unknown modal id : "+e);n={templateParams:{usingDefault:!0,width:"medium"},partial:r,title:t.gettext("MODAL::CREDIT::You don't have enough downloads available to license this asset."),partialProperties:{button_uri:"/Fotolia/Plans"}},u("usingPartial",n)}}}),define("lib/modal-window",["i18n","jquery","page_config","Handlebars","lib/window","i18n-config","hbs!templates/badgeTooltip","hbs!templates/thumbnailBadges","hbs!templates/thumbnailBadge","hbs!templates/modalWindow/message","hbs!templates/modalWindow/confirmation","hbs!templates/modalWindow/partials/t2eMigrationContent","hbs!templates/modalWindow/partials/t2eMigrationFooter","hbs!templates/modalWindow/partials/t2eMigrationLinkReminderContent","hbs!templates/modalWindow/partials/t2eMigrationLinkReminderFooter","hbs!templates/modalWindow/saveToDevice","hbs!templates/modalWindow/cceFreeLicenseAgreementModal","hbs!templates/modalWindow/cceMultipleChoices","hbs!templates/modalWindow/multipleChoices","hbs!templates/modalWindow/extended","hbs!templates/modalWindow/openInMessage","hbs!templates/templatePreview","hbs!templates/modalWindow/welcomeBack","hbs!templates/modalWindow/teamfmf","hbs!templates/components/bulkSelectionModal/tabsHeaderItem","hbs!templates/components/bulkSelectionModal/toolTipHintAdd","hbs!templates/components/bulkSelectionModal/toolTipHintRemove","hbs!templates/modalWindow/bulkLicenseRecordOptions","hbs!templates/modalWindow/licenseRecordDetailsFieldSet","hbs!templates/modalWindow/licenseRecordGroupAssets","hbs!templates/modalWindow/licensingDetailModal","hbs!templates/modalWindow/groupLicenseReferences","hbs!templates/modalWindow/numberFilesLicenseReferences","hbs!templates/modalWindow/licenseReferencesDetail","hbs!templates/modalWindow/fieldInputValidator","hbs!templates/modalWindow/licenseTypeDetail","hbs!templates/modalWindow/requiredPriceLabel","hbs!templates/modalWindow/fotoliaSubscription","hbs!templates/modalWindow/vectorDownloadChoice","hbs!templates/modalWindow/transparentPngDownloadChoice","hbs!templates/modalWindow/ccxQALicenseDialog","hbs!templates/videoSvgPicto","components/licenseTransferFieldSet","components/licenseReferencesFieldSet","components/vectorDownloadSettings","components/transparentPngDownloadSettings","lib/ajax","lib/license","lib/organization","lib/utils","lib/videoUtils","lib/licenseType","lib/toastNotifications","app/client","app/actions/detailsActions","hbs!templates/thumbnailLicensedBadge","app/utils/dunamis/dunamisAdminPurchaseFMF","lib/analytics/dunamis","lib/uiEvents","lib/analytics/dunamisCustomEvent","lib/cookie","components/motMotModal","a11y/focus"],function(e,t,n,a,i,s,r,o,l,c,u,d,p,_,h,f,E,m,g,T,b,v,I,S,A,O,y,C,R,L,N,D,P,w,M,k,x,F,U,H,j,Y,V,G,B,q,W,K,z,Q,Z,X,$,J,ee,te,ne,ae,ie,se,re,oe,le){"use strict";J.getInstance();var ce,ue=function(e){return void 0===e&&(e={}),void 0===e.confirm_button_label&&(e.confirm_button_label=s.gettext("MODAL::Delete")),pe("confirmation",e)},de=function(e,t){var n,a=[],i=Q.map3DIdsToTypes[e["3D_type_id"]];return e.is_3D&&e.light_type&&e.light_type.length&&(e.light_type.forEach(function(e){"IBL"===e.toUpperCase()&&a.push(s.gettext("FILE::LIGHT::TYPES::Image-based Lights"))}),e.light_types=a.join(", ")),e.is_video&&Z.setDataVideo(e,t.license_id),e.possible_data_premium&&(n=e.possible_data_premium[t.license_id])&&(e.content_original_width=n.image_width,e.content_original_height=n.image_height),e.is_just_purchased=t.is_just_purchased,{content:e,content_is_3D_type_lights:i===Q.threeDTypes.LIGHTS,content_is_3D_type_materials:i===Q.threeDTypes.MATERIALS,license_type_label:t.license_type_label}},pe=function(e,a){var W,z,Z,X,$,J=t.Deferred(),ee=t("body"),le=ae.constants,ue=t('<div style="display: none;"></div>'),de=function(){ue.remove(),ce=null,t(window).off("resize",_e),ee.removeClass("overflow-hidden")};switch(e){case"preview":oe.show("usingTemplate",{template:v,params:a}),ee.keydown(function(e){27==e.keyCode&&(oe.hide(),J.resolve())});break;case"message":!a||a.button_link&&a.button_link!=i.getPath()||(a.button_link=null),void 0===a.button_label&&(a.button_label=s.gettext("MODAL::OK")),ue.html(c({message:a})),a.dunamis&&se.sendDunamisPageView(a.dunamis.workflow,a.dunamis.subcategory,a.dunamis.errorName,a.dunamis.name),ue.find(".js-modal-window-dismiss-button").click(function(){ie.trigger(ie.DETAILS_PANEL.CLOSE),ue.remove(),J.resolve()});break;case"confirmation":void 0===a.cancel_button_label&&(a.cancel_button_label=s.gettext("MODAL::Cancel")),void 0===a.confirm_button_label&&(a.confirm_button_label=s.gettext("MODAL::OK")),ue.html(u({message:a})),ue.find(".js-modal-window-confirm-button").click(function(){a.extended_license&&!a.extended_license.is_video&&(a.content_type_id=a.extended_license.content_type_id,K.setDefaultLicenseId(a.extended_license.contentId,a)),Q.safelyExecuteFunction(a.confirmCallback),ue.remove(),J.resolve(),ne.send(le.SWITCH_PERSONAL_CONFIRM,!0)}),ue.find(".js-modal-window-cancel-button").click(function(){t("#select-licenses").prop("disabled",!1),ue.remove(),J.reject(),ne.send(le.SWITCH_PERSONAL_CANCEL,!0)});break;case"saveToDevice":if(!a.asset_link)throw new Error("No asset link was given");if(void 0===a.help_text&&(a.help_text=s.gettext("MODAL::Tap and hold the item below to save it to your device.")),"jpeg"===a.asset_format)a.display_image=!0;else a.display_image=!1,a.help_text=s.gettext("MODAL::Only photos can be saved to mobile devices. You can save to a library, then download on your computer.");ue.html(f({data:a})),ue.find(".js-modal-window-dismiss-button").click(function(){ue.remove(),J.resolve()});break;case"openInNoAcknowledgement":ue.html(b({base_url:n.base_url})),ue.find(".js-modal-window-dismiss-button").click(function(){ue.remove(),J.resolve()});break;case"multipleChoices":ue.html(g({message:a}));break;case"cceMultipleChoices":ue.html(m({data:a,licenseTermsEditorialLink:n.base_url+"/enterprise-conditions#editorialUse"}));break;case"extendedConfirmation":ue.html(T({message:a})),ue.find(".js-modal-window-cancel-button").click(function(){t("#select-licenses").prop("disabled",!1),ue.remove(),J.reject()});break;case"welcomeBack":ue.html(I({data:a})),ue.find(".js-modal-window-dismiss-button").click(function(){ue.remove(),J.resolve()});break;case"alreadyMigratedAccount":a.use_links=!0,ue.html(u({message:a})),se.sendDunamisPageView("fotolia-migration","error-account-already-migrated","account-already-migrated-error","account-already-migrated");break;case"fotoliaSubscription":ue.html(F({fotoliaSubscription:a})),ue.find(".js-hide-modal").click(function(){ue.remove(),J.resolve()}),ee.keydown(function(e){27==e.keyCode&&(ue.remove(),J.resolve())});break;case"teamfmf":a.button_link||(a.button_link="#"),a.button_label||(a.button_label=s.gettext("MODAL::OK")),ue.html(S({message:a})),ue.find(".js-modal-window-dismiss-button").click(function(){ue.remove(),J.resolve()}),ue.find(".js-modal-window-ok-button").click(function(){a.validation_needed?W.submit():(ue.remove(),J.resolve())}),W=ue.find('form[name="js-fmf-offer-phone"]'),z=W.find("#js-phone"),W.submit(function(e){var n,a=z.val().trim();Q.isValidPhoneNumber(a)?(n=t("<input />",{type:"hidden",name:"fmf",value:1}),W.append(n)):(z.attr("data-field-is-valid","false"),W.find("#js-checkout-user-facing-errors").attr("data-state","shown"),e.preventDefault(),e.stopPropagation())});break;case"licensingDetailModal":ue.html(N({content:a.content,required_quota:a.required_quota,content_is_3D_type_materials:a.content_is_3D_type_materials,content_is_3D_type_lights:a.content_is_3D_type_lights,mandatory_license_references:a.mandatory_license_references,optional_license_references:a.optional_license_references,is_update_context:a.is_update_context,saved_license_references:a.saved_license_references,modal_title:a.modal_title,license_type_label:a.license_type_label,display_license_references:a.display_license_references,display_license_transfer:a.display_license_transfer,button_label:a.button_label,displayLicenseBadge:a.displayLicenseBadge,displayLicenseTransferBadge:a.displayLicenseTransferBadge,licenseTransfers:a.licenseTransfers},{partials:{badgeTooltip:r,thumbnailBadges:o,thumbnailBadge:l,"modalWindow/licenseReferencesDetail":w,"modalWindow/fieldInputValidator":M,"modalWindow/licenseTypeDetail":k,"modalWindow/requiredPriceLabel":x,"modalWindow/licenseTransferFieldSet":V.template,"modalWindow/licenseReferencesFieldSet":G.template,videoSvgPicto:Y,thumbnailLicensedBadge:te}})),t("body").addClass("overflow-hidden"),ue.find(".js-hide-modal").click(function(){de(),J.reject()}),a.display_license_references&&(X=new G.init(ue)),a.display_license_transfer&&(Z=new V.init(ue,a.disableLicenseTransferCheckbox)),(W=ue.find('form[name="js-licensing-form"]')).submit(function(e){var t=!0,n={};e.preventDefault(),e.stopPropagation(),a.display_license_references&&(t=X.valid(),n.license_references=X.data()),a.display_license_transfer&&(t=!!t&&Z.valid(),n.license_transfer=Z.data()),t&&(de(),J.resolve(n))});break;case"groupLicenseReferences":ue.html(D({content:a.content,mandatory_license_references:!t.isEmptyObject(a.mandatory_license_references)&&a.mandatory_license_references,optional_license_references:!t.isEmptyObject(a.optional_license_references)&&a.optional_license_references,number_selected:a.number_selected},{partials:{"modalWindow/fieldInputValidator":M,"modalWindow/licenseReferencesFieldSet":G.template,"modalWindow/numberFilesLicenseReferences":P}})),t("body").addClass("overflow-hidden"),ue.find(".js-hide-modal").click(function(){ue.remove(),t("body").removeClass("overflow-hidden"),J.reject()}),X=new G.init(ue),(W=ue.find('form[name="js-group-license-references"]')).submit(function(e){e.preventDefault(),e.stopPropagation(),X.valid()&&(ue.remove(),t("body").removeClass("overflow-hidden"),J.resolve(X.data()))});break;case"licenseRecordOptions":$=C,!1,ue.html($(a,{partials:{"components/bulkSelectionModal/tabsHeaderItem":A,"modalWindow/numberFilesLicenseReferences":P,"modalWindow/licenseRecordDetailsFieldSet":R,"modalWindow/licenseRecordGroupAssets":L,"modalWindow/fieldInputValidator":M}})),ee.addClass("overflow-hidden"),ue.find(".js-hide-modal").click(function(){de(),J.reject()});var he=ue.find(".js-modal-details-row"),fe=!1;ue.find(".js-expand-record-details").click(function(){fe?he.hide(250):he.show(250),fe=!fe,t(this).toggleClass("is_active")}),ue.find(".js-modal-asset-toggle-remove").click(function(){var e=t(this),n=ue.find(".js-modal-nb-assets"),i=ue.find(".js-license-reference-group-by"),s=e.attr("data-rel");a.assets[s].is_removed=!a.assets[s].is_removed,a.assets[s].is_removed?(ue.find(".js-modal-tr-"+s).addClass("is-removed"),e.attr("data-t","add-back-to-selection-button")):(ue.find(".js-modal-tr-"+s).removeClass("is-removed"),e.attr("data-t","remove-from-selection-button"));var r=Object.keys(a.assets).reduce(function(e,t){return e+(a.assets[t].is_removed?0:1)},0),o=ue.find(".js-modal-button-license");r<1?(o.prop("disabled",!0),o.addClass("pointer-events-none")):o.hasClass("pointer-events-none")&&(o.prop("disabled",!1),o.removeClass("pointer-events-none")),n.html(P({number_selected:r})),i.html(L({groups:Object.keys(a.assets).reduce(function(e,t){var n=a.assets[t]||{};return!n.is_removed&&n.license_references.forEach(function(t){e[t.id]||(e[t.id]=t.label)}),e},{}),grouped_by_option:i.find(":selected").val()||0}))}),ue.on("mouseover",".js-modal-asset-toggle-remove",function(){var e=t(this),n=e.attr("data-rel"),i=ue.find(".js-modal-bulk-selection-tooltip");i.html(a.assets[n].is_removed?O:y),!0;var s=e.positionRelativeTo(".js-modal-bulk-content-wrapper");i.removeClass("tooltip--top tooltip--secondary tooltip--bottom tooltip--error tooltip--primary"),i.addClass("tooltip--primary tooltip--top"),i.css({top:s.top-10,left:s.left+8}).attr("data-is-hidden",!1)}),ue.on("mouseout",".js-modal-icon-alert, .js-modal-asset-toggle-remove, .js-modal-asset-request-info-status",function(){!1,ue.find(".js-modal-bulk-selection-tooltip").attr("data-is-hidden",!0)}),(W=ue.find('form[name="js-license-record-options"]')).focus(),W.submit(function(e){if(e.preventDefault(),e.stopPropagation(),t("#licenseRecordName").val()){var n=W.serializeArray();t.isPlainObject(a.assets)&&!t.isEmptyObject(a.assets)&&(ue.find(".js-modal-button-license").attr("disabled",!0).attr("data-is-loading",!0),n.push({name:"assets",value:Object.keys(a.assets).reduce(function(e,t){return a.assets[t].is_removed||e.push(t),e},[])})),J.resolve(n,ue,de)}});break;case"vectorDownloadChoice":var Ee=".js-vector-download-choice-download-btn",me={};ue.html(U(a)),me[le.EVENT_WORKFLOW_PROPERTY]=le.STOCK_SEARCH,me[le.EVENT_SUBCATEGORY_PROPERTY]=le.VECTOR_JPEG_DOWNLOAD_CHOICE_MODAL,ae.track(le.VISIT,le.PAGE_VIEW,me),ue.find(Ee).click(function(){var e=B.getVectorDownloadChoiceValue();B.isVectorDownloadChoiceSetAsDefaultChecked()&&B.saveVectorDownloadChoice(e),B.trackVectorDownloadChoice(t(Ee),a.contentId,e),ue.remove(),J.resolve(e)}),ue.find(".js-vector-download-choice-close-button").click(function(){ue.remove(),J.reject()});break;case"transparentPngDownloadChoice":Ee=".js-transparent-png-download-choice-download-btn",me={};oe.showUsingTemplate({template:H,params:a}),me[le.EVENT_WORKFLOW_PROPERTY]=le.STOCK_SEARCH,me[le.EVENT_SUBCATEGORY_PROPERTY]=le.TRANSPARENT_PNG_DOWNLOAD_CHOICE_MODAL,ae.track(le.VISIT,le.PAGE_VIEW,me),t(".js-transparent-png-download-choice-modal-close").focus(),oe.registerEvent(Ee,function(){var e=q.getDownloadChoiceValue();q.trackDownloadChoice(t(Ee),a.contentId,e),oe.hide(),J.resolve(e)}),oe.registerEvent(".js-transparent-png-download-choice-modal-close",function(){oe.hide(),J.reject()}),ee.keydown(function(e){27==e.keyCode&&(oe.hide(),J.reject())});break;case"ccxQALicenseDialog":me={};oe.showUsingTemplate({template:j}),me[le.EVENT_WORKFLOW_PROPERTY]=le.STOCK_SEARCH,me[le.EVENT_SUBCATEGORY_PROPERTY]=le.CCX_QA_LICENSE_DIALOG,ae.track(le.VISIT,le.PAGE_VIEW,me),t(".js-ccxqa-license-modal-close").focus(),oe.registerEvent(".js-ccxqa-license-modal-close",function(){oe.hide(),J.reject()}),oe.registerEvent(".js-ccxqa-license-btn",function(){oe.hide(),J.resolve()}),ee.keydown(function(e){27==e.keyCode&&(oe.hide(),J.reject())});break;case"additionalLicensingDisabled":void 0===a.cancel_button_label&&(a.cancel_button_label=s.gettext("MODAL::Cancel")),void 0===a.confirm_button_label&&(a.confirm_button_label=s.gettext("MODAL::Download")),ue.html(u({message:a})),ue.find(".js-modal-window-confirm-button").click(function(){ue.remove(),J.resolve()}),ue.find(".js-modal-window-cancel-button").click(function(){ue.remove(),J.reject()});break;case"t2eMigration":var ge=function(){re(a.migration_modal_cookie,!0,{expires:180})},Te={templateParams:{usingDefault:!0,width:"medium",footer:!0},partial:d,title:a.title,partialProperties:{data:a},additionalPartials:{modalFooter:p}};oe.show("usingPartial",Te),t(".js-motmot-modal-close").click(function(){ge(),ue.remove(),pe("t2eMigrationLinkReminder",{}),J.resolve()}),t("#modal-window-start-migration").click(function(){ge(),ue.remove(),i.setLocation(n.base_url+"/migration")});break;case"t2eMigrationLinkReminder":Te={templateParams:{usingDefault:!0,width:"medium",footer:!0},partial:_,title:s.gettext("MIGRATION::In case you change your mind"),partialProperties:{data:{t2e_migration_url:n.base_url+"/migration"}},additionalPartials:{modalFooter:h}};oe.show("usingPartial",Te),t("#js-t2e-modal-lin-reminder-continue").click(function(){ue.remove(),J.resolve()});break;case"cceFreeLicenseAgreementModal":ue.html(E(a)),ue.find(".js-modal-window-dismiss-button").click(function(){J.reject(),de()}),ue.find(".js-modal-window-license-button").click(function(){J.resolve(a.assetData),de()});break;default:throw new Error("Unregistered message template: "+e)}return ee.append(ue),ue.show(),a.modalWithStickyFooter&&((ce=ue.find(".mti-modal")).on("scroll",_e),t(window).on("resize",_e),setTimeout(_e,250)),ee.find(".modal-window-canvas").removeClass("grey").first().addClass("grey"),J.promise()};function _e(){var e=ce.find(".modal__body"),n=ce.find(".modal__footer"),a=e[0].getBoundingClientRect(),i=Math.ceil(t(window).height()-a.height-a.top);e.css("padding-bottom",n.outerHeight()),n.css({transform:"translateY("+(i<0?i:0)+"px)",transition:"all .15s ease"})}return{show:pe,showSuccessfulPlanPurchaseMessage:function(e){return void 0===e&&(e={}),void 0===e.subject&&(e.subject=s.gettext("CHECKOUT::You're Ready to Go!")),void 0===e.body&&(e.body=s.gettext("CHECKOUT::You now have access to a growing collection of millions of assets, conveniently integrated into Adobe Illustrator CC, Adobe InDesign CC, Adobe Photoshop CC, Adobe After Effects CC and Adobe Premiere Pro CC.")),void 0===e.button_label&&(e.button_label=s.gettext("PLANS::OK")),void 0===e.button_link&&(e.button_link="#"),pe("message",e)},showDeleteConfirmation:ue,showLibraryDeleteConfirmation:function(t){return(t=t.trim()).length>45&&(t=t.substring(0,42)+"..."),ue({subject:e.sprintf(s.gettext('MODAL::Delete "%s"'),t),question:e.sprintf(s.gettext('MODAL::Are you sure you want to delete "%s"?'),t),notes:s.gettext("MODAL::This library will no longer be available to anyone who shares it.")})},showBadgedModalConfirmationWithThumbnail:function(e,t,n,a){return pe("confirmation",{thumb_url:e,subject:t,question:n,extended_license:a})},showSuccessfulRebateMessage:function(e){return void 0===e&&(e={}),void 0===e.subject&&(e.subject=s.gettext("MODAL::REBATE::Enjoy your free images!")),void 0===e.body&&(e.body=s.gettext("MODAL::REBATE::Your refund for the first month of your Adobe Stock subscription may take up to two weeks to appear on your credit card statement.")),void 0===e.button_label&&(e.button_label=s.gettext("MODAL::REBATE::Start Searching")),void 0===e.button_link&&(e.button_link="/"),pe("message",e)},showFailedRebateMessage:function(t,n){return void 0===n&&(n={}),void 0===n.subject&&(n.subject=s.gettext("MODAL::REBATE::Rebate processing error")),void 0===n.body&&(n.body=e.sprintf(s.gettext("MODAL::REBATE::We are experiencing technical difficulties processing your rebate. Please contact customer support and reference this case code: %s"),t)),pe("message",n)},showPurchaseVideoMessage:function(e){return void 0===e&&(e={}),pe("confirmation",e)},showSwitchToPersonalMessage:function(e){var t=ae.constants;return void 0===e&&(e={}),void 0===e.subject&&(e.subject=s.gettext("MODAL::SWITCH::ACCOUNT::Switch to personal account")),void 0===e.question&&(e.question=s.gettext("MODAL::SWITCH::ACCOUNT::To purchase this product, you must switch to your personal account. Do you want to switch to your personal account?")),void 0===e.confirm_button_label&&(e.confirm_button_label=s.gettext("MODAL::OK")),ne.send(t.PAGE_VIEW,!1),pe("confirmation",e)},showErrorPurchaseWithCredit:function(e){return void 0===e&&(e={}),void 0===e.subject&&(e.subject=s.gettext("MODAL::CREDIT::Thank you for using Adobe Stock.")),void 0===e.body&&(e.body=s.gettext("MODAL::PURCHASE::CREDIT::You don't have enough images to license this asset. Please contact your administrator to add more images to your account.")),pe("message",e)},showWelcomeBackModal:function(){return pe("welcomeBack",{modalId:"welcome-back-modal",hiddenState:"false"})},showLicensingDetailModal:function(e,t,n){var a,i=de(e,t);return t.required_quota_with_label?a=t.required_quota_with_label:t.required_quota&&(a=z.getOfferPriceUnitsWithLabel(z.getOfferPriceUnitsType(t),t.required_quota)),t.facing_price&&(a+=" ("+t.facing_price+")"),i.modalId="license-references-modal",i.required_quota=a,i.mandatory_license_references=t.mandatory_license_references,i.optional_license_references=t.optional_license_references,i.is_update_context=n,i.saved_license_references=null,i.display_license_references=t.requires_license_references,i.display_license_transfer=t.has_organization_license_transfer_enabled,n?(i.saved_license_references=t.saved_license_references,i.display_license_references=!0,i.modal_title=s.gettext("ORGANIZATION::REFERENCE::Update References"),i.button_label=i.modal_title,i.displayLicenseBadge=e.downloaded&&!e.display_as_unlicensed,i.displayLicenseTransferBadge=e.downloaded&&e.display_as_unlicensed,i.licenseTransfers=e.license_transfers):e.is_just_purchased?(i.modal_title=s.gettext("ORGANIZATION::REFERENCE::License this asset again?"),i.button_label=s.gettext("MODAL::License again")):(i.modal_title=s.gettext("FILE::Confirm Licensing"),i.button_label=s.gettext("MODAL::License")),i.modalWithStickyFooter=i.display_license_references,pe("licensingDetailModal",i)},showLicenseTransferModal:function(e,t){var n=de(e,t);return n.disableLicenseTransferCheckbox=!0,n.modalId="license-transfer-modal",n.modal_title=s.gettext('ORGANIZATION::LICENSE_TRANSFER::Apply the "Transferred" license badge'),n.display_license_transfer=!0,n.button_label=s.gettext("MODAL::Confirm"),n.modalWithStickyFooter=!0,pe("licensingDetailModal",n)},showGroupLicenseReferencesModal:function(e,t){var n={modalId:"group-license-references-modal",content:e,number_selected:Object.keys(e).length,mandatory_license_references:t.mandatory_license_references,optional_license_references:t.optional_license_references};return pe("groupLicenseReferences",n)},showFotoliaSubscriptionInfo:function(e){return pe("fotoliaSubscription",e)},showAdditionalLicensingDisabledModal:function(){var e={subject:s.gettext("MODAL::CREDIT::Thank you for using Adobe Stock."),question:s.gettext("MODAL::PURCHASE::CREDIT::Sorry, you cannot license the same stock asset multiple times. You already have a license for this asset, do you want to download the licensed file?")};return pe("additionalLicensingDisabled",e)},showTechnicalDifficultiesError:function(){var e={body:s.gettext("API::LIBRARIES::We are experiencing technical difficulties. Please try again later.")};return pe("message",e)},isModalVisible:function(){return t("body").find(".modal-window-canvas").is(":visible")},displayOrganizationErrorModal:function(e){var t=z.getOrganizationErrorData(e);return this.showErrorPurchaseWithCredit(t)},displayCCEFreeLicenseAgreement:function(e,t){return pe("cceFreeLicenseAgreementModal",{modalWithStickyFooter:!0,assetData:e,licenseTermsUrl:t||""})}}}),define("lib/libraryutil",[],function(){"use strict";return{findStockRendition:function(e){var t,n=[];return e.representations?n=e.representations:e.representation&&(n=e.representation),(t=this.findElementThatMeetsMultipleCriteria(n,{rel:"rendition",type:"image/jpeg"}))||(t=this.findElementThatMeetsMultipleCriteria(n,{rel:"rendition",type:"image/png"})),t},findStockRepresentation:function(e){return e.representations?this.findElement(e.representations,"rel","primary"):e.representation?this.findElement(e.representation,"rel","primary"):null},findStockSize:function(e){var t=null,n=this.findStockRepresentation(e),a=this.findStockRendition(e);return null!=n&&null!=n.width&&null!=n.height?t={width:Number(n.width),height:Number(n.height)}:null!=a&&null!=a.width&&null!=a.height&&(t={width:Number(a.width),height:Number(a.height)}),t},findElement:function(e,t,n){if(e instanceof Array){for(var a in e)if(e[a].hasOwnProperty(t)&&-1!=e[a][t].indexOf(n))return e[a]}else if(e.hasOwnProperty(t)&&e[t]==n.indexOf(n)!=-1)return e;return null},findElementThatMeetsMultipleCriteria:function(e,t){if(e instanceof Array){for(var n in e)if(this.doesElementMeetAllCriteria(e[n],t))return e[n]}else if(this.doesElementMeetAllCriteria(e,t))return e;return null},doesElementMeetAllCriteria:function(e,t){var n;for(var a in t)if(n=t[a],!e.hasOwnProperty(a)||-1==e[a].indexOf(n))return!1;return!0},transformMelvilleElement:function(e){var t=this,n=t.applyMapping(e,{created_date:"created",modified_date:"modified"});return n.representations&&(n.representations=n.representations.map(function(e){var n={};e.linkurl?n.linkurl="href":e.storage_href?n.storage_href="href":e.path&&(n.path="href");var a=Object.assign({linktype:"type",relationship:"rel",is_external_link:"external-link"},n);return t.applyMapping(e,a)})),n},applyMapping:function(e,t){return Object.keys(e).reduce(function(n,a){var i={};return i[t[a]||a]=e[a],Object.assign(n,i)},{})}}}),define("models/AssetLibraryItem",["lib/libraryutil"],function(e){"use strict";return function(t,n,a,i,s){this.name=n.name,this.id=n.id,this.modified=n.modified,this.imageUrl=a,this.rendition=e.findStockRendition(n),this.licensed=!1,this.parentLibraryId=t,this.representations=n.representations;var r=e.findStockRepresentation(n);if(r&&null!=r["adobestock#trackingdata"]){this.content_id=r["adobestock#trackingdata"].content_id,null!=r["adobestock#trackingdata"].license&&(this.licensed=r["adobestock#trackingdata"].license),null!=r["adobestock#trackingdata"].license_bookmark&&(this.license_bookmark=parseInt(r["adobestock#trackingdata"].license_bookmark,10));var o=r["adobestock#trackingdata"];this.isVideo="application/vnd.adobe.element.video+dcx"===n.type,this.isMOGRTS="application/vnd.adobe.element.graphic+dcx"===n.type,this.isAudio="application/vnd.adobe.element.audio+dcx"===n.type,(this.isVideo||this.isMOGRTS)&&(this.videoUrl=function(e,t){if(null==e.stock_id)return null;var n,a=e.stock_id,i=e.content_id,s=-1==a.indexOf(",")?32:a.indexOf(","),r=a.substr(0,s),o=Math.floor(i/100);return n="https://v.ftcdn.net/"+(o=(o=String("00000000"+o).slice(-8)).substr(0,2)+"/"+o.substr(2,2)+"/"+o.substr(4,2)+"/"+o.substr(6,2))+"/240_F_"+i+"_"+r,t&&(n+="_ST"),n+".mp4"}(o,this.isVideo),r["video#data"]&&(this.duration=r["video#data"].duration))}this.content_original_width=i,this.content_original_height=s,this.dimensions={width:i,height:s}}}),define("lib/librariesV2",["jquery","lodash","page_config","lib/cookie","lib/member","lib/analytics/dunamis","lib/modal-window","lib/window","lib/libraryutil","models/AssetLibraryItem","app/constants/index","app/constants/mediaTypes","app/utils/url"],function(e,t,n,a,i,s,r,o,l,c,u,d,p){"use strict";var _=i.fetchAccessToken(),h=i.getPrivateCloudUrlForLibraries(),f=t.get(h,"libraryServiceURL",n.libraries_service_url_v2),E=t.get(h,"isPrivateCloud",!1),m=t.get(h,"privateCloudId",""),g=t.get(h,"storageHost",n.libraries_storage_host),T={},b="pending",v=n.libraries_use_stock_thumbnails,I=n.libraries_stock_base_url,S="desktop",A="application/vnd.adobe.library.link+dcx",O="isid";function y(){return window.__stock_portal_exports__.packages.coreClientCCLibraries}function C(){return{deviceId:"AdobeStock-"+a(O),device:navigator.userAgent,app:n.SUSI.CLIENT_ID}}function R(){return{"X-Request-Id":n.x_request_id}}function L(){return{"x-user-token":"Bearer "+_,"X-adobe-app-id":n.ans_app_id,"X-api-key":n.SUSI.CLIENT_ID}}function N(t){var a=e.Deferred(),i=R();return t?function(){var t=document.createElement("a");t.href=f;var a=t.protocol+"//"+t.host+"/libs/granite/csrf/token.json",i={Authorization:"Bearer "+_,"X-api-key":n.SUSI.CLIENT_ID};return e.ajax({url:a,type:"GET",headers:Object.assign(i,R())}).then(function(e){return e.token})}().then(function(e){i["CSRF-Token"]=e,a.resolve(i)}):a.resolve(i),a.promise()}function D(e,t){return n.isStorageTokenEnabled||i.checkAccessToken(e,t)}function P(e,t){return e=e||{},i.fetchLibrariesToken().then(function(e){_=e}).fail(function(e){_=null}).then(function(){if(n.isTeamLibrariesEnabled&&t&&t.addOrgId)return i.fetchStorageRepositoryInfo(_)}).then(function(t){return t&&t.organizationId&&(e.orgId=t.organizationId),N(E)}).then(function(t){var a={accessToken:_,baseUrl:n.libraries_service_url_v2,clientId:n.SUSI.CLIENT_ID,extraHeaders:t};return Object.assign({},a,e)})}return{getLibrariesClient:y,refreshAccessToken:function(){_=i.fetchAccessToken()},getLibraries:function(t){var n=e.Deferred();if(!D(n,_))return n.reject(new Error("Invalid access token"));var a=!1,i={parameters:t};t&&(a=t.owner===y().LIBRARIES_OWNER_PUBLIC,i.withRenditionGrid=t.withRenditionGrid);var s=a?y().getPublicLibraries:y().getPaginatedLibraries;return P(i,{addOrgId:!0}).then(function(e){s(e).then(function(e){n.resolve({totalCount:e.total_count,libraries:e.libraries.sort(function(e,t){return e.name.localeCompare(t.name)})})},function(e){n.reject(e)})}).fail(function(e){n.reject(e)}),n},getLibraryById:function(t){var n=e.Deferred();if(!D(n,_))return n.reject(new Error("Invalid access token"));var a={libId:t},i=T[t];return i&&i.state()===b?i:(T[t]=n,P(a,{addOrgId:!0}).then(function(e){y().getLibraryById(e).then(function(e){n.resolve(e)},function(e){e.response&&404==e.response.status?n.resolve(null):n.reject(e)})}).fail(function(e){n.reject(e)}),n)},getLibraryByName:function(t){var n=e.Deferred();if(!D(n,_))return n.reject(new Error("Invalid access token"));var a={name:t},i=T[t];return i&&i.state()===b?i:(T[t]=n,P(a,{addOrgId:!0}).then(function(e){y().getLibrariesByName(e).then(function(e){var t;e&&e.libraries&&e.libraries.length&&(t=e.libraries.find(function(e){return!e.readOnly})),t?n.resolve(t):n.resolve(null)},function(e){e.response&&404==e.response.status?n.resolve(null):n.reject(e)})}).fail(function(e){n.reject(e)}),n)},createLibrary:function(t){var n=e.Deferred();return D(n,_)?(P({libName:t}).then(function(e){y().createLibrary(e).then(function(e){n.resolve(e)},function(e){n.reject(e)})}).fail(function(e){n.reject(e)}),n):n.reject(new Error("Invalid access token"))},deleteLibrary:function(t){var n=e.Deferred();return D(n,_)?(P({id:t}).then(function(e){y().deleteLibrary(e).then(function(){n.resolve(t)},function(e){n.reject(e)})}).fail(function(e){n.reject(e)}),n):n.reject(new Error("Invalid access token"))},renameLibrary:function(t,n){var a=e.Deferred();return D(a,_)?(P({libId:t,newLibName:n}).then(function(e){y().renameLibrary(e).then(function(e){a.resolve(e)},function(e){a.reject(e)})}).fail(function(e){a.reject(e)}),a):a.reject(new Error("Invalid access token"))},isStockElement:function(e){return e.representations&&Array.isArray(e.representations)&&e.representations.some(function(e){return null!=e["adobestock#trackingdata"]})},getLibraryElements:function(t,n){var a=e.Deferred(),i=this,s=n&&n.owner===y().LIBRARIES_OWNER_PUBLIC;if(!D(a,_))return a.reject(new Error("Invalid access token"));var r={libraryId:t,parameters:n,isPublicLibrary:s},o=s?y().getLibraryElements:y().getPaginatedLibraryElements;return P(r).then(function(e){o(e).then(function(e){var n=e.elements.filter(i.isStockElement).map(function(e){var n=l.transformMelvilleElement(e),a=i.generateRenditionByHeight(n,240);return new c(t,n,a.url,a.width,a.height)});a.resolve(n)},function(e){a.reject(e)})}).fail(function(e){a.reject(e)}),a},getLibraryThumbnails:function(t){var a=e.Deferred(),i=function(e){return e.replace(/cc-api-storage-stage.adobe.io/g,"cc-api-storage-creativesdk-stage.adobe.io").replace(/cc-api-storage.adobe.io/g,"cc-api-storage-creativesdk.adobe.io")},s=[];if(t.renditionGrid){var r=t.renditionGrid.main,o=t.renditionGrid.tiles;if(r&&"href"===r.type){var l,c=r.rendition,u=r.elementType;c?l={url:i(c.replace(/size=\d+/g,"size=400")),isStatic:!1}:u===d.AUDIO_ELEMENT&&(l={url:n.thumbnails_audio_by_size[500],isStatic:!0}),l&&s.push(l)}if(o&&o.length){var p=o.length;s=s.concat(o.reduce(function(e,t){var a=t.type,s=t.elementType,r=t.rendition;if("href"!==a)return e;if(r)e.push({url:i(r),isStatic:!1});else if(s===d.AUDIO_ELEMENT)switch(p){case 1:case 2:default:e.push({url:n.thumbnails_audio_by_size[360],isStatic:!0});break;case 3:e.push({url:n.thumbnails_audio_by_size[240],isStatic:!0})}return e},[]))}}return a.resolve(s,t.id,t.totalCount),a},libraryContains:function(t,n){var a=e.Deferred();return D(a,_)&&t&&t!==S?(P({libraryId:t,assetId:n}).then(function(e){y().libraryContainsAsset(e).then(function(e){e.total_items>0?a.resolve(e.elements[0]):a.resolve(null)},function(e){a.reject(e)})}).fail(function(e){a.reject(e)}),a):a.reject(new Error("Invalid access token"))},deleteLibraryElement:function(t,n){var a=e.Deferred();return D(a,_)?(P({libraryId:t,elementId:n}).then(function(e){y().deleteLibraryElement(e).then(function(){a.resolve(n)},function(e){a.reject(e)})}).fail(function(e){a.reject(e)}),a):a.reject(new Error("Invalid access token"))},createDataForReferences:function(t){var a,i,r,o,l,c=this,p=s.getDunamisContextGuid(),_=t.contentId,h=t.instanceId,f=t.state,E=t.license,m=t.licenseId,g=t.name,T=t.mimeType,b=c.fixUrlForLibraries(t.compMeta.url),v=t.compMeta.width,I=t.compMeta.height,S=t.licenseMeta.url,O=t.licenseMeta.width,y=t.licenseMeta.height,C=t.thumbnailMeta.url,R=t.thumbnailMeta.type,L=t.thumbnailMeta.width,N=t.thumbnailMeta.height,D=t.contentLength,P=t.framerate,w=t.duration,M=t.resolution,k=t.librariesMetadata3d,x=t.licenseBookmark;return-1!=T.indexOf("video")?(a=d.VIDEO_ELEMENT,v=O,I=y):T===d.ILLUSTRATOR_TEMPLATE||T===d.INDESIGN_TEMPLATE||T===d.PHOTOSHOP_TEMPLATE?a=d.TEMPLATE_ELEMENT:T===d.EUCLID_MODELS?(a=d.MODEL_3D_ELEMENT,i=!0):T===d.EUCLID_MATERIALS?(a=d.MATERIAL_3D_ELEMENT,i=!0):T===d.EUCLID_LIGHTS?(a=d.LIGHTS_3D_ELEMENT,i=!0):a=T===d.AFTEREFFECTS_TEMPLATE||T===d.PREMIER_TEMPLATE?d.MOGRT:T===d.WAV||T===d.M4A?d.AUDIO_ELEMENT:d.IMAGE_ELEMENT,a===d.AUDIO_ELEMENT?c._buildAudioDataForReferences(t,a,p):(o={type:a},null!=g&&(o.name=g),null!=E?(S=c.fixUrlForLibraries(S),a===d.MOGRT?(l=n.api_gateway_url+u.routes.DOWNLOAD_API+_+"/"+m,o.representations=[{is_external_link:!0,relationship:"primary",width:O,height:y,type:A,linktype:T,linkurl:l,"adobestock#trackingdata":{content_id:String(_),stock_id:String(h),license:E,state:f,context_guid:p}},{relationship:"rendition",type:R,storage_href:C,width:L,height:N},{relationship:"rendition",type:d.PNG,storage_href:l+"?"+e.param({format:"png"}),width:L,height:N},{relationship:"alternate",is_external_link:!0,type:A,linktype:d.MOGRT_JSON,linkurl:l+"?"+e.param({format:"json"}),"adobestock#trackingdata":{content_id:String(_),stock_id:String(h),license:E,state:f,context_guid:p}}]):a===d.TEMPLATE_ELEMENT||i?o.representations=[{is_external_link:!0,relationship:"primary",width:O,height:y,type:A,linktype:T,linkurl:S,"adobestock#trackingdata":{content_id:String(_),stock_id:String(h),license:E,state:f,context_guid:p}},{relationship:"rendition",type:R,storage_href:C,width:L,height:N}]:o.representations=[{is_external_link:!0,relationship:"primary",width:O,height:y,type:A,linktype:T,linkurl:S,"adobestock#trackingdata":{content_id:String(_),stock_id:String(h),license:E,state:f,context_guid:p}},{is_external_link:!0,relationship:"rendition",width:v,height:I,type:A,linktype:T,linkurl:b,"adobestock#trackingdata":{content_id:String(_),stock_id:String(h),state:"not_purchased",context_guid:p}},{relationship:"rendition",type:R,storage_href:C,width:L,height:N}]):(o.representations=[{is_external_link:!0,relationship:"primary",width:v,height:I,type:A,linktype:T,linkurl:b,"adobestock#trackingdata":{content_id:String(_),stock_id:String(h),state:"not_purchased",context_guid:p}},{relationship:"rendition",type:R,storage_href:C,width:L,height:N}],o.representations[0]["adobestock#trackingdata"].license_bookmark=x),-1!=T.indexOf("video")&&(null!=D&&(o.representations[0]["content-length"]=D),r={framerate:P,duration:w,resolution:M},o.representations[0]["video#data"]=r,E&&(o.representations[1]["video#data"]=r)),i&&k&&(o.representations[0]["3d#data"]=k),o)},fixUrlForLibraries:function(t){if(-1!=t.indexOf(".loc")||-1!=t.indexOf("adobestock.dev.stage.adobe.com")){var n=e("<a>",{href:t})[0];n.hostname="primary.stock.stage.adobe.com",t=n.href}return t=(t=(t=p.removeLocale(t)).replace("/Download/Watermarked/","/Rest/Libraries/Watermarked/Download/")).replace("/Download/DownloadFileDirectly/","/Rest/Libraries/Download/")},getCCAcknowledgementThroughANS:function(t,n,a,i){var s=e.Deferred(),o=this;a<4?e.ajax({url:t+"&page_size=10",type:"GET",contentType:"application/json",headers:L()}).then(function(e){for(var r=e.notifications.notification,l=!1,c=0;c<r.length;c++){if(r[c]["notification-id"]===n&&"received"==r[c].state){l=!0,s.resolve(e),o.sendOpenInAnalyticsData(i);break}}l||setTimeout(function(){o.getCCAcknowledgementThroughANS(t,n,a+1,i)},1e3)},function(e){s.reject(e)}):(r.show("openInNoAcknowledgement",{}),o.cancelOpenInANSMessage(t,n),o.sendOpenInAnalyticsData(i,{"event.error_type":"openin-no-ans-acknowledgement","event.error_desc":"timed out waiting for ans acknowledgement"}))},cancelOpenInANSMessage:function(t,n){var a=e.Deferred(),i={notifications:{notification:[{"notification-id":n,state:"CANCELED"}]}};e.ajax({url:t,type:"PUT",contentType:"application/json",data:JSON.stringify(i),headers:L()}).then(function(e){a.resolve(e)},function(e){a.reject(e)})},sendOpenInAnalyticsData:function(t,a){var i=e.Deferred(),s=(new Date).toISOString(),r=o.getSearchObject(),l={"event.dts_start":t.event_dts_start,"event.dts_end":s,"event.type":"openin","event.subtype":t.appAction.toLowerCase(),"event.category":"STOCK","event.subcategory":"openin-workflow","event.cloud_id":m||"","event.context_guid":t.contextGuid,"content.id":t.content_id,"content.status":t.license?"licensed":"free","ui.search_keyword":r.k,"consumer.name":t.appCode,"consumer.version":t.appVersion,"stock_openin.element_id":t.elementId};a&&(l=Object.assign(l,a)),e.ajax({url:n.base_url+"/Ajax/Ingest/LogEvent",type:"POST",data:{event:JSON.stringify(l)}}).then(function(e){i.resolve(e)},function(e){i.reject(e)})},createANSNotificationMessage:function(t,a,r,l,c,u){var p=e.Deferred(),_=this,h=o.getSearchObject(),f="";f=r&&-1!=r.indexOf("video")?d.VIDEO_ELEMENT:r===d.ILLUSTRATOR_TEMPLATE||r===d.INDESIGN_TEMPLATE||r===d.PHOTOSHOP_TEMPLATE?d.TEMPLATE_ELEMENT:d.IMAGE_ELEMENT;var E="",T="",b="";u&&"OpenInPs"===u?(T="PHXS",E="17.0"):u&&"OpenInId"===u?(T="IDSN",E="11.4.0"):u&&"OpenInAi"===u?(T="ILST",E="20.0.0"):u&&"OpenInPr"===u?(T="PPRO",E="10.3"):u&&"OpenInAe"===u&&(T="AEFT",E="13.8.0"),t&&a&&(b="cloud-asset://"+g+"/assets/adobe-libraries/"+t+";node="+a);var v=s.getDunamisContextGuid(),I={appCode:T,appVersion:E,contextGuid:v,elementId:a,content_id:l,event_dts_start:(new Date).toISOString(),appAction:u,license:c},S={protocolVersion:"1",appCode:T,appVersion:E,elementType:f,elementRef:b,context_guid:v,search_keyword:h.k||""};m&&(S.cloudID=m);var A={notifications:{notification:[{"user-id":i.getGuid(),type:"com.adobe.designlibrary.v1","sub-type":"stock.open.request",priority:"20",state:"NEW",payload:JSON.stringify(S)}]}},O=n.ans_endpoint_url;e.ajax({url:O,type:"POST",contentType:"application/json",data:JSON.stringify(A),headers:L()}).then(function(e){var t=e.notifications.notification[0]["notification-id"];t&&_.getCCAcknowledgementThroughANS(O,t,0,I),p.resolve(e)},function(e){_.sendOpenInAnalyticsData(I,{"event.error_type":"openin-ans-request-failed","event.error_desc":"ans service error"}),p.reject(e)})},generateRenditionByHeight:function(e,t){var a=this.useStockThumbnails(e),i=l.findStockRendition(e);if(null==a&&i){var s=t,r=l.findStockSize(e);if(a={width:320,height:240},null!=r){var o=r.height,c=r.width;c>o&&(s=(s=c*t/o).toFixed()),a.width=Math.round(r.width/r.height*240)}a.url=i.href+"/:rendition;size="+s+";version=0?accept=image/jpeg&api_key="+n.SUSI.CLIENT_ID+"&user_token="+_}return a},useStockThumbnails:function(e){var t=null,n=l.findStockRepresentation(e),a=l.findStockRendition(e);if(v&&n&&void 0!==n["adobestock#trackingdata"].stock_id&&n["adobestock#trackingdata"].stock_id.length>=32){var i,s;t={},i=-1==n["adobestock#trackingdata"].stock_id.indexOf(",")?n["adobestock#trackingdata"].stock_id.substr(0,32):n["adobestock#trackingdata"].stock_id.substr(0,n["adobestock#trackingdata"].stock_id.indexOf(",")),s=n["adobestock#trackingdata"].content_id;var r=Math.floor(Number(s)/100);r=(r=String("00000000"+r).slice(-8)).substr(0,2)+"/"+r.substr(2,2)+"/"+r.substr(4,2)+"/"+r.substr(6,2),t.url=I+"/jpg/"+r+"/240_F_"+s+"_"+i+".jpg",t.width=a&&a.width||320,t.height=a&&a.height||240}return t},addLibraryElementUsingReferences:function(t,n,a,i){var s=e.Deferred(),r=this,o=i||"async";return D(s,_)?(n&&(o="sync"),P({libraryClient:C(),libraryId:t,invocationMode:o,assetId:a.contentId,asset:r.createDataForReferences(a)}).then(function(e){y().addLibraryElement(e).then(function(e){if(n){var i=e&&e.id?e.id:null;r.getLibraryById(t).then(function(t){r.createANSNotificationMessage(t.originalId,i,a.mimeType,a.contentId,a.license,n),s.resolve(e)},function(e){s.reject(e)})}else s.resolve(e)},function(e){s.reject(e)})}).fail(function(e){s.reject(e)}),s):s.reject(new Error("Invalid access token"))},updateLibraryElementUsingReferences:function(t,n,a){var i=e.Deferred(),r=this;if(!D(i,_))return i.reject(new Error("Invalid access token"));var o={libraryClient:C(),asset:n,contextGuid:s.getDunamisContextGuid()};return e.extend(o,a||{}),P(o,{addOrgId:!0}).then(function(e){y().updateElementInAllLibraries(e).then(function(e){var a,s;t&&(e[0]&&e[0].parent_id&&(a=e[0].parent_id),e[0]&&e[0].id&&(s=e[0].id),a&&s&&r.getLibraryById(a).then(function(e){r.createANSNotificationMessage(e.originalId,s,n.mimetype,n.contentId,n.license,t)},function(e){i.reject(e)}));i.resolve({elements:e})},function(e){i.reject(e)})}).fail(function(e){i.reject(e)}),i},_buildAudioDataForReferences:function(e,t,n){var a={tempo:e.audio_tempo,duration:e.audio_duration,bitrate:Math.floor(e.audio_bitrate/1e3),channels:e.audio_channels,codec:e.audio_codec,samplerate:e.audio_samplerate},i={content_id:String(e.contentId),stock_id:String(e.instanceId),context_guid:n,state:e.state,album:e.audio_album,is_instrumental:e.audio_is_instrumental,requires_performance_royalties:e.audio_requires_performance_royalties,release_date:e.audio_release_date,artist:e.audio_artist},s=[];return e.license&&s.push({is_external_link:!0,relationship:"primary",type:A,linktype:e.mimeType,linkurl:this.fixUrlForLibraries(e.licenseMeta.url),"audio#data":a,"adobestock#trackingdata":i}),s.push({is_external_link:!0,relationship:e.license?"rendition":"primary",type:A,linktype:d.M4A,linkurl:e.compMeta.url,"audio#data":a,"adobestock#trackingdata":Object.assign({},i,{state:"not_purchased"})}),s.push({relationship:"rendition",type:"application/json",storage_href:e.audio_waveform_json_500}),{type:t,name:e.name,representations:s}},LIBRARY_DESKTOP_ID:S}}),define("lib/hbsBasicHelpersFunctions",["page_config","Handlebars"],function(e,t){"use strict";function n(n,a){var i=n,s=[];return["class","target","data-k","data-t","download"].forEach(function(e){a.hash[e]&&s.push(e+'="'+t.escapeExpression(a.hash[e])+'"')}),a.hash["gotourl-localize"]&&e.base_url.length&&-1!==n.toLowerCase().indexOf("adobe.com/go/")&&(i=("/"===n.slice(-1)?n.slice(0,-1):n)+e.base_url.replace("/","_")),s.push('href="'+t.escapeExpression(i)+'"'),new t.SafeString("<a "+s.join(" ")+">")}function a(){return"</a>"}return{featureFlag:function(t,n){var a=e[t];return n.fn||n.inverse?a?n.fn(this):n.inverse(this):a},linkOpenTag:n,linkCloseTag:a,linkBuilder:function(e,a){var i,s;return i=e,a.hash.text&&(i=a.hash.text),s="",i&&(s=n(e,a)+t.escapeExpression(i)+"</a>"),s},truncate:function(e,t){return t||(t=15),e&&e.length>t&&(e=e.substr(0,t-"...".length)+"..."),e}}}),define("lib/librariesStore",["jquery","lib/ajax","lib/librariesV2","page_config","lib/uiEvents","lib/member","i18n-config","lib/localStorage","lib/error","lib/license","lib/utils","app/utils/error","lib/hbsBasicHelpersFunctions","lib/cookie","app/constants/cookies","app/constants/mediaTypes","components/transparentPngDownloadSettings"],function(e,t,n,a,i,s,r,o,l,c,u,d,p,_,h,f,E){"use strict";function m(e){return"library"+e}var g={librariesByName:{},report:function(e,t){var n={component:"libraries",action:t};d.reportNewRelicError(e,n)},getLibraries:function(t,a){var o=this,c=e.Deferred(),u=a&&a.page>0;function d(e){var n=e&&e.libraries,l=e&&e.totalCount;!t||!o.shouldCreateDefaultLibrary(n)||u&&1!==a.page?n.length>=1&&!s.getDefaultCloudId()&&!s.getDefaultLibraryId()&&!s.getDefaultOpenInAppCode()?o.getLibraryByName(r.gettext("LIBRARY::MYLIBRARY::My Library")).then(function(e){e&&e.id&&o.saveDefaultLibrary(e,null,!1).then(function(){c.resolve({libraries:n,totalCount:l}),i.trigger(i.DEFAULT_LIBRARY_UPDATED,e.libraryUrn||e.id)})}):c.resolve({libraries:n,totalCount:l}):(o.setIsFirstLibraryCreating(),o.createLibrary(r.gettext("LIBRARY::MYLIBRARY::My Library")).then(function(e){s.getDefaultLibraryId()?c.resolve({libraries:[e],totalCount:1}):o.saveDefaultLibrary(e,null,!1).then(function(){c.resolve({libraries:[e],totalCount:1}),i.trigger(i.DEFAULT_LIBRARY_UPDATED,e.libraryUrn||e.id)})}))}function p(e){g.report(e,"librariesStore.getLibraries"),c.reject(l.errorMsg(r.gettext("GENERIC::Something Went Wrong"),r.gettext("LIBRARIES::Could not load libraries.")))}return n.getLibraries(a).done(function(e){!o.shouldCreateDefaultLibrary(e.libraries)||u&&1!==a.page?d(e):n.getLibraries(a).done(d).fail(p)}).fail(p),c.promise()},shouldCreateDefaultLibrary:function(e){var t=e.filter(function(e){return e.readOnly}),n=e.length>0&&t.length<e.length,a=_(h.FIRST_LIBRARY_CREATING);return n&&a&&_(h.FIRST_LIBRARY_CREATING,null,{path:"/"}),!n&&!a},getLibraryById:function(t,a){var i,r=e.Deferred();return"desktop"===t||void 0===t?r.resolve(null):(a||(i=o.retrieveData(s.getMemberId(),m(t),null,!0)),i?r.resolve(i):n.getLibraryById(t).then(function(e){null!==e&&o.storeData(s.getMemberId(),m(t),e,!0),r.resolve(e)},function(e){g.report(e,"librariesStore.getLibraryById"),r.resolve(null)}),r)},getLibraryByName:function(t){var a=this,i=e.Deferred(),s={id:n.LIBRARY_DESKTOP_ID},r=a.librariesByName[t];if(r)return i.resolve(r);var o=function(e){a.librariesByName[t]=e,i.resolve(e)};return n.getLibraryByName(t).then(function(e){e||(e=s),o(e)}).fail(function(e){g.report(e,"librariesStore.getLibraryByName"),o(s)}),i},createLibrary:function(t){var a=this,i=e.Deferred();return(t=t&&t.trim())&&t.length?n.createLibrary(t).done(function(e){a.librariesByName[t]=e,i.resolve(e)}).fail(function(e){g.report(e,"librariesStore.createLibrary"),i.reject(l.errorMsg(r.gettext("GENERIC::Something Went Wrong"),r.gettext("LIBRARIES::Failed to create library.")))}):(i.reject(l.errorMsg(r.gettext("GENERIC::Something Went Wrong"),r.gettext("LIBRARY::Your library's name can't be empty."))),l.displayErrorMsgModal()),i.promise()},deleteLibrary:function(t){var a=e.Deferred();return n.deleteLibrary(t).done(function(){o.removeData(s.getMemberId(),m(t),!0),a.resolve()}).fail(function(e){g.report(e,"librariesStore.deleteLibrary"),a.reject(l.errorMsg(r.gettext("GENERIC::Something Went Wrong"),r.gettext("LIBRARIES::Could not delete library.")))}),a},renameLibrary:function(t,a){var i=this,c=e.Deferred();return(a=a&&a.trim())&&a.length?n.renameLibrary(t,a).done(function(){i.getLibraryById(t).then(function(e){null!==e&&(e.name=a,o.storeData(s.getMemberId(),m(t),e,!0)),c.resolve(e)})}).fail(function(e){g.report(e,"librariesStore.renameLibrary"),c.reject(l.errorMsg(r.gettext("GENERIC::Something Went Wrong"),r.gettext("LIBRARIES::Could not rename library.")))}):(c.reject(l.errorMsg(r.gettext("GENERIC::Something Went Wrong"),r.gettext("LIBRARY::Your library's name can't be empty."))),l.displayErrorMsgModal()),c},getLibraryElements:function(t,a){var i=e.Deferred();return n.getLibraryElements(t,a).done(function(e){i.resolve(e)}).fail(function(e){g.report(e,"librariesStore.getLibraryElements"),i.reject(l.errorMsg(r.gettext("GENERIC::Something Went Wrong"),r.gettext("LIBRARIES::Could not retrieve library items.")))}),i},getLibraryThumbnails:function(e){return n.getLibraryThumbnails(e)},libraryContains:function(t,a){var i=e.Deferred();return n.libraryContains(t,a).done(function(e){i.resolve(e)}).fail(function(e){g.report(e,"librariesStore.libraryContains"),i.reject(l.errorMsg(r.gettext("GENERIC::Something Went Wrong"),r.gettext("LIBRARIES::Could not retrieve library items.")))}),i},deleteLibraryElement:function(t,a){var i=e.Deferred();return n.deleteLibraryElement(t,a).done(function(e){i.resolve(e)}).fail(function(e){g.report(e,"librariesStore.deleteLibraryElement"),i.reject(l.errorMsg(r.gettext("GENERIC::Something Went Wrong"),r.gettext("LIBRARIES::Could not delete library item.")))}),i},analyticsLibraryElement:function(t,a){var i=e.Deferred();return n.analyticsLibraryElement(t,a).done(function(){i.resolve()}).fail(function(){i.resolve()}),i},_getDefaultDownloadAssetType:function(e){var t=E.getTransparentPngDownloadTypes(e);return Object.values(t).find(function(e){return[E.TRANSPARENT_ASSET_AI_EPS,E.TRANSPARENT_ASSET_SVG,E.TRANSPARENT_ASSET_PNG].includes(e)})},getTransparentAssetDownloadType:function(e){var t=E.assetToTransparentAssetDownloadType(e);return t||(t=this._getDefaultDownloadAssetType(e)),t},buildElementData:function(e,t){var n=e.comp_file_path,i=e.id32+","+s.getMemberId(),r=e.license_id,o=e.thumbnail_url,l=f.JPEG,c=null,u=e.is_transparent,d=e.licensed_file_path;a.isPngInLibrariesEnabled&&u&&(c=g.getTransparentAssetDownloadType(e));var p=this.updateAssetHelper(e,c);r&&(n=e.comp_file_path+"/"+r),c&&(c!==E.TRANSPARENT_ASSET_JPEG&&(o=e.thumbnail_url_png,l=f.PNG),n=E.getDownloadUrl(c,n),d&&(d=E.getDownloadUrl(c,d)));var _={compMeta:{height:e.content_height,url:n,width:e.content_width},contentId:e.content_id,contentLength:e.content_length,contentType:e.content_type,contentTypeId:e.content_type_id,downloadUrl:d,duration:e.duration,framerate:e.framerate,instanceId:i,librariesMetadata3d:e.libraries_metadata,license:e.license,licenseBookmark:t||e.default_license_id,licenseId:r,licenseMeta:{height:e.content_original_height,url:d,width:e.content_original_width},mimeType:p.mimetype,name:e.title,resolution:e.resolution,state:e.state,thumbnailMeta:{height:e.thumbnail_height,url:o,type:l,width:e.thumbnail_width}};return a.isPngInLibrariesEnabled&&(_.isTransparent=e.is_transparent),e.is_audio&&(_=Object.assign({},_,{audio_waveform_json_500:e.audio_data.waveform_data_w500.url,audio_duration:e.audio_data.duration,audio_tempo:e.audio_data.tempo,audio_bitrate:e.audio_data.audio_bitrate,audio_channels:e.audio_data.audio_channels,audio_codec:e.audio_data.audio_codec,audio_samplerate:e.audio_data.audio_samplerate,audio_album:e.audio_data.album,audio_is_instrumental:e.audio_data.is_instrumental,audio_requires_performance_royalties:e.audio_data.requires_performance_royalties,audio_release_date:e.audio_data.release_date,audio_artist:e.artist_name})),_},addLibraryElement:function(t,a,i,s,r){var o=this,l=e.Deferred();o.setHDDimensions(a);return o.getCCLibrariesData(a).then(function(e){var a=o.buildElementData(e,r);n.addLibraryElementUsingReferences(t,i,a,s).done(function(e){l.resolve(e)}).fail(function(e){g.report(e,"librariesStore.addLibraryElement"),l.reject(e)})}),l.promise()},updateLibraryElement:function(t,a,i){var s=this,o=e.Deferred();return s.getCCLibrariesData(a).then(function(e){s.setHDDimensions(e);var a=s.buildElementData(e,i);n.updateLibraryElementUsingReferences(null,a,{libraryId:t,createPurchasedRepresentation:!1}).done(function(e){o.resolve(e)}).fail(function(e){g.report(e,"librariesStore.updateLibraryElement"),o.reject(l.errorMsg(r.gettext("GENERIC::Something Went Wrong"),r.gettext("LIBRARIES::Could not add to library.")))})}),o.promise()},hasCCLibrariesData:function(e){return!!(e&&e.state&&e.downloaded&&e.license&&e.licensed_file_path)},getCCLibrariesData:function(n){var a,i,s,r=e.Deferred();return a=n&&n.content_id,s=c.getLicenseIdIfLicensed(n),i=u.computeDownloadUrl(a,s),n.license_id=s,a&&!this.hasCCLibrariesData(n)&&c.isAlreadyLicensed(a,n,s)?(t.post(i).then(function(e){n.state=e.purchased_state,n.downloaded=!0,n.license=e.license_name,n.licensed_file_path=e.download_url,r.resolve(n)}).fail(function(){r.resolve(n)}),r.promise()):(r.resolve(n),r.promise())},updateElementInAllLibraries:function(t,a){var i=this,s=e.Deferred();return i.getCCLibrariesData(t).then(function(e){var t=i.buildElementData(e);return i.setHDDimensions(e),n.updateLibraryElementUsingReferences(a,t).done(function(e){s.resolve(e)}).fail(function(e){g.report(e,"librariesStore.updateElementInAllLibraries"),s.reject(l.errorMsg(r.gettext("GENERIC::Something Went Wrong"),r.gettext("LIBRARIES::Could not add to library.")))}),s}),s.promise()},updateAssetHelper:function(e,t){var n=new Object,a=E.ASSET_TYPES_TO_MEDIA_TYPES_MAP,i=E.TRANSPARENT_ASSET_PNG;return t?n.mimetype=a[t]||a[i]:-1!=e.format.indexOf("jpeg")?n.mimetype="image/jpeg":"ai"===e.format?n.mimetype="application/illustrator":"ait"===e.format?n.mimetype="application/illustrator.template":e.content_type?n.mimetype=e.content_type:e.representations&&e.representations[0].type?n.mimetype=e.representations[0].type:n.mimetype=null,e.downloaded?(n.downloadURL=e.licensed_file_path,n.width=e.content_original_width,n.height=e.content_original_height):(n.downloadURL=e.comp_file_path,n.width=e.content_width,n.height=e.content_height,e.license=null),n},saveDefaultLibrary:function(t,r,o,l){var c,u={},d=t;return t&&"object"==typeof t&&(d=t.libraryUrn||t.id),s.isLoggedIn()?d&&d!==n.LIBRARY_DESKTOP_ID?(d&&(u.default_library_id=d),l&&(u.default_openin_appcode=l),s.isCCEPrivateUser()&&(r||o)?u.default_cloud_id=r:s.isCCEPrivateUser()&&!o||(u.default_cloud_id=""),e.ajax({url:a.base_url+"/Ajax/Library/SaveDefaultLibrary",method:"POST",data:u}).then(function(){c=d||l,i.trigger(i.DEFAULT_LIBRARY_UPDATED,c,l)})):e.Deferred().resolve("Invalid library ID").promise():e.Deferred().resolve("No member to save default library to").promise()},setHDDimensions:function(e){var t=c.getLicenseId(e.content_id);e.is_video&&"HD"===e.resolution&&e.possible_data_video&&Object.keys(e.possible_data_video).length>1&&e.possible_data_video.hasOwnProperty(t)&&e.possible_data_video[t].video_height&&e.possible_data_video[t].video_width&&(e.content_original_width=e.possible_data_video[t].video_width,e.content_original_height=e.possible_data_video[t].video_height)},setIsFirstLibraryCreating:function(){var e=new Date;e.setTime(e.getTime()+3e5),_(h.FIRST_LIBRARY_CREATING,!0,{path:"/",expires:e})},getLibraryIdForOpenIn:function(t){var a=this,i=e.Deferred(),s=u.getOpenInLibraryName(t,{templateString:r.gettext("LIBRARY::TEMPLATES::Stock Templates"),defaultString:r.gettext("LIBRARY::DOWNLOADS::Downloads")});return a.getLibraryByName(s).then(function(e){var t=e.id;t&&t!==n.LIBRARY_DESKTOP_ID?i.resolve(t):a.createLibrary(s).done(function(e){t=e.id,i.resolve(t)})}),i},LIBRARY_DESKTOP_ID:n.LIBRARY_DESKTOP_ID,openAssetInSelectedApp:function(t,n){return g.report("Deprecated call to openAssetInSelectedApp","librariesStore.deprecatedOpenAssetInSelectedApp"),n?g.getLibraryIdForOpenIn(t.content_id).then(function(e){g.addLibraryElement(e,t,n)}):e.Deferred().reject()},isLibraryNameValid:function(e){return(e=e&&e.trim())&&e.length},renameLibraryPageSuccessHandler:function(e,t){e.hide(),e.siblings(".library-name-header").show().find("a").text(t)},renameLibraryTitleSuccessHandler:function(t,n){e("#titleRenameContainer").text(p.truncate(n,80)),e("#libraryTitleLarge").text(n)},renameLibraryPageErrorHandler:function(e){l.displayErrorMsgModal(e,r.gettext("GENERIC::Something Went Wrong"),r.gettext("GENERIC::There was an error processing your request."))},renameLibraryHandler:function(e,t,n){var a=e.serializeArray().reduce(function(e,t){return e[t.name]=t.value,e},{});this.isLibraryNameValid(a.name)?g.renameLibrary(a.libraryUrn||a.id,a.name).done(function(n){t(e,n.name)}).fail(function(e){n(e)}):l.displayErrorMsgModal(l.errorMsg(r.gettext("GENERIC::Something Went Wrong"),r.gettext("LIBRARY::Your library's name can't be empty.")))},deleteLibraryHandler:function(e,t,n,a){g.deleteLibrary(t).done(function(){n(e)}).fail(function(t){a(e,t)})}};return g}),define("hbs!templates/components/navbar/creditBadgeCounter",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.display_counters:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:""},2:function(e,t,n,a){var i;return'        <li class="nav__item">\n'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.member:e)?i.default_entitlement:i,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+"        </li>\n"},3:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["components/navbar/creditBadges"],e,{name:"components/navbar/creditBadges",data:a,indent:"                ",helpers:t,partials:n}))?i:""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.member:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:""},usePartial:!0,useData:!0})}),define("hbs!templates/components/navbar/creditBadges",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["components/navbar/enterpriseCreditBadges"],e,{name:"components/navbar/enterpriseCreditBadges",data:a,indent:"    ",helpers:t,partials:n}))?i:""},3:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.marketplace_show_credit_badges:e,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.noop,data:a}))?i:""},4:function(e,t,n,a){var i;return'        <div class="show-credit-badges">\n'+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.available_credit_pack_quota:i,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Video_HD:i,{name:"if",hash:{},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=(t["if-or"]||e&&e["if-or"]||t.helperMissing).call(e,null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.has_ever_had_credit_packs:i,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Video_HD:i,null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.is_cce:i,{name:"if-or",hash:{},fn:this.program(12,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=(t["if-or"]||e&&e["if-or"]||t.helperMissing).call(e,null!=(i=null!=e?e.member:e)?i.has_cct_pro:i,null!=(i=null!=e?e.member:e)?i.hasStockBundle:i,{name:"if-or",hash:{},fn:this.program(15,a,0),inverse:this.program(22,a,0),data:a}))?i:"")+"        </div>\n"},5:function(e,t,n,a){var i;return'            <div class="navbar-v2__credit-badge">\n                <span data-t="credit-pack-quota" class="quota">\n                    '+this.escapeExpression(this.lambda(null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.available_credit_pack_quota:i,e))+"\n                </span>\n"+(null!=(i=t.if.call(e,null!=e?e.has_universal_license_plan:e,{name:"if",hash:{},fn:this.program(6,a,0),inverse:this.program(8,a,0),data:a}))?i:"")+"            </div>\n"},6:function(e,t,n,a){var i;return'                    <span data-t="credit-pack-pack-credits-label">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Pack credit","HEADER::MEMBER::Pack credits",null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.available_credit_pack_quota:i,{name:"ngettext",hash:{},data:a}))+"</span>\n"},8:function(e,t,n,a){var i;return'                    <span data-t="credit-pack-quota-label">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Credit","HEADER::MEMBER::Credits",null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.available_credit_pack_quota:i,{name:"ngettext",hash:{},data:a}))+"</span>\n"},10:function(e,t,n,a){var i;return'            <div class="navbar-v2__credit-badge">\n                <span data-t="quota-videos-hd" class="quota">'+this.escapeExpression((t.number||e&&e.number||t.helperMissing).call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.total_quota_available_by_license_name:i)?i.Video_HD:i,{name:"number",hash:{},data:a}))+'</span>\n                <span data-t="quota-videos-hd-label">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Video","HEADER::MEMBER::Videos",null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Video_HD:i,{name:"ngettext",hash:{},data:a}))+"</span>\n            </div>\n"},12:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.breakItems:e,{name:"if",hash:{},fn:this.program(13,a,0),inverse:this.noop,data:a}))?i:""},13:function(e,t,n,a){return'                <div class="padding-xsmall"></div>\n'},15:function(e,t,n,a){var i;return'            <span class="navbar-v2__credit-badge">\n                <span data-t="quota-cct-pro-unlimited-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"HEADER::MEMBER::Unlimited images",{name:"_",hash:{},data:a}))+"</span>\n            </span>\n"+(null!=(i=t.unless.call(e,null!=(i=null!=e?e.member:e)?i.has_cct_pro:i,{name:"unless",hash:{},fn:this.program(16,a,0),inverse:this.noop,data:a}))?i:"")},16:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Standard:i,{name:"if",hash:{},fn:this.program(17,a,0),inverse:this.noop,data:a}))?i:""},17:function(e,t,n,a){var i;return'                    <div class="navbar-v2__credit-badge">\n                        <span data-t="quota-images-standard" class="quota">'+this.escapeExpression((t.number||e&&e.number||t.helperMissing).call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Standard:i,{name:"number",hash:{},data:a}))+"</span>\n"+(null!=(i=t.if.call(e,null!=e?e.has_universal_license_plan:e,{name:"if",hash:{},fn:this.program(18,a,0),inverse:this.program(20,a,0),data:a}))?i:"")+"                    </div>\n"},18:function(e,t,n,a){var i;return'                            <span data-t="quota-plan-credits-standard-label">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Plan credit","HEADER::MEMBER::Plan credits",null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Standard:i,{name:"ngettext",hash:{},data:a}))+"</span>\n"},20:function(e,t,n,a){var i;return'                            <span data-t="quota-assets-standard-label">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Asset","HEADER::MEMBER::Assets",null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Standard:i,{name:"ngettext",hash:{},data:a}))+"</span>\n"},22:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Standard:i,{name:"if",hash:{},fn:this.program(23,a,0),inverse:this.noop,data:a}))?i:""},23:function(e,t,n,a){var i;return'                <div class="navbar-v2__credit-badge">\n                    <span data-t="quota-images-standard" class="quota">'+this.escapeExpression((t.number||e&&e.number||t.helperMissing).call(e,null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Standard:i,{name:"number",hash:{},data:a}))+"</span>\n"+(null!=(i=t.if.call(e,null!=e?e.has_universal_license_plan:e,{name:"if",hash:{},fn:this.program(24,a,0),inverse:this.program(26,a,0),data:a}))?i:"")+"                </div>\n"},24:function(e,t,n,a){var i;return'                        <span data-t="quota-plan-credits-standard-label">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Plan credit","HEADER::MEMBER::Plan credits",null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Standard:i,{name:"ngettext",hash:{},data:a}))+"</span>\n"},26:function(e,t,n,a){var i;return'                        <span data-t="quota-assets-standard-label">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Asset","HEADER::MEMBER::Assets",null!=(i=null!=(i=null!=(i=null!=e?e.member:e)?i.default_entitlement:i)?i.displayable_quota_available_by_license_name:i)?i.Standard:i,{name:"ngettext",hash:{},data:a}))+"</span>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.quotas_labels_by_license_type_id:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(3,a,0),data:a}))?i:""},usePartial:!0,useData:!0})}),define("hbs!templates/components/navbar/enterpriseCreditBadges",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return null!=(i=t.each.call(e,null!=e?e.quotas_labels_by_license_type_id:e,{name:"each",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:""},2:function(e,t,n,a){var i;return(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"unlimited_assets",logic:"eq",value:null!=e?e.label_type:e},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"unlimited_images",logic:"eq",value:null!=e?e.label_type:e},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.quota:e,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:"")},3:function(e,t,n,a){return'            <div class="navbar-v2__credit-badge show-credit-badges" data-t="quota-by-license-badge-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'">\n                <span data-t="quota-by-license-label-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"HEADER::MEMBER::Unlimited assets",{name:"_",hash:{},data:a}))+"</span>\n            </div>\n"},5:function(e,t,n,a){return'            <div class="navbar-v2__credit-badge show-credit-badges" data-t="quota-by-license-badge-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'">\n                <span data-t="quota-by-license-label-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"HEADER::MEMBER::Unlimited images",{name:"_",hash:{},data:a}))+"</span>\n            </div>\n"},7:function(e,t,n,a){var i;return'            <div class="navbar-v2__credit-badge show-credit-badges" data-t="quota-by-license-badge-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'">\n                <span data-t="quota-by-license-value-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'" class="quota">\n                    '+this.escapeExpression(this.lambda(null!=e?e.quota:e,e))+"\n                </span>\n"+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"credits",logic:"eq",value:null!=e?e.label_type:e},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"images",logic:"eq",value:null!=e?e.label_type:e},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"premium_credits",logic:"eq",value:null!=e?e.label_type:e},fn:this.program(12,a,0),inverse:this.noop,data:a}))?i:"")+"            </div>\n"},8:function(e,t,n,a){return'                    <span data-t="quota-by-license-label-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Credit","HEADER::MEMBER::Credits",null!=e?e.quota:e,{name:"ngettext",hash:{},data:a}))+"</span>\n"},10:function(e,t,n,a){return'                    <span data-t="quota-by-license-label-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Image","HEADER::MEMBER::Images",null!=e?e.quota:e,{name:"ngettext",hash:{},data:a}))+"</span>\n"},12:function(e,t,n,a){return'                    <span data-t="quota-by-license-label-'+this.escapeExpression((t.inc||e&&e.inc||t.helperMissing).call(e,a&&a.index,{name:"inc",hash:{},data:a}))+'">'+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Premium Credit","HEADER::MEMBER::Premium Credits",null!=e?e.quota:e,{name:"ngettext",hash:{},data:a}))+"</span>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.marketplace_show_quotas_labels_by_license_type_id:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:""},useData:!0})}),define("hbs!templates/components/navbar/placeholderAvatarIconSvg",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<div class="navbar-v2__placeholder-avatar-container js-avatar-placeholder">\n    <svg viewBox="0 0 36 36" focusable="false" aria-hidden="true" role="img" class="spectrum-Icon spectrum-Icon--sizeS" data-t="navbar-profile-icon"><path d="M22.325 21.547v-2.224a1.539 1.539 0 0 1 .392-.993A11.746 11.746 0 0 0 25.388 11c0-5.547-2.942-8.647-7.387-8.647s-7.47 3.222-7.47 8.647a11.873 11.873 0 0 0 2.8 7.329 1.54 1.54 0 0 1 .392.993v2.214a1.528 1.528 0 0 1-1.333 1.542c-8.931.777-10.326 6.886-10.326 9.3 0 .268.032 1.321.051 1.585h31.857S34 32.642 34 32.374c0-2.309-1.577-8.4-10.346-9.286a1.535 1.535 0 0 1-1.329-1.541z"></path></svg>\n</div>\n'},useData:!0})}),define("hbs!templates/components/navbar/navAvatar",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'    <button aria-haspopup="true" aria-label="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"HEADER::Profile",{name:"_",hash:{},data:a}))+'" class="js-navbar-avatar nav-dropdown-btn" data-t="navbar-profile-avatar">\n        <img alt="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"HEADER::Profile",{name:"_",hash:{},data:a}))+'" class="navbar-v2__avatar v-align-middle" src="'+this.escapeExpression("function"==typeof(i=null!=(i=t.avatar||(null!=e?e.avatar:e))?i:t.helperMissing)?i.call(e,{name:"avatar",hash:{},data:a}):i)+'" data-t="navbar-profile-icon"/>\n    </button>\n'},3:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["components/navbar/placeholderAvatarIconSvg"],e,{name:"components/navbar/placeholderAvatarIconSvg",data:a,indent:"    ",helpers:t,partials:n}))?i:""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.avatar:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(3,a,0),data:a}))?i:""},usePartial:!0,useData:!0})}),define("hbs!templates/components/navbar/adobeLogoOrAvatar",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'    <div id="stock-portal-nav-profile-dropdown" class="nav-profile-dropdown margin-right-medium margin-left-medium">\n        <div class="js-stock-portal-ssr js-avatar-ssr">\n'+(null!=(i=this.invokePartial(n["components/navbar/navAvatar"],e,{name:"components/navbar/navAvatar",data:a,indent:"            ",helpers:t,partials:n}))?i:"")+"        </div>\n    </div>\n"},3:function(e,t,n,a){var i,s;return'    <a href="'+this.escapeExpression("function"==typeof(s=null!=(s=t.adobe_url||(null!=e?e.adobe_url:e))?s:t.helperMissing)?s.call(e,{name:"adobe_url",hash:{},data:a}):s)+'" title="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"HEADER::Return to Adobe's homepage",{name:"_",hash:{},data:a}))+'" data-t="navbar-adobe-logo-link" class="navbar__link nav-margin-right adobe-logo" data-ingest-clicktype="logo-link">\n'+(null!=(i=this.invokePartial(n["components/navbar/adobeLogoSvg"],e,{name:"components/navbar/adobeLogoSvg",data:a,indent:"        ",helpers:t,partials:n}))?i:"")+"    </a>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.member:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(3,a,0),data:a}))?i:""},usePartial:!0,useData:!0})}),define("hbs!templates/components/navbar/adobeLogoSvg",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" viewBox="0 0 36 36">\n    <path\n        d="M22.175 4H34v28L22.175 4zm-8.336 0H2v28L13.839 4zm4.165 10.317l7.538\n        17.682h-4.939l-2.258-5.632h-5.517l5.176-12.05z"></path>\n</svg>\n'},useData:!0})}),define("hbs!templates/components/signinLink",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return'    <a data-t="navbar-sign-in-button"\n       id="sign-in-link"\n       class="navbar__link nav-margin-right js-susi-login"\n       href="#"\n       data-ingest-clicktype="sign-in"\n    >\n        <span data-t="navbar-sign-in-button-text">\n            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"HEADER::Sign in",{name:"_",hash:{},data:a}))+"\n        </span>\n    </a>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.unless.call(e,null!=e?e.member:e,{name:"unless",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:""},useData:!0})}),define("lib/polyfill",[],function(){"use strict";String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.indexOf(e,t)===t})}),define("lib/globalnav",["jquery","lib/ajax","lib/error","lib/uiEvents","lib/member","lib/librariesStore","lib/window","app/utils/observer","app/utils/routes","app/constants/routes","app/utils/url","hbs!templates/components/navbar/creditBadgeCounter","hbs!templates/components/navbar/creditBadges","hbs!templates/components/navbar/enterpriseCreditBadges","hbs!templates/components/navbar/placeholderAvatarIconSvg","hbs!templates/components/navbar/navAvatar","hbs!templates/components/navbar/adobeLogoOrAvatar","hbs!templates/components/navbar/adobeLogoSvg","i18n","i18n-config","page_config","lib/susi","app/stock-portal","hbs!templates/components/signinLink","lodash","lib/polyfill"],function(e,t,n,a,i,s,r,o,l,c,u,d,p,_,h,f,E,m,g,T,b,v,I,S,A){"use strict";function O(e){return!("en_US"!==b.locale_code&&e>1||e>2||0===e)}function y(t){var n,a=t||i&&i.getDefaultEntitlement();return a&&i.shouldDisplayLicenseCounter(a)?(n=i.getQuotaDataByLicenseTypeId(a),e.isEmptyObject(n)?k.getNonEnterpriseCreditLabelsData(a):k.getEnterpriseCreditLabelsData(n)):{}}function C(){var e=i.getAccountClusterEntitlements(),t={};return(e||[]).forEach(function(e){t[e.guid||e.label]=k.getCreditLabelsData(e)}),t}function R(e){return o.isEligibleForUniversalPlanUse()?L("HEADER::MEMBER::%s Plan credit","HEADER::MEMBER::%s Plan credits",e):L("HEADER::MEMBER::%s Asset","HEADER::MEMBER::%s Assets",e)}function L(e,t,n){var a=parseInt(n);return g.sprintf(T.ngettext(e,t,n),a)}function N(){var t=e("#details-wrapper"),n=decodeURIComponent(r.getPath());return t.is(":visible")&&(n+=e.isEmptyObject(r.getSearchObject())?"?":"&",n+="return_id="+t.find(".js-details").data("content_id")),n}function D(){var n,a=e(".js-avatar-placeholder"),s=i.getResolvedImsProfile();a.length&&e.ajax({url:b.behance_service_url+"/v2/users/"+s.userId,data:{api_key:b.SUSI.CLIENT_ID}}).then(function(a){n=a.user.images[138];var i=e(".js-avatar-ssr"),s=f({avatar:n},{partials:{"components/navbar/placeholderAvatarIconSvg":h}});i.html(s),t.post(b.base_url+"/Ajax/Member/SaveAvatar",{avatar:n})})}function P(e){var t=N(),n={referrer_uri:t};e.detail.isEntitlementOnly&&e.detail.accountGuid&&(n.eoa=e.detail.accountGuid),e.detail.entitlementGuid?r.setLocation(l.getRoute({guid:e.detail.entitlementGuid},c.SWITCH_TEAM_NAME,n)):r.setLocation(l.getSwitchPersonalRoute(t))}function w(e){e.detail&&(e.detail.defaultEntitlementGuid||e.detail.standardAssetsLicensingEntitlementGuid||e.detail.nonStandardAssetsLicensingEntitlementGuid||e.detail.accountGuid)&&t.post(b.base_url+"/Ajax/Member/UpdateDefaultEntitlements",{default_entitlement_guid:e.detail.defaultEntitlementGuid,standard_assets_licensing_entitlement_guid:e.detail.standardAssetsLicensingEntitlementGuid,non_standard_assets_licensing_entitlement_guid:e.detail.nonStandardAssetsLicensingEntitlementGuid,account_guid:e.detail.accountGuid}).then(function(){r.setLocation(l.getRefreshedContextRoute(N()))}).fail(n.displayGenericError)}function M(e){e.detail&&t.post(b.base_url+"/Ajax/Member/RemoveDefaultEntitlements").then(function(){r.setLocation(l.getRefreshedContextRoute(N()))}).fail(n.displayGenericError)}a.on(a.ENTITLEMENTS_UPDATED,function(){var t,a,s=i.getDefaultEntitlement(),r=y(),c=O(A.get(r,"noOfTypesOfNonZeroQuota",0));t={quotas_labels_by_license_type_id:i.getQuotaDataByLicenseTypeId(s),member:{default_entitlement:s,has_cct_pro:i.hasCCTPro(),hasStockBundle:i.hasStockBundle()},display_counters:i.shouldDisplayLicenseCounter(s),marketplace_show_credit_badges:c,has_universal_license_plan:o.isEligibleForUniversalPlanUse(),marketplace_show_quotas_labels_by_license_type_id:c},a={partials:{"components/navbar/creditBadges":p,"components/navbar/enterpriseCreditBadges":_}},s.hasCreditModel=s.has_credit_model,s.hasAgencyModel=s.has_agency_model,void 0!==s.organization&&(s.hasAgencyModel?(s.organization.hasAgencyCreditsStandard=s.organization.has_credits_agency_standard,s.organization.hasAgencyCreditsPremium=s.organization.has_credits_agency_premium,s.organization.hasAgencyCreditsUniversal=s.organization.has_credits_agency_universal):(s.organization.hasCreditsCore=s.organization.has_credits_core,s.organization.hasCreditsGeneric=s.organization.has_credits_generic)),e("#memberLicensesCounter").html(d(t,a)),I.updateProfileDropdownEntitlements({defaultEntitlementQuota:A.get(r,"creditLabels"),licensingEntitlementsQuotas:C()});var u=A.get(t,"member.default_entitlement.is_admin");t.license_history_url=l.getLicenseHistoryURL(u),t.breakItems=!0,i.shouldDisplayTeamEntitlementErrorModal()&&n.displayErrorModal(T.gettext("GENERIC::Something Went Wrong"),T.gettext("ACCOUNT_CLUSTER::ERROR::An error occurred when displaying your team profiles. Please refresh the page to try again, or you can continue to use Adobe Stock with your current profile."))}),o.observe(function(e){return e.member},function(t){if(t.imsProfile&&t.stockProfile){var n=e("#sign-in-link"),a=e("#adobe-logo-or-avatar");n.html(S({member:t})),a.html(E({member:t,avatar:t.avatar},{partials:{"components/navbar/navAvatar":f,"components/navbar/adobeLogoSvg":m,"components/navbar/placeholderAvatarIconSvg":h}})),D()}}),v.ready.then(function(){e(".avatar-username").html(i.getProfileName())}),e("body").on("click",function(t){var n=e(t.target),a=e("#nav-help-btn"),i=e(".js-nav-more-btn");n.is(a)||a.has(n).length||e("#nav-help-dropdown").removeClass("active"),n.is(i)||i.has(n).length||e(".js-nav-more-dropdown").removeClass("active")}),e(".js-search-text-input, .js-camera-icon, .js-start-fmf, .js-filter-view-type").click(function(){e("#nav-help-dropdown").removeClass("active"),e(".js-nav-more-dropdown").removeClass("active")}),e("#nav-help-btn").on("click",function(t){t.preventDefault(),e("#nav-help-dropdown").toggleClass("active")}),e(".js-nav-more-btn").on("click",function(t){t.preventDefault(),e(t.currentTarget).siblings(".js-nav-more-dropdown").toggleClass("active")}),e("body").on("click",".js-navbar-avatar",function(t){var n=e(".js-navbar-avatar").find("img").attr("src"),a=i.getResolvedImsProfile(),s=y(),r=i.getImsAccountName(),o=!i.getDefaultEntitlementGuid(),l=A.get(a,"email"),c=i.buildOrganizations(),u={authProfiles:A.get(c,"authProfiles"),entitlementOnlyProfiles:A.get(c,"entitlementOnlyProfiles"),avatarImageUrl:n,adobeAccountUrl:A.get(b,"accounts_url"),currentProfileName:r,email:l,isZombieUser:i.isZombieUser(),defaultEntitlementQuota:A.get(s,"creditLabels"),isPersonalProfileActive:o,isTeam:i.isTeam(),logoutUrl:"#"};b.isDefaultEntitlementManagementEnabled&&(u.licensingEntitlementsQuotas=C()),I.renderProfileDropdown(u)}),e("#js-mobile-menu-button").on("click",function(t){t.preventDefault(),t.stopPropagation(),e("#js-mobile-menu-nav").toggleClass("hidden"),e("#user-settings").removeClass("avatar-active")}),e("#header-cloud-selector").find("a").on("click",function(t){t.preventDefault(),t.stopPropagation();var n=e(this),a=n.find(".spinner");n.hasClass("selected")||(a.show(),s.saveDefaultLibrary("",n.data("cloud-id"),!0).then(function(){location.pathname.startsWith(b.base_url+"/Library/")?window.location.href=b.base_url+"/Libraries":location.reload(!0)}).fail(function(){a.hide()}))}),e(".js-waffle-button").on("click",function(){var e=A.get(b,"SUSI.profile",{}),t={accessToken:A.get(e,"access_token",""),email:A.get(e,"authId",""),countryCode:A.get(e,"countryCode","US")},n={isPersonalProfileActive:!i.isUsingCCEAccount(),isTeam:i.isTeam(),imsData:t};I.renderNavbarMarketplaceWaffleLeftNav(n)}),window.addEventListener("portal:switchTeamRequest",P),window.addEventListener("portal:switchAccountRequest",P),window.addEventListener("portal:updateDefaultEntitlements",w),window.addEventListener("portal:removeDefaultEntitlements",M);var k={initGlobalNav:D,handleSwitchProfile:P,handleUpdateDefaultEntitlementsSetting:w,handleRemoveDefaultEntitlementsSetting:M,setCreditBadgesInNavbar:O,getNonEnterpriseCreditLabelsData:function(e){if(!i||!e)return{creditLabels:[],noOfTypesOfNonZeroQuota:0};var t=[],n=0;if(A.get(e,"has_ever_had_credit_packs")){var a=A.get(e,"available_credit_pack_quota",0);o.isEligibleForUniversalPlanUse()?t.push(L("HEADER::MEMBER::%s Pack credit","HEADER::MEMBER::%s Pack credits",a)):t.push(L("HEADER::MEMBER::%s Credit","HEADER::MEMBER::%s Credits",a)),a&&(n+=1)}if(A.get(e,'displayable_quota_available_by_license_name["Video_HD"]')){var s=A.get(e,'total_quota_available_by_license_name["Video_HD"]');t.push(L("HEADER::MEMBER::%s Video","HEADER::MEMBER::%s Videos",s)),s&&(n+=1)}else A.get(e,"is_cce")&&t.push(L("HEADER::MEMBER::%s Video","HEADER::MEMBER::%s Videos",0));var r=A.get(e,'displayable_quota_available_by_license_name["Standard"]',0),l=R(r);return A.get(e,"has_cct_pro")||A.get(e,"has_stock_bundle")?(t.push(T.gettext("HEADER::MEMBER::Unlimited images")),n+=1,A.get(e,"has_stock_bundle")&&A.get(e,"is_credit_card_purchase_entitlement_with_plan")&&(t.push(l),r&&(n+=1))):((r||!A.get(e,"has_ever_had_credit_packs")&&!A.get(e,"is_credit_card_purchase_entitlement_without_plan"))&&t.push(l),r&&(n+=1)),{creditLabels:t,noOfTypesOfNonZeroQuota:n}},getEnterpriseCreditLabelsData:function(e){for(var t=[],n=0,a=["images","credits","premium_credits","unlimited_images","unlimited_assets"],i=Object.keys(e).sort(function(t,n){return a.indexOf(e[t].label_type)-a.indexOf(e[n].label_type)}),s=0;s<i.length;s++){var r,o=i[s],l=e[o],c=A.get(l,"quota",0),u=A.get(l,"label_type");switch(u){case"unlimited_images":r=T.gettext("HEADER::MEMBER::Unlimited images");break;case"unlimited_assets":r=T.gettext("HEADER::MEMBER::Unlimited assets");break;case"credits":r=L("HEADER::MEMBER::%s Credit","HEADER::MEMBER::%s Credits",c);break;case"images":r=L("HEADER::MEMBER::%s Image","HEADER::MEMBER::%s Images",c);break;case"premium_credits":r=L("HEADER::MEMBER::%s Premium Credit","HEADER::MEMBER::%s Premium Credits",c);break;default:r=""}r&&t.push(r),(c>0||"unlimited_images"===u||"unlimited_assets"===u)&&(n+=1)}return{creditLabels:t,noOfTypesOfNonZeroQuota:n}},getCreditLabelsData:y,getLocalizedStandardQuotaLabel:R,getLicensingEntitlementsQuotas:C};return k}),define("components/librariesDropdown",["jquery","page_config","i18n","i18n-config","app/client","lib/member","lib/susi","lib/utils"],function(e,t,n,a,i,s,r,o){"use strict";function l(e){e.find(".js-hover-menu-pre-library-loading-state").addClass("not-saving hidden"),e.find(".js-hover-menu-savinglibrary-spinner-state").addClass("not-saving hidden"),e.find(".js-hover-menu-creatinglibrary-spinner-state").addClass("not-saving hidden"),e.find(".js-hover-menu-active-state").removeClass("hidden"),e.find(".js-hover-menu-saved-state").addClass("hidden"),e.find(".js-post-saving-data-div").addClass("hidden"),e.find(".js-hover-menu").removeClass("must-show")}return{enterActiveState:l,exitLoadingState:function(e){e.find(".js-hover-menu-pre-library-loading-state").addClass("hidden"),l(e)},isSpinnerVisibleOnAsset:function(e){var t=e&&e.isDownloading||!1,n=e&&e.isSaving||!1,a=e&&e.isLicensing||!1,i=e&&e.saved||!1;return t||n||a||i}}}),define("hbs!templates/motMotModal/partials/dpcUsersRetentionMessage",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.modalWithHeaderFooterAndButton,e,{name:"modalWithHeaderFooterAndButton",hash:{footer_link:null!=(i=null!=e?e.properties:e)?i.button_link:i,footer_link_label:(t._||e&&e._||t.helperMissing).call(e,"MODAL::DPC_MIGRATION::See plans & pricing",{name:"_",hash:{},data:a}),body:(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"MODAL::DPC_MIGRATION::Your %s unused download from Dollar Photo Club has expired. Get your unused download back by simply subscribing to one of many Adobe Stock plans. Re-activated downloads are yours to keep for an additional year. Act now to get this limited-time offer.","MODAL::DPC_MIGRATION::Your %s unused downloads from Dollar Photo Club have expired. Get all the unused downloads back by simply subscribing to one of many Adobe Stock plans. Re-activated downloads are yours to keep for an additional year. Act now to get this limited-time offer.",null!=(i=null!=e?e.properties:e)?i.remaining_quota:i,{name:"ngettext",hash:{},data:a}),null!=(i=null!=e?e.properties:e)?i.remaining_quota:i,{name:"sprintf",hash:{},data:a}),subtitle:(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"MODAL::DPC_MIGRATION::Offer expires on %s",{name:"_",hash:{},data:a}),null!=(i=null!=e?e.properties:e)?i.offer_expiration_date:i,{name:"sprintf",hash:{},data:a}),title:(t._||e&&e._||t.helperMissing).call(e,"MODAL::DPC_MIGRATION::Re-activate your expired downloads today",{name:"_",hash:{},data:a})},data:a,indent:"    ",helpers:t,partials:n}))?i:""},3:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=e?e.properties:e)?i.show_no_plan_segment_message:i,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.program(6,a,0),data:a}))?i:""},4:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.modalWithHeaderFooterAndButton,e,{name:"modalWithHeaderFooterAndButton",hash:{footer_link:null!=(i=null!=e?e.properties:e)?i.button_link:i,footer_link_label:(t._||e&&e._||t.helperMissing).call(e,"MODAL::DPC_MIGRATION::See plans & pricing",{name:"_",hash:{},data:a}),body:(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"MODAL::DPC_MIGRATION::Your %1$s unused Dollar Photo Club download will expire soon. Subscribe to one of many Adobe Stock subscription plans before %2$s to keep your unused download for an additional year. Act now to get this limited-time offer.","MODAL::DPC_MIGRATION::Your %1$s unused Dollar Photo Club downloads will expire soon. Subscribe to one of many Adobe Stock subscription plans before %2$s to keep your unused downloads for an additional year. Act now to get this limited-time offer.",null!=(i=null!=e?e.properties:e)?i.remaining_quota:i,{name:"ngettext",hash:{},data:a}),null!=(i=null!=e?e.properties:e)?i.remaining_quota:i,null!=(i=null!=e?e.properties:e)?i.offer_expiration_date:i,{name:"sprintf",hash:{},data:a}),subtitle:(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"MODAL::DPC_MIGRATION::Valid until %s",{name:"_",hash:{},data:a}),null!=(i=null!=e?e.properties:e)?i.offer_expiration_date:i,{name:"sprintf",hash:{},data:a}),title:(t._||e&&e._||t.helperMissing).call(e,"MODAL::DPC_MIGRATION::Limited-time offer",{name:"_",hash:{},data:a})},data:a,indent:"        ",helpers:t,partials:n}))?i:""},6:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=e?e.properties:e)?i.show_promo_plan_segment_message:i,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:""},7:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n.modalWithHeaderFooterAndButton,e,{name:"modalWithHeaderFooterAndButton",hash:{footer_link:null!=(i=null!=e?e.properties:e)?i.button_link:i,footer_link_label:(t._||e&&e._||t.helperMissing).call(e,"MODAL::DPC_MIGRATION::Ok, got it",{name:"_",hash:{},data:a}),body:(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"MODAL::DPC_MIGRATION::Your %1$s unused Dollar Photo Club download is set to expire on %2$s. But, we have some great news! As long as you renew your current Adobe Stock subscription, you can keep your unused downloads for an additional year.","MODAL::DPC_MIGRATION::Your %1$s unused Dollar Photo Club downloads are set to expire on %2$s. But, we have some great news! As long as you renew your current Adobe Stock subscription, you can keep your unused downloads for an additional year.",null!=(i=null!=e?e.properties:e)?i.remaining_quota:i,{name:"ngettext",hash:{},data:a}),null!=(i=null!=e?e.properties:e)?i.remaining_quota:i,null!=(i=null!=e?e.properties:e)?i.offer_expiration_date:i,{name:"sprintf",hash:{},data:a}),subtitle:(t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"MODAL::DPC_MIGRATION::Valid until %s",{name:"_",hash:{},data:a}),null!=(i=null!=e?e.properties:e)?i.offer_expiration_date:i,{name:"sprintf",hash:{},data:a}),title:(t._||e&&e._||t.helperMissing).call(e,"MODAL::DPC_MIGRATION::Special offer for you",{name:"_",hash:{},data:a})},data:a,indent:"            ",helpers:t,partials:n}))?i:""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=(i=null!=e?e.properties:e)?i.is_expired_license:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(3,a,0),data:a}))?i:""},usePartial:!0,useData:!0})}),define("hbs!templates/motMotModal/partials/modalWithHeaderFooterAndButton",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i,s;return'    <div class="modal__footer">\n        <a href="'+this.escapeExpression("function"==typeof(s=null!=(s=t.footer_link||(null!=e?e.footer_link:e))?s:t.helperMissing)?s.call(e,{name:"footer_link",hash:{},data:a}):s)+'" '+(null!=(i=t.if.call(e,null!=e?e.target_blank:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:"")+'>\n            <button class="button button--dialog">\n                <span>'+this.escapeExpression("function"==typeof(s=null!=(s=t.footer_link_label||(null!=e?e.footer_link_label:e))?s:t.helperMissing)?s.call(e,{name:"footer_link_label",hash:{},data:a}):s)+"</span>\n            </button>\n        </a>\n    </div>\n"},2:function(e,t,n,a){return'target="_blank"'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="modal__header">\n    <div class="text-sregular">\n        '+this.escapeExpression("function"==typeof(s=null!=(s=t.title||(null!=e?e.title:e))?s:t.helperMissing)?s.call(e,{name:"title",hash:{},data:a}):s)+"\n        <br>\n        "+this.escapeExpression("function"==typeof(s=null!=(s=t.subtitle||(null!=e?e.subtitle:e))?s:t.helperMissing)?s.call(e,{name:"subtitle",hash:{},data:a}):s)+'\n    </div>\n</div>\n<div class="modal__content">\n  <p>'+this.escapeExpression("function"==typeof(s=null!=(s=t.body||(null!=e?e.body:e))?s:t.helperMissing)?s.call(e,{name:"body",hash:{},data:a}):s)+"</p>\n</div>\n"+(null!=(i=t.if.call(e,null!=e?e.footer_link:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")},useData:!0})}),define("app/utils/dunamis/dunamisBannedCountry",["lib/analytics/dunamis","quickerCheckout/analytics/dunamis/dunamisCatchWrapper","lodash","quickerCheckout/analytics/dunamis/dunamisUtils"],function(e,t,n,a){"use strict";return{send:function(i,s,r){t.execFunction(function(){var t=s?e.constants.CLICK:e.constants.VISIT,o={"event.workflow":"stock-checkout","event.subcategory":"banned-country"};r&&(o["content.id"]=r.content_id,o[e.constants.PROPERTIES.CHECKOUT.SELECTED_PURCHASE_OPTION]=r.product_key),a.trackWrapper(t,i,o,null,n.get(r,"extras.options"))},"error-banned-country","banned-country-modal")}}}),define("lib/keepAlive",["page_config","lib/ajax","lib/window"],function(e,t,n){"use strict";var a=3e5;function i(){t.post(e.base_url+"/Ajax/KeepAlive").done(s).fail(function(e){403===e.status&&n.reloadLocation()})}function s(){n.setTimeout(i,a)}return{scheduleProbe:s,probe:i}}),define("lib/analytics/promoBanner",["app/constants/analytics","lib/analytics","lib/analytics/dunamis","jquery"],function(e,t,n,a){"use strict";return{sendImpressionAnalytics:function(e,t=""){var i,s={},r=n.constants;(e||t)&&(e&&(s[r.EVENT_WORKFLOW_PROPERTY]=r.STOCK_CHECKOUT,s[r.PROPERTIES.CHECKOUT.SELECTED_PURCHASE_OPTION]=e),i=e?r.BLUE_BANNER:t,n.track(r.VISIT,i,s,a("body")))},sendBlueBannerAnalytics:function(i,s,r,o){var l={},c=n.constants,u=t.determineFindingMethod();t.setSelectionMethod(e.SELECTION_DIRECT),l[c.EVENT_WORKFLOW_PROPERTY]=c.STOCK_CHECKOUT,l[c.PROPERTIES.CHECKOUT.FINDING_METHOD]=u,l[c.PROPERTIES.CHECKOUT.SELECTION_METHOD]=e.SELECTION_DIRECT,l[c.PROPERTIES.CHECKOUT.SELECTED_PURCHASE_OPTION]=s,n.track(c.CLICK,o,l,a("body"))},setAnalyticsLib:function(e){t=e}}}),define("lib/promoBannerManager",["page_config","lib/member","lib/utils","app/utils/search","lib/analytics/promoBanner","app/utils/routes"],function(e,t,n,a,i,s){"use strict";var r,o=[{id:"cce-pro-banner",offer:"enterprise",dunamisSubtype:"blue-banner-cce-pro"},{id:"free-promo",offer:"subscriptions",test:h},{id:"free-banner",offer:"subscriptions",test:h},{id:"team-promo-banner",offer:"team"},{id:"ft-migration-promo-banner",offer:"fotolia"},{id:"enterprise-promo-banner",offer:"enterprise"},{id:"credit-pack-video-banner",offer:"credit",test:p},{id:"subscription-video-banner",offer:"subscriptions",test:_},{id:"fmf-promo",offer:"subscriptions",test:f},{id:"fmf",offer:"subscriptions",test:f},{id:"team-plan-phone-banner",offer:"team"},{id:"enterprise-access-request-banner",offer:"enterprise-access-request"}],l="na";function c(){return e.universalSubscriptionFlags&&e.universalSubscriptionFlags.isEligibleForUniversalPlanPurchase}function u(){return e.universalSubscriptionFlags&&e.universalSubscriptionFlags.isEligibleForUniversalPlanUse}function d(){return e.universalSubscriptionFlags&&e.universalSubscriptionFlags.isEligibleForUniversalPlanUpgrade}function p(){return!(u()||c())&&(a.isNonFmfPage()||a.isVideoAssetType()||s.isVideoDetailsPage())}function _(){var e=s.isHomePageRoute()||s.isPlansPageRoute(),n=a.isNonFmfPage()||a.isVideoAssetType()||s.isVideoDetailsPage(),i=!e&&n;if(c()&&!u()||d()){if(t.isDelegateWithPlanButEligibleFoUniversalPlanTrial())return!s.isPlansPageRoute()&&n;if(d()){var r=!a.isVideoAssetType()&&!s.isVideoDetailsPage()&&!e;return i||e||r}return i}return!1}function h(){return t.isFMFEligible()&&a.isFreeAssetType()}function f(){return t.isFMFEligible()&&!a.isNonFmfPage()}return{updateUI:function(){var e,t,a,s,c=!1;for(r=l,t=0;t<o.length;t++){if(!(e=o[t]).element){if(!1===e.element)continue;if(e.element=document.getElementById(e.id)||!1,!e.element)continue}c||e.testAndTarget||e.test&&!e.test()?n.updateAttribute(e.element,"data-is-hidden","true"):(n.updateAttribute(e.element,"data-is-hidden","false"),r=e.offer,c=!0,a=e.element.dataset.productKey,s=e.dunamisSubtype||"")}i.sendImpressionAnalytics(a,s)},getPromoOffer:function(){return r||l},_shouldDisplaySubscriptionVideoBanner:_,_shouldDisplayCreditVideoBanner:p}}),define("app/observers/globalObservers",["jquery","app/utils/observer","lib/promoBannerManager","page_config"],function(e,t,n,a){"use strict";function i(e){e&&n.updateUI()}return{init:function(){t.observe(function(e){return e.member.hasSubscription},i)},handleMemberChange:i}}),define("hbs!templates/motMotModal/partials/cantBuyTeams",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return"padding-bottom-small"},3:function(e,t,n,a){return"padding-bottom-large"},5:function(e,t,n,a){var i;return'                <p data-t="cant-buy-teams-become-admin-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::TEAM::To purchase a team plan yourself, you can become the admin of a new team.",{name:"_",hash:{},data:a}))+'</p>\n\n                <div class="row padding-top-large padding-bottom-medium">\n                    <div class="v-align-wrapper ">\n                        <div class="c-align">\n                            <a id="cant-buy-team-plan-link" href="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.properties:e)?i.business_center_url:i,e))+'" data-ingest-clicktype="start-a-new-team" class="button button--action" data-t="cant-buy-teams-start-team-link">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::TEAM::Start a New Team",{name:"_",hash:{},data:a}))+'</a>\n                        </div>\n                    </div>\n                </div>\n                <div class="padding-top-medium"></div>\n\n                <span class="grey silver-sand-text" data-t="cant-buy-teams-personal-use-text">\n                    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::TEAM::You can also purchase a plan for your personal use.",{name:"_",hash:{},data:a}))+'\n                    <a data-ingest-clicktype="plan-options" class="blue picton-text js-cant-buy-teams" href="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.properties:e)?i.plans_page_url:i,e))+'" data-t="cant-buy-teams-see-personal-link">\n                        '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::TEAM::See plan options >",{name:"_",hash:{},data:a}))+"\n                    </a>\n                </span>\n"},7:function(e,t,n,a){return'                <p data-t="cant-buy-teams-cp-personal-use-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::TEAM::You can also purchase a plan for your personal use.",{name:"_",hash:{},data:a}))+"</p>\n"},9:function(e,t,n,a){return"padding-bottom-xsmall"},11:function(e,t,n,a){return"padding-top-xlarge"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="container-smedium-height-max" data-ingest-subcategory="delegate-cannot-complete-purchase" data-ingest-workflow="stock-checkout">\n    <div class="row grey heavy-metal-text">\n        <div class="column on-small-10 on-small-offset-1">\n            <div class="row padding-top-large '+(null!=(i=t.if.call(e,null!=(i=null!=e?e.properties:e)?i.is_credit_packs:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(3,a,0),data:a}))?i:"")+'">\n                <i class="mti-icon mti-3x icon-teams grey silver-sand-text"></i>\n            </div>\n\n            <p data-t="cant-buy-teams-only-admins-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::TEAM::Only admins can add Adobe Stock to a team account. To add Adobe Stock to an existing team, please contact your admin.",{name:"_",hash:{},data:a}))+"</p>\n\n"+(null!=(i=t.unless.call(e,null!=(i=null!=e?e.properties:e)?i.is_credit_packs:i,{name:"unless",hash:{},fn:this.program(5,a,0),inverse:this.program(7,a,0),data:a}))?i:"")+'\n            <div class="'+(null!=(i=t.if.call(e,null!=(i=null!=e?e.properties:e)?i.is_credit_packs:i,{name:"if",hash:{},fn:this.program(9,a,0),inverse:this.program(11,a,0),data:a}))?i:"")+'"></div>\n        </div>\n        <div class="column on-small-1"></div>\n    </div>\n</div>\n'},useData:!0})}),define("hbs!templates/motMotModal/partials/cantBuyTeamsFooter",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<a data-ingest-clicktype="click" data-ingest-subtype="plan-options" data-ingest-subcategory="delegate-cannot-complete-purchase" data-ingest-workflow="stock-checkout" class="button button--dialog js-cant-buy-teams" href="'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.properties:e)?i.plans_page_url:i,e))+'" data-t="see-personal-offers-footer-link">\n    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::TEAM::See Personal Offers",{name:"_",hash:{},data:a}))+"\n</a>\n"},useData:!0})}),define("components/modalCantBuyTeams",["components/motMotModal","hbs!templates/motMotModal/partials/cantBuyTeams","hbs!templates/motMotModal/partials/cantBuyTeamsFooter","lib/analytics","page_config","i18n-config","lib/member","app/utils/routes","app/constants/index","app/constants/analytics","lib/analytics/dunamis","quickerCheckout/analytics/dunamis/dunamisCatchWrapper"],function(e,t,n,a,i,s,r,o,l,c,u,d){"use strict";return{show:function(a){var c={templateParams:{usingDefault:!0,width:"medium"},partial:t,title:s.gettext("MODAL::TEAM::Cannot complete purchase"),partialProperties:{business_center_url:"https://creative.adobe.com/plans?plan=team&step=2&store_code=us&promoid=7RZ369KZ&mv=other",plans_page_url:i.base_url}},p={},_=u.constants;r.isTeam()?c.partialProperties.plans_page_url+=o.getSwitchPersonalRoute(l.routes.PLANS+"?switched=1"):c.partialProperties.plans_page_url+=l.routes.PLANS,a&&a.isCreditPacks&&(c.partialProperties.is_credit_packs=!0,c.templateParams.footer=!0,c.additionalPartials={modalFooter:n}),a&&a.businessCenterUrl&&(c.partialProperties.business_center_url=a.businessCenterUrl),e.show("usingPartial",c),p[_.EVENT_WORKFLOW_PROPERTY]=_.STOCK_CHECKOUT,p[_.EVENT_SUBCATEGORY_PROPERTY]=_.DELEGATE_CANNOT_COMPLETE_PURCHASE,d.execFunction(function(){u.track(u.constants.VISIT,u.constants.PAGE_VIEW,p)},"error-team-delegate-cannot-complete-purchase","team-delegate-cannot-complete-purchase-modal")}}}),define("quickerCheckout/adobestock/trackingPixels",["lodash","lib/member","lib/utils","lib/analytics/utils","page_config","lib/cookie","lib/window","lib/susi"],function(e,t,n,a,i,s,r,o){"use strict";function l(){var e=(r.getLocation().hostname+r.getLocation().pathname).split("/"),t=e.indexOf("Library"),n={africa:1,at:1,au:1,be:1,be_en:1,be_fr:1,be_nl:1,bg:1,br:1,ca:1,ca_es:1,ca_fr:1,ch:1,ch_de:1,ch_fr:1,ch_it:1,cin:1,cn:1,cs:1,cs_cz:1,cy:1,cy_en:1,cz:1,da:1,da_dk:1,de:1,de_de:1,dk:1,ee:1,eeurope:1,en:1,en_gb:1,en_us:1,es:1,es_es:1,eu_es:1,fi:1,fi_fi:1,fr:1,fr_fr:1,gr:1,gr_en:1,hk:1,hk_en:1,hk_zh:1,hr:1,hr_hr:1,hu:1,hu_hu:1,ie:1,il:1,il_en:1,il_he:1,in:1,it:1,it_it:1,ja:1,ja_jp:1,jp:1,ko:1,ko_kr:1,kr:1,la:1,lt:1,lu:1,lu_de:1,lu_en:1,lu_fr:1,lv:1,mena:1,mena_ar:1,mena_en:1,mena_fr:1,mt:1,mx:1,na:1,nb:1,nb_no:1,nl:1,nl_nl:1,no:1,nz:1,pl:1,pl_pl:1,pt:1,pt_br:1,ro:1,ro_ro:1,rs:1,ru:1,ru_ru:1,se:1,sea:1,si:1,sk:1,sk_sk:1,sl_si:1,sv:1,sv_se:1,tr:1,tr_tr:1,tw:1,tw_cn:1,ua:1,uk:1,uk_ua:1,us:1,za:1,zh_cn:1,zh_tw:1,"zh-tw":1};return e.filter(function(a,i){return a&&""!==a&&!(1===i&&n.hasOwnProperty(a.toLowerCase()))&&!(i===e.length-1&&-1!==t)&&!(i===e.length-1&&null!==a.match(/^\d+$/))}).join(":").toLowerCase()}function c(){var e,a=s("aam_uuid")||"",i=n.getQueryParam("aas_unique_submission_id")||"";o.ready.then(function(){e=t.getCleanGuid(!0)||"",void 0!==window.s_adbadobenonacdc&&void 0!==window.s_adbadobenonacdc.visitor&&window.s_adbadobenonacdc.visitor.getMarketingCloudVisitorID()&&f("https://servedby.flashtalking.com/container/13539;99030;10307;iframe/?"+("ftXRef=&ftXValue=&ftXType=&ftXName=&ftXNumItems=&ftXCurrency=&U1="+a+"&U2="+e+"&U3="+window.s_adbadobenonacdc.visitor.getMarketingCloudVisitorID()+"&U4="+encodeURIComponent(l())+"&U5=&U6=&U7=&U8=&U9=&U10=&U11="+i+"&U12=&U13=&U14=&U15=&U16=&U17=&U18=&U19=&U20=&ft_referrer="+encodeURIComponent(r.getLocation().href.split(/[?%23]/)[0])+"&ns="+encodeURIComponent(r.getReferrer().split(/[?%23]/)[0])+"&cb="+1e13*Math.random()),{"data-t":"adobe-one-tag-tracking-page-load",sandbox:"allow-scripts"})})}function u(){f("/sandboxed_tags.html",{"data-t":"sandboxed-tags",id:"sandboxed-tags",sandbox:"allow-scripts"})}function d(){window._linkedin_data_partner_id="872";var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://snap.licdn.com/li.lms-analytics/insight.min.js",e.setAttribute("data-t","linkedin-tracking"),h(e)}function p(){if(i.isLaunchEnabled){var e=document.createElement("script");e.src="//www.googletagmanager.com/gtag/js?id=AW-987390658",e.async=!0,e.setAttribute("data-t","google-gtag-tracking"),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config","AW-987390658"),window.gtag("config","AW-1004494713"),window.gtag("config","AW-983956512"),h(e)}}function _(){var e;window.uetq||((e=document.createElement("script")).src="//bat.bing.com/bat.js",e.async=!0,e.onload=e.onreadystatechange=function(){var t,n=this.readyState;n&&"loaded"!==n&&"complete"!==n||((t={ti:"5190105"}).q=window.uetq,window.uetq=new UET(t),window.uetq.push("pageLoad"),e.onload=e.onreadystatechange=null)},e.setAttribute("data-t","bing-uet-tracking"),h(e))}function h(e){var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}function f(e,t){var a=document.createElement("iframe");a.setAttribute("src",e),a.setAttribute("width","1"),a.setAttribute("height","1"),a.setAttribute("frameborder",0),a.setAttribute("style","display:none"),Object.keys(t).forEach(function(e){n.updateAttribute(a,e,t[e])}),document.body.appendChild(a)}function E(e,t,a,i){var s=document.createElement("img"),r="https://www.facebook.com/tr?id="+e+"&ev="+t+"&noscript=1&dpo=LDU&dpoco=0&dpost=0";Object.keys(i).forEach(function(e){r+="&cd["+e+"]="+i[e]}),s.setAttribute("src",encodeURI(r)),s.setAttribute("width","1"),s.setAttribute("height","1"),s.setAttribute("style","display:none"),n.updateAttribute(s,"data-t",a),document.body.appendChild(s)}return{fireTrackingPixelsForPageLoad:function(){a.onPrivacyConsent(function(){u(),c(),d(),_(),E(0x64bf3b5cffd55,"PageView","fb-page-view-tracking",{}),p()})},loadSandboxedTagsIframe:u,loadLinkedinForPageLoad:d,loadBingForPageLoad:_,loadAdobeOneTagForPageLoad:c,cleanUpTrackingPixels:function(){['[data-t="double-click-tracking-videos-and-creditpacks"]','[data-t="double-click-tracking"]','[data-t="double-trader"]',".js-admarketplacepixel",'[data-t="fb-tracking"]','[data-t="one-tag-tracking"]','[data-t="flood-light-tracking"]','[data-t="google-ads-tracking"]','[data-t="linkedin-tracking"]','[data-t="bing-uet-tracking"]','[data-t="one-tag-tracking-page-load"]','[data-t="sandboxed-tags"]','[data-t="fb-page-view-tracking"]','[data-t="fb-start-trial-tracking"]','[data-t="fb-purchase-tracking"]','[data-t="fb-download-tracking"]','[data-t="media-forge"]','[data-t="google-gtag-tracking"]'].forEach(function(e){var t=document.querySelector(e);t&&t.parentNode&&t.parentNode.removeChild(t)})},getPageName:l,buildFacebookTrackingPixel:E,loadGoogleGtagForPageLoad:p}}),define("app/actions/checkoutActions",["lodash","app/actions/actionTypes"],function(e,t){"use strict";var n="asset_details.content_id";return{quickerCheckoutOpen:function(a){var i=e.get(a,n);return{contentId:parseInt(i,10),type:t.QUICKER_CHECKOUT_OPEN}},quickerCheckoutClose:function(a){var i=e.get(a,n);return{contentId:parseInt(i,10),type:t.QUICKER_CHECKOUT_CLOSE}},quickerCheckoutComplete:function(a){var i=e.get(a,n);return{contentId:parseInt(i,10),type:t.QUICKER_CHECKOUT_DONE}},quickerCheckoutError:function(a){var i=e.get(a,n);return{contentId:parseInt(i,10),type:t.QUICKER_CHECKOUT_DONE}},buyLicense:function(e,n){return{contentId:parseInt(e,10),promise:n,type:t.BUY_LICENSE}},downloadAsset:function(e,n){return{contentId:parseInt(e,10),promise:n,type:t.DOWNLOAD_ASSET}},saveAsset:function(e,n){return{contentId:parseInt(e,10),promise:n,type:t.SAVE_ASSET}},saveAssetComplete:function(e){return{contentId:parseInt(e,10),type:t.SAVE_ASSET_COMPLETE}},waitQuickerCheckoutModalOpen:function(e){return{contentId:parseInt(e,10),type:t.WAIT_QUICKER_CHECKOUT_MODAL_OPEN}}}}),define("lib/checkout",["jquery","lib/member","lib/susi","page_config","app/constants/analytics","lib/analytics"],function(e,t,n,a,i,s){"use strict";var r,o=a.ANYWARE.anyware_tracking_enabled,l=!1;return{_container:null,_initialized:null,setup:function(e){r=e},init:function(n){var i=n||a.ANYWARE;if(!i)throw new Error("Anyware Config Options are not set");if(this._initialized||(this._initialized=new e.Deferred),!e.fn.anyware_checkout)return l||(l=!0,require(["anyware"])),setTimeout(this.init.bind(this,i),100),this._initialized;this._container=e("<div>"),this._container.anyware_checkout({clientId:i.CLIENT_ID,countryCode:t.getCountryCode(),universalMode:!0,landscape:i.LANDSCAPE});var s=this;return this._container.on("configured",function(){setTimeout(s._initialized.resolve,2500)}),this._initialized},destroy:function(){this._container&&(this._container.remove(),this._container=null),this._initialized=null},purchase:function(l){var c=this,u=(l.productKey,e.Deferred()),d=e(".js-fmf-params"),p={is_fotolia_migration:!!l.isFotoliaMigration,fotolia_segment:l.fotoliaMigrationSegment,fotolia_ab_testing_segment:l.fotoliaMigrationAbTestingSegment,finding_method:s.determineFindingMethod(),selection_method:i.SELECTION_DIRECT};return r?(d.length>0&&(p.is_fmf_enabled=d.data("fmf-enabled")),r.start(l.productKey,{contentId:l.imageId,extrasOptions:p})):(this._initialized||this.init(),e.when(n.ready,this._initialized).done(function(){if(!l.forcePurchaseValidation&&t.isLoggedIn()){var n=window.location.protocol+"//"+window.location.host+a.base_url,i=n+"/Orderconfirmation?order_number={{orderNumber}}&fulfillment_method="+window.encodeURIComponent(l.fulfillmentMethod)+"&product_key="+window.encodeURIComponent(l.productKey),s=n+"/Error/Checkout";o&&(i+="&nb={{isNewBuyer}}&products={{productList}}&currency={{currency}}&payment={{payment}}");var r={};l.imageId&&(r.image_id=l.imageId),l.libraryId&&(r.library_id=l.libraryId),l.action&&(r.action=l.action),l.licenseId&&(r.license_id=l.licenseId);var d=e.param(r);""!==d&&(d="&"+d),i+=d;var p="GB"===t.getCountryCode()?"EN":"MULT";window.setTimeout(function(){window.location=s},1e3*a.ANYWARE.TIMEOUT);var _={imsContextId:a.ANYWARE.DEFAULT_IMS_CONTEXT_ID,confirmPageUrl:i,cancelPageUrl:s,countryCode:t.getCountryCode(),marketSegment:l.marketSegment,items:[{productKey:l.productKey,quantity:1,languageCode:p,serviceCommitment:l.serviceCommitment,fulfillmentMethod:l.fulfillmentMethod}]};c._container.anyware_checkout("startUniversalCheckout",_)}else{var h={product_key:l.productKey,country_code:t.getCountryCode(),service_commitment:l.serviceCommitment,fulfillment_method:l.fulfillmentMethod};l.imageId&&(h.image_id=l.imageId),l.libraryId&&(h.library_id=l.libraryId),l.action&&(h.action=l.action),l.licenseId&&(h.license_id=l.licenseId);var f=a.base_url+"/Purchase/Validate";f+="?"+e.param(h),window.location=f}u.resolve()}),u.promise())}}}),define("hbs!templates/modalWindow/ccePlanChoice",["Handlebars"],function(e){return e.template({1:function(e,t,n,a,i,s){var r;return null!=(r=t.each.call(e,null!=e?e.possible_licenses:e,{name:"each",hash:{},fn:this.program(2,a,1,i,s),inverse:this.noop,data:a,blockParams:i}))?r:""},2:function(e,t,n,a,i,s){var r;return null!=(r=t.with.call(e,t.lookup.call(e,null!=s[1]?s[1].license_details:s[1],i[0][0],{name:"lookup",hash:{},data:a,blockParams:i}),{name:"with",hash:{},fn:this.program(3,a,0,i,s),inverse:this.noop,data:a,blockParams:i}))?r:""},3:function(e,t,n,a,i,s){var r,o;return'            <div class="padding-top-medium" data-t="modal-multiple-choices-plan-'+this.escapeExpression(this.lambda(i[1][0],e))+'">\n                <label class="switch switch--card" '+(null!=(r=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:(r=a&&a.root)&&r.default_license_id,logic:"eq",value:i[1][0]},fn:this.program(4,a,0,i,s),inverse:this.noop,data:a,blockParams:i}))?r:"")+'>\n                    <div class="row">\n                        <div class="column on-medium-8 on-large-8 on-small-8">\n                            <input\n                                class="js-cce-multiple-choices-plan"\n                                type="radio" name="options"\n                                title="'+this.escapeExpression("function"==typeof(o=null!=(o=t.user_facing_detail_panel_license_tab_label||(null!=e?e.user_facing_detail_panel_license_tab_label:e))?o:t.helperMissing)?o.call(e,{name:"user_facing_detail_panel_license_tab_label",hash:{},data:a,blockParams:i}):o)+'"\n                                value="'+this.escapeExpression(this.lambda(i[1][0],e))+'"\n'+(null!=(r=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:(r=a&&a.root)&&r.default_license_id,logic:"eq",value:i[1][0]},fn:this.program(6,a,0,i,s),inverse:this.noop,data:a,blockParams:i}))?r:"")+"                            />\n                            <span>\n                                <strong>"+this.escapeExpression("function"==typeof(o=null!=(o=t.user_facing_detail_panel_license_tab_label||(null!=e?e.user_facing_detail_panel_license_tab_label:e))?o:t.helperMissing)?o.call(e,{name:"user_facing_detail_panel_license_tab_label",hash:{},data:a,blockParams:i}):o)+"</strong>\n                                <span>"+this.escapeExpression(this.lambda(null!=(r=null!=e?e.asset_details:e)?r.resolution:r,e))+'</span>\n                            </span>\n                            <div class="switch__content">\n'+(null!=(r=t.if.call(e,null!=e?e.license_price:e,{name:"if",hash:{},fn:this.program(8,a,0,i,s),inverse:this.noop,data:a,blockParams:i}))?r:"")+'                            </div>\n                        </div>\n                        <div class="column on-medium-4 on-large-4 on-small-4">\n                            <div class="margin-left-small">\n                                <img alt="'+this.escapeExpression(this.lambda(null!=s[2]?s[2].title:s[2],e))+'" src="'+this.escapeExpression(this.lambda(null!=s[2]?s[2].thumbnail_url:s[2],e))+'" class="responsive-img"/>\n                            </div>\n                        </div>\n                    </div>\n                </label>\n            </div>\n'},4:function(e,t,n,a){return'data-active="true"'},6:function(e,t,n,a){return'                                    checked="true"\n'},8:function(e,t,n,a){var i,s;return'                                    <p class="blue bleu-de-france-text text-medium font-semibold">\n                                        '+this.escapeExpression("function"==typeof(s=null!=(s=t.license_price||(null!=e?e.license_price:e))?s:t.helperMissing)?s.call(e,{name:"license_price",hash:{},data:a}):s)+"\n                                    </p>\n"+(null!=(i=t.if.call(e,null!=e?e.facing_price:e,{name:"if",hash:{},fn:this.program(9,a,0),inverse:this.noop,data:a}))?i:"")},9:function(e,t,n,a){var i;return"                                        <p>\n                                            "+this.escapeExpression("function"==typeof(i=null!=(i=t.facing_price||(null!=e?e.facing_price:e))?i:t.helperMissing)?i.call(e,{name:"facing_price",hash:{},data:a}):i)+"\n                                        </p>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a,i,s){var r;return null!=(r=t.with.call(e,null!=e?e.content:e,{name:"with",hash:{},fn:this.program(1,a,0,i,s),inverse:this.noop,data:a,blockParams:i}))?r:""},useData:!0,useDepths:!0,useBlockParams:!0})}),define("hbs!templates/modalWindow/planChoice",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i,s;return'    <div class="content-type-block">\n        <div class="content">\n            <span>'+this.escapeExpression("function"==typeof(s=null!=(s=t.width||(null!=e?e.width:e))?s:t.helperMissing)?s.call(e,{name:"width",hash:{},data:a}):s)+"</span>&nbsp;x&nbsp;<span>"+this.escapeExpression("function"==typeof(s=null!=(s=t.height||(null!=e?e.height:e))?s:t.helperMissing)?s.call(e,{name:"height",hash:{},data:a}):s)+"&nbsp;</span>"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"FILE::px",{name:"_",hash:{},data:a}))+"\n        </div>\n\n"+(null!=(i=t.if.call(e,null!=e?e.has_quota:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.program(4,a,0),data:a}))?i:"")+'\n        <button class="rounded-button rounded-blue button-tall buy-button js-modal-window-multiple-choice-button\n'+(null!=(i=t.if.call(e,(i=a&&a.root)&&i.saved_comp,{name:"if",hash:{},fn:this.program(8,a,0),inverse:this.program(16,a,0),data:a}))?i:"")+'        " data-type-id="'+this.escapeExpression("function"==typeof(s=null!=(s=t.license_id||(null!=e?e.license_id:e))?s:t.helperMissing)?s.call(e,{name:"license_id",hash:{},data:a}):s)+'">'+this.escapeExpression("function"==typeof(s=null!=(s=t.button_label||(null!=e?e.button_label:e))?s:t.helperMissing)?s.call(e,{name:"button_label",hash:{},data:a}):s)+"</button>\n    </div>\n"},2:function(e,t,n,a){return'            <div class="content bold">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"PURCHASE::LICENSE::Free",{name:"_",hash:{},data:a}))+"</div>\n"},4:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.locale_price:e,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:""},5:function(e,t,n,a){var i,s;return'                <div class="content bold">\n                    '+this.escapeExpression("function"==typeof(s=null!=(s=t.locale_price||(null!=e?e.locale_price:e))?s:t.helperMissing)?s.call(e,{name:"locale_price",hash:{},data:a}):s)+"\n                </div>\n"+(null!=(i=t.if.call(e,null!=e?e.facing_price:e,{name:"if",hash:{},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")},6:function(e,t,n,a){var i;return'                    <div class="content">\n                        ('+this.escapeExpression("function"==typeof(i=null!=(i=t.facing_price||(null!=e?e.facing_price:e))?i:t.helperMissing)?i.call(e,{name:"facing_price",hash:{},data:a}):i)+")\n                    </div>\n"},8:function(e,t,n,a){var i;return null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"4K",logic:"eq",value:(i=a&&a.root)&&i.saved_comp},fn:this.program(9,a,0),inverse:this.program(12,a,0),data:a}))?i:""},9:function(e,t,n,a){var i;return null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"4",logic:"eq",value:null!=e?e.license_id:e},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:""},10:function(e,t,n,a){return"                        selected\n"},12:function(e,t,n,a){var i;return null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"HD",logic:"eq",value:(i=a&&a.root)&&i.saved_comp},fn:this.program(13,a,0),inverse:this.noop,data:a}))?i:""},13:function(e,t,n,a){var i;return null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"3",logic:"eq",value:null!=e?e.license_id:e},fn:this.program(14,a,0),inverse:this.noop,data:a}))?i:""},14:function(e,t,n,a){return"                            selected\n"},16:function(e,t,n,a){var i;return null!=(i=(t["in-array"]||e&&e["in-array"]||t.helperMissing).call(e,{name:"in-array",hash:{array:(i=a&&a.root)&&i.licenseIds,value:null!=e?e.license_id:e},fn:this.program(17,a,0),inverse:this.noop,data:a}))?i:""},17:function(e,t,n,a){return"                    selected\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.each.call(e,null!=e?e.content:e,{name:"each",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:""},useData:!0})}),define("hbs!templates/modalWindow/saveChoice",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i,s;return'    <div class="content-type-block">\n        <div class="content">\n            <span>'+this.escapeExpression("function"==typeof(s=null!=(s=t.width||(null!=e?e.width:e))?s:t.helperMissing)?s.call(e,{name:"width",hash:{},data:a}):s)+"</span>&nbsp;x&nbsp;<span>"+this.escapeExpression("function"==typeof(s=null!=(s=t.height||(null!=e?e.height:e))?s:t.helperMissing)?s.call(e,{name:"height",hash:{},data:a}):s)+"&nbsp;</span>"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"FILE::px",{name:"_",hash:{},data:a}))+'\n        </div>\n        <div class="content bold"></div>\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"3",logic:"eq",value:null!=e?e.license_id:e},fn:this.program(2,a,0),inverse:this.program(4,a,0),data:a}))?i:"")+"    </div>\n"},2:function(e,t,n,a){var i;return'            <button class="rounded-button rounded-blue button-tall buy-button js-modal-window-multiple-choice-button" data-type-id="'+this.escapeExpression("function"==typeof(i=null!=(i=t.license_id||(null!=e?e.license_id:e))?i:t.helperMissing)?i.call(e,{name:"license_id",hash:{},data:a}):i)+'">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"COMP::VIDEO::MODAL::Save HD",{name:"_",hash:{},data:a}))+"</button>\n"},4:function(e,t,n,a){var i;return'            <button class="rounded-button rounded-blue button-tall buy-button js-modal-window-multiple-choice-button selected" data-type-id="'+this.escapeExpression("function"==typeof(i=null!=(i=t.license_id||(null!=e?e.license_id:e))?i:t.helperMissing)?i.call(e,{name:"license_id",hash:{},data:a}):i)+'">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"COMP::VIDEO::MODAL::Save 4K",{name:"_",hash:{},data:a}))+"</button>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.each.call(e,e,{name:"each",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:""},useData:!0})}),define("lib/librariesWidget",["jquery","i18n-config","page_config","lib/modal-window","lib/checkout","lib/analytics","lib/ajax","lib/utils","lib/member","lib/license","hbs!templates/modalWindow/ccePlanChoice","hbs!templates/modalWindow/planChoice","hbs!templates/modalWindow/saveChoice","i18n","lib/librariesStore"],function(e,t,n,a,i,s,r,o,l,c,u,d,p,_,h){"use strict";return{computeLibrariesData:function(e){return h.getLibraryById(e).then(function(e){var t={};return t.defaultLib=e||{id:"desktop",name:o.getSaveToDeviceI18nText()},t.libraryForBuying=t.defaultLib,t})},purchaseVideoMessage:function(e,n,s,r,o){a.showPurchaseVideoMessage({subject:t.gettext("PURCHASE::VIDEO::MODAL::SUBJECT::Confirm Purchase"),question:s.message,cancel_button_label:t.gettext("MODAL::Cancel"),confirm_button_label:t.gettext("MODAL::Buy video")}).then(function(){if("STOCK_DEMAND"===s.orderInfo.fulfillment_method){var a={productKey:s.orderInfo.product_key,serviceCommitment:s.orderInfo.service_commitment,fulfillmentMethod:s.orderInfo.fulfillment_method,imageId:e,libraryId:n,action:"Save"};i.purchase(a).then(function(){r.resolve(),o()}).fail(function(){r.reject()})}else s.next().then(function(e){r.resolve(e),o()}).fail(function(e){var n,a,i=e.responseJSON;i&&(n=i.error,a=i.action),n||(n=t.gettext("API::LIBRARIES::We are experiencing technical difficulties. Please try again later.")),r.reject({error:n,action:a})});return r},function(e){o(e)})},modalMultipleChoices:function(i,s,o){var h,f,E,m,g,T,b,v=i,I=n.base_url+"/Order/Video/"+v,S="License"===s,A=S&&l.isDefaultEntitlementCCE(v),O=[c.LICENSE_ID_STANDARD,c.LICENSE_ID_4K];if(o.representations&&o.representations[0]["adobestock#trackingdata"]&&o.representations[0]["video#data"]&&"not_purchased"==o.representations[0]["adobestock#trackingdata"].state&&(E=o.representations[0]["video#data"].resolution),o.is_video?(m=l.hasVideoQuota(v),g=_.sprintf(t.gettext("PURCHASE::VIDEO::MODAL::SUBJECT::License the %sHD%s or %s4K%s version?"),"<strong>","</strong>","<strong>","</strong>"),T=_.sprintf(t.gettext("PURCHASE::VIDEO::MODAL::SUBJECT::Buy the %sHD%s or %s4K%s version?"),"<strong>","</strong>","<strong>","</strong>")):o.is_premium&&(m=l.hasStandardQuota(v),g=_.sprintf(t.gettext("PURCHASE::IMAGE::MODAL::SUBJECT::License the %sLarge%s or %sSmall%s version?"),"<strong>","</strong>","<strong>","</strong>"),T=_.sprintf(t.gettext("PURCHASE::IMAGE::MODAL::SUBJECT::Buy the %sLarge%s or %sSmall%s version?"),"<strong>","</strong>","<strong>","</strong>")),S?h=m?g:T:"Save"===s&&(h=_.sprintf(t.gettext("COMP::VIDEO::MODAL::SUBJECT::Save the %sHD%s or %s4K%s version?"),"<strong>","</strong>","<strong>","</strong>"),f=t.gettext("COMP::VIDEO::MODAL::SUBTEXT::You can license either version later"),I+="?watermarked=1"),A)return a.show("cceMultipleChoices",o),b=c.getLicenseIdByLicenseAbbr(E),void e("#js-container-multiple-choices").html(u({content:o,default_license_id:b||c.getContentDefaultLicenseId(o,O)}));a.show("multipleChoices",{subject:h,subtext:f}),r.get(I).then(function(t){S?e("#js-container-multiple-choices").html(d({content:t,saved_comp:E,licenseIds:O})):"Save"===s&&e("#js-container-multiple-choices").html(p(t))},function(n){e("#js-container-multiple-choices").html(t.gettext("MODAL::MULTIPLE::CHOICES::ERROR::There is an error, please try again later."))})},switchVideoFormat:function(t,n,a){e("#library-items-wrapper").length>0&&"Save"===a&&4==n&&(t.find(".video_4k").removeClass("hidden"),t.find(".video_hd").addClass("hidden"))},modalExtended:function(e,n,i){a.show("extendedConfirmation",{question:_.sprintf(t.gettext("PURCHASE::IMAGE::MODAL::Purchase an extended license for %s?"),i.extended_license_price)})}}}),define("lib/assetSave",["jquery","lodash","app/actions/checkoutActions","app/client","app/constants/localStorage","app/stock-portal","lib/assetsStore","lib/librariesStore","lib/librariesWidget","lib/utils","lib/contentDetails","page_config","app/utils/search","components/transparentPngDownloadSettings"],function(e,t,n,a,i,s,r,o,l,c,u,d,p,_){"use strict";a.getInstance();var h=404,f=412;function E(){var t=e("#memberDefaultLibraryId").val();return l.computeLibrariesData(t)}function m(n,a,l){var c,d,p,h,f,E=n.content_id||null,m=n.license_bookmark||void 0;return T.getDefaultLibData().then(function(e){return c=t.get(e,"defaultLibraryId"),d=t.get(e,"defaultLibraryUrn"),p=t.get(e,"defaultLibName"),h=t.get(e,"defaultLibraryOrgId"),f=t.get(e,"defaultLibraryRepository"),r.getAsset(E,r.ASSET_DETAIL.BASIC)}).then(function(t){return c&&"desktop"!==c?e.Deferred().resolve(t):o.getLibraries(!0,{page:1}).then(function(e){var t=e.libraries;c=t[0]&&t[0].id,d=t[0]&&t[0].libraryUrn,p=t[0]&&t[0].name,h=t[0]&&t[0].orgId,f=t[0]&&t[0].repository}).then(function(){return t})}).then(function(t){var n=d||c,r=t.content_id;o.getLibraryById(n).then(function(o){o&&!o.readOnly||(n=void 0,p=void 0,h=void 0,f=void 0);var c=null;l?c=l:t.is_transparent&&(c=_.getDownloadChoiceValueFromStore());var d=e(".js-libraries-toolbar").is(":visible")?"js-libraries-toolbar":"search-toolbar";return s.initLibrariesToast({assetId:parseInt(r),isLicensed:u.isLicensed(E),thumbnailAlt:t.title,thumbnailSrc:t.thumbnail_url,defaultLibraryId:n,libName:p,defaultLibraryOrgId:h,defaultLibraryRepository:f,callToAction:a,stickyBelowClassName:d,downloadAssetType:c}),"false"===localStorage.getItem(i.LIBRARY_TOAST_AUTO_SAVE_KEY)&&"License"===a?(s.assetLicensedOnly(),e.Deferred().resolve()):n&&p?(t.downloadAssetType=c,T.saveToExistingLibraryFromAssetData(t,{id:n,name:p,orgId:h,repository:f},m)):e.Deferred().resolve()})})}function g(e,t,n,a,i){return r.getAsset(n,r.ASSET_DETAIL.BASIC).then(function(e){return e.downloadAssetType=i,T.saveToExistingLibraryFromAssetData(e,t,a)})}e(window).on("portal:saveToLibrary",g),e(window).on("portal:saveToDefaultLibrary",function(e,t,n){return m(t,n)}),e(window).on("portal:defaultLibraryUpdated",function(t,n){e("#memberDefaultLibraryId").val(n);var a={id:n};o.saveDefaultLibrary(a)});var T={getDefaultLibData:function(){return E().then(function(e){return{defaultLibraryId:t.get(e,"defaultLib.id"),defaultLibraryUrn:t.get(e,"defaultLib.libraryUrn"),defaultLibName:t.get(e,"defaultLib.name"),defaultLibraryOrgId:t.get(e,"defaultLib.orgId"),defaultLibraryRepository:t.get(e,"defaultLib.repository")}})},saveToDefaultLib:m,saveAssetToExistingLibrary:g,_getLibrariesData:E,updateAssetInExistingLibrary:function(t,n,a){var i=e.Deferred();return r.getAsset(n,r.ASSET_DETAIL.BASIC).then(function(e){return e.downloaded?i.resolve():o.updateLibraryElement(t,e,a)})},saveToExistingLibraryFromAssetData:function(e,t,n){var a;return s.saveToLibraryLoadingStart(t.name),o.addLibraryElement(t.id,e,void 0,"sync",n).done(function(e){a=Array.isArray(e.elements)?e.elements[0].id:e.id,s.saveToLibrarySuccess({destLibId:t.id,destLibName:t.name,destOrgId:t.orgId,destRepository:t.repository,destLibraryElementId:a}),s.saveToLibraryLoadingStop()}).fail(function(e){var n=e&&(e.status||e.response&&e.response.status);p.showSaveToLibraryFailureAlert(null,t.name,e),[h,f].includes(n)?s.showLibrariesList({resetDefaultLibrary:!0}):s.saveToLibraryFailure(e)})}};return T}),define("app/constants/download",[],function(){"use strict";return{IFRAME_DOWNLOAD_ID:"downloadTarget"}}),define("quickerCheckout/adobestock/handlers",["jquery","lodash","page_config","lib/member","lib/utils","lib/librariesStore","lib/assetsStore","lib/assetSave","lib/uiEvents","lib/susi","lib/librariesV2","lib/modal-window","app/actions/detailsActions","app/actions/memberActions","app/client","app/stock-portal","app/constants/download","components/vectorDownloadSettings","components/transparentPngDownloadSettings","app/constants/localStorage","lib/contentHelper"],function(e,t,n,a,i,s,r,o,l,c,u,d,p,_,h,f,E,m,g,T,b){"use strict";var v=h.getInstance();function I(e,t,n){return s.report("Deprecated call to addLibraryElement in addAssetToLibrary","librariesStore.deprecatedAddLibraryElement"),s.addLibraryElement(e,t,n).then(function(){return s.updateElementInAllLibraries(t)})}return{onFinishPurchase:function(n){var d,h=t.get(n,"member.is_newly_created"),E=n.libraryId,m=n.imsProfile,g=t.get(n,"member.email"),T=t.get(n,"asset.content_id"),S=n.licenseId,A=n.asset,O=n.appOpenInCode;a.setStockProfile(n.member),d=a.getResolvedStockProfile(),h&&(c.zombieLogin(d,m),u.refreshAccessToken(),f.userSignedIn(a.fetchAccessToken()),v.dispatch(_.memberLoggedIn(d,m)),l.trigger(l.NOTIFICATION_SHOW,g)),A&&(r.setAssetDownloadedInCache(T,S),b.shouldSaveToLibrary(A)&&r.getAsset(T,r.ASSET_DETAIL.BASIC).then(function(t){(function(t,n,a){var i=t.content_id;if(a||n&&"desktop"!==n){var r=e.Deferred();return a?s.getLibraryIdForOpenIn(i).then(function(e){r.resolve(e)}):(n&&r.resolve(n),r.then(function(e){return I(e,t,a)}))}return o.saveToDefaultLib({content_id:i},"License")})(t,E,O).then(function(){s.updateElementInAllLibraries(t),h||s.getLibraryById(E).then(function(e){l.trigger(l.DETAIL_BUTTON.UPDATE_STATE,{action:"License",lib_name:"desktop"===E?i.getSaveToDeviceI18nText():e&&e.name,lib_id:E,contentId:""+T,isDownloaded:!0})})})}),v.dispatch(p.contentLicensed(T,S)),l.trigger(l.ASSET_LICENSED,{contentId:T})),n.creditPackInfo&&n.creditPackInfo.remain_label&&a.updateCreditPackQuota(n.creditPackInfo.available_credits),d&&d.default_entitlement&&d.default_entitlement.id&&(v.dispatch(_.memberUpdatedEntitlement(d)),l.trigger(l.ENTITLEMENTS_UPDATED))},onDownloadAsset:function(n){var a=n.asset.download_url,i=t.get(n,"asset.content_id"),s=t.get(n,"asset.is_vector"),o=t.get(n,"asset.is_transparent"),l=n.licenseId,c=e("div.js-details[data-ingest-content-id='"+i+"']");if(o){if(g.shouldShowTransparentPngDownloadChoiceModal(i,a))return d.show("transparentPngDownloadChoice",{isVector:s}).then(function(e){a=g.getDownloadUrl(e,a),r.setAssetDownloadedInCache(i,l),document.getElementById(E.IFRAME_DOWNLOAD_ID).src=a});var u=g.getDownloadChoiceValueFromStore();a=g.getDownloadUrl(u,a),g.trackDownloadChoice(c,i,u)}if(s){var _=localStorage&&localStorage.getItem(T.VECTOR_DOWNLOAD_CHOICE_KEY);v.dispatch(p.saveVectorDownloadPreference(_)),m.trackVectorDownloadChoice(c,i,n.asset.selected_download_option)}r.setAssetDownloadedInCache(i,l),document.getElementById(E.IFRAME_DOWNLOAD_ID).src=a},onAddAssetToLibrary:function(e){I(e.libraryId,e.asset,"")}}}),define("lib/assetDownloader",["lodash","jquery","app/constants/download","app/constants/localStorage","components/vectorDownloadSettings","components/transparentPngDownloadSettings","lib/ajax","lib/modal-window","lib/utils","lib/contentHelper","page_config"],function(e,t,n,a,i,s,r,o,l,c,u){"use strict";var d;function p(e,n,r,p){var _,h=c.isTransparent(p),f=t("div.js-details[data-ingest-content-id='"+p+"']");if(!u.disable_purchased_image_download)if(l.isMobile()&&"wav"!==n)o.show("saveToDevice",{asset_link:e,asset_format:n});else{if(h){if(s.shouldShowTransparentPngDownloadChoiceModal(p,e)){var E=s.isInvokedFromDetailsPanel(p),m=l.isLicensedDownloadUrl(e);return o.show("transparentPngDownloadChoice",{isVector:r,contentId:p,isInvokedFromHover:!E,isLicensedDownloadUrl:m}).then(function(t){var n=s.getDownloadUrl(t,e);return d.setDocumentDownloadTarget(n),t})}var g=s.getDownloadChoiceValueFromStore();e=s.getDownloadUrl(g,e),s.trackDownloadChoice(f,p,g)}else{if(i.shouldShowVectorDownloadChoiceModal(p,e))return o.show("vectorDownloadChoice",{contentId:p}).then(function(t){var n=i.getVectorDownloadUrl(t,e);return d.setDocumentDownloadTarget(n),t});r&&(_=window.localStorage&&window.localStorage.getItem(a.VECTOR_DOWNLOAD_CHOICE_KEY),e=i.getVectorDownloadUrl(_,e),i.trackVectorDownloadChoice(f,p,_))}d.setDocumentDownloadTarget(e)}}return d={triggerOrPromptDownload:p,getDownloadUrlAndTriggerOrPromptDownload:function(e,t){return r.post(l.computeDownloadUrl(e,t)).then(function(t){return p(t.download_url,t.format,t.is_vector,e)})},setDocumentDownloadTarget:function(e){e&&(document.getElementById(n.IFRAME_DOWNLOAD_ID).src=e)}}}),define("app/utils/librariesToast",["app/constants/localStorage"],function(e){"use strict";function t(){var t=window&&window.localStorage;return t&&"false"!==t.getItem(e.LIBRARY_TOAST_AUTO_DOWNLOAD_KEY)}return{isAutoSaveEnabled:function(){var t=window&&window.localStorage;return t&&"false"!==t.getItem(e.LIBRARY_TOAST_AUTO_SAVE_KEY)},isAutoDownloadEnabled:t,isLicenseAndDownloadDisabled:function(){var e=!1;return t()||(e=!0),e}}}),define("quickerCheckout/analytics/dunamis/events/dunamisLicenseEvent",["quickerCheckout/analytics/dunamis/dunamisCatchWrapper","lib/analytics/dunamis","lodash","lib/member","quickerCheckout/analytics/dunamis/dunamisUtils","page_config"],function(e,t,n,a,i,s){"use strict";function r(e,t){e.subscriptionPlanAvailableQuota=n.get(t,"default_entitlement.total_quota_available"),e.subscriptionPlanTotalQuota=n.get(t,"default_entitlement.total_subscription_plan_quota"),e.creditPackAvailableQuota=n.get(t,"default_entitlement.available_credit_pack_quota"),e.creditPackTotalQuota=n.get(t,"default_entitlement.total_credit_packs_quota"),e.freeDailyTotalQuota=n.get(t,"default_entitlement.total_free_daily_quota"),e.freeDailyUsedQuota=n.get(t,"default_entitlement.used_free_daily_quota"),e.totalFreeLicenses=n.get(t,"default_entitlement.total_free_licenses")}return{send:function(a,r){e.execFunction(function(){var e;if(!n.isObject(a))throw Error("Purchase eventData must be an object");e={"content.id":a.contentId,"stk.license.id":a.licenseId,"stk.license.plan.quota_total":a.subscriptionPlanTotalQuota,"stk.license.plan.quota_used":a.subscriptionPlanUsedQuota,"stk.license.creditpack.quota_total":a.creditPackTotalQuota,"stk.license.creditpack.quota_used":a.creditPackUsedQuota},s.isFreeEnabled&&(e["stk.license.plan.free_daily_quota_total"]=a.freeDailyTotalQuota,e["stk.license.plan.free_daily_quota_used"]=a.freeDailyUsedQuota,e["stk.user.free_licenses_total"]=a.totalFreeLicenses),a.downloadPackType&&(e["stk.license.download_pack_type"]=a.downloadPackType),e[t.constants.STOCK_USER_QUOTA_BALANCE]=a.subscriptionPlanAvailableQuota,e[t.constants.STOCK_USER_CREDIT_BALANCE]=a.creditPackAvailableQuota,e[t.constants.EVENT_WORKFLOW_PROPERTY]=t.constants.STOCK_CHECKOUT,e[t.constants.EVENT_USER_GUID_PROPERTY]=a.userGuid,e[t.constants.EVENT_SUBCATEGORY_PROPERTY]=a.eventSubcategory,i.trackWrapper("license",a.eventSubtype,e,null,r)},"error-license-event","license-event")},getEventDataFromState:function(e){var t;if(!n.isObject(e))throw Error("state must be an object");return r(t={userGuid:a.getGuid(),eventSubtype:"license-"+(n.get(e,"asset_details.asset_type")?e.asset_details.asset_type.toLowerCase():void 0),eventSubcategory:e.id,contentId:n.get(e,"asset_details.content_id"),licenseId:e.license_id,subscriptionPlanUsedQuota:e.is_plan_quota_used?1:0,creditPackUsedQuota:n.get(e,"credit_pack_info.asset_credit_cost")},e.member),t},getEventDataFromLicenseAPI:function(e,t){var i,o="license-"+e.asset_type.toLowerCase();if(!n.isObject(t))throw Error("licenseData must be an object");return s.isFreeEnabled&&e.is_free&&(o+="-free"),r(i={userGuid:a.getGuid(),eventSubtype:o,eventSubcategory:"search",contentId:e.content_id,licenseId:t.license_id,subscriptionPlanUsedQuota:t.is_plan_quota_used?1:0,creditPackUsedQuota:n.get(t,"credit_pack_info.asset_credit_cost"),downloadPackType:e.download_pack_type},t.member),i}}}),define("lib/bulkLicensing/utils",["jquery","app/actions/detailsActions","app/client","app/stock-portal","app/utils/librariesToast","lib/analytics","lib/assetDownloader","lib/assetSave","lib/assetsStore","lib/librariesStore","lib/license","lib/uiEvents","lib/utils","page_config","quickerCheckout/analytics/dunamis/events/dunamisLicenseEvent"],function(e,t,n,a,i,s,r,o,l,c,u,d,p,_,h){"use strict";var f=n.getInstance();function E(e){return e.download_url?r.triggerOrPromptDownload(e.download_url,e.format,e.is_vector,e.content_id):r.getDownloadUrlAndTriggerOrPromptDownload(e.content_id,e.license_id)}return{updateLicensedAssetCacheData:function(e,t){l.addAsset(e.content_id,e),l.setAssetDownloadedInCache(e.content_id,t)},triggerLicensedAssetEvent:function(e,n,i,r){r?a.enterpriseLicensingDone({asset:e,licenseId:n}):(d.trigger(d.ASSET_LICENSED,{contentId:e.content_id,downloaded:e.downloaded,display_as_unlicensed:e.display_as_unlicensed,transferData:e.license_transfers}),f.dispatch(t.contentLicensed(e.content_id,n))),function(e,t){h.send(h.getEventDataFromLicenseAPI(e,{license_id:e.license_id,member:t}),{finding_method:s.determineFindingMethod(),selection_method:s.getSelectionMethod()})}(e,i)},handleSuccessfullyLicensedAsset:function(t,n){var a=n.contentId||t.content_id,s=n&&Object.keys(n).length>0,r=(T=i.isAutoDownloadEnabled())?E(t):e.Deferred().resolve();if(s){var l=n.action||u.ACTION_LICENSE,h=n.libId||null,f=n.libName||null,m=n.openInAction||null,g=p.isValidOpenInAction(m),T=_.isPhoenixEnabled?i.isAutoDownloadEnabled():h===c.LIBRARY_DESKTOP_ID;d.trigger(d.DETAIL_BUTTON.UPDATE_STATE,{action:n.action,lib_name:f,lib_id:h,app_action:m,contentId:a,isDownloaded:T}),p.updateDefaultLibrary(c,h,m,null,f),h&&r.always(function(e){o.saveToDefaultLib({content_id:a},l,e)}),g&&c.openAssetInSelectedApp(t,m)}},triggerAssetDownload:E}}),define("lib/bulkLicensing",["lib/member","lib/bulkLicensing/utils","app/stock-portal","lib/ajax","lib/license","jquery","page_config","lib/contentHelper"],function(e,t,n,a,i,s,r,o){"use strict";var l={};return window.addEventListener("portal:bulkLicensingModalClosed",function(){s(".detail-button-container").removeClass(["wait"].join(" "))}),{isAllowed:function(e,t){return e.filter(function(e){var n=t[e.content_id]||e.default_license_id;if(!n)return!1;var a=e.license_details[n];return!!a&&"ENTERPRISE"===a.workflow}).length===e.length},processLicensingWithStockPortal:function(t,a,i){const s={};for(let e=0;e<t.length;e++){const n=parseInt(t[e],10);s[n]={contentId:n,licenseId:a.hasOwnProperty(n)?a[n]:null}}if(r.isAddToCartLabelForShoppingCartUsersEnabled&&1===t.length&&!o.shouldDisplayAddToCartButton(e,t[0],a[0])){var c=Object.values(s)[0];n.loadBulkActionLicenseAgainModal({contents:[{contentId:c.contentId,selectedLicenseId:c.licenseId}]})}else n.addAssetsAndOpenShoppingCart(s);l=i||{}},onAssetsPurchased:function(n,i){var r=(n=n||[]).reduce(function(e,t){return t.contentId&&e.push(t.contentId),e},[]);r.length&&a.get("/Ajax/Content/getDownloadsData",{content_ids:r},"json").done(function(a){var r=a.member,c=a.contents,u=1===n.length;n.forEach(function(e){var n=e.contentId,a=e.selectedLicense,d=c[n]||null;if(d&&!0===d.downloaded&&(t.updateLicensedAssetCacheData(d,a),t.triggerLicensedAssetEvent(d,a,r,i),u)){if(s.isEmptyObject(l)&&i){var p=s("#memberDefaultLibraryId").val();l={action:"License",contentId:n,libId:p}}o.shouldSaveToLibrary(d)||(l={}),t.handleSuccessfullyLicensedAsset(s.extend({license_id:a},d),l)}}),e.updateEntitlementsData(r)})},directlyDownloadPurchasedAsset:function(e){t.triggerAssetDownload(e)},shouldDirectlyDownloadPurchasedAsset:function(e,t,n){return i.isAlreadyLicensed(e.content_id,e,t)&&n&&"desktop"===n.libId&&n.action!==i.ACTION_RE_LICENSE},getBulkLicensingItemsPerRequestCap:function(){return r.isEnterpriseBulkDownloadLimited?20:50}}}),define("lib/quotesConstants",[],function(){"use strict";return{QUOTE_ITEMS_PER_REQUEST_CAP:50}}),define("lib/selectAllComponent",["jquery","lib/utils"],function(e,t){"use strict";var n=0,a=1,i=2;return function(s,r){r=r instanceof e?r:e("body");var o={},l={},c=[],u=!1,d=0,p=0,_=(s=s||{}).dataModel||{},h=s.toggleAllSelector,f=s.elementSelector,E=s.elementCheckboxSelector,m=s.classNameSelected||"is-selected",g=s.selectAllMessageTemplate,T=null,b=e(s.messageWrapperSelector);function v(n){var a=t.isObject(n);r.find(f).each(function(){var t=e(this),i=e(E,t),s=null;i.length&&!i.attr("disabled")&&(a?(s=void 0!==n[i.val()],u&&(s=!s)):s=n,s?t.addClass(m):t.removeClass(m),i.prop("checked",s))})}function I(){c.forEach(function(e){e(o,u)},this)}function S(){var e=function(){var e=n,t=0;if(u)return a;for(var s in l)t+=1,void 0!==o[s]&&(e+=1);return t&&(e/=t),e!==n&&e!==a&&(e=i),e}();r.find(h).prop("checked",e===a||e===i),r.find(h).prop("indeterminate",e===i)}function A(e){l[e]&&(o[e]=l[e])}function O(){o={},u=!1,b.hide().html(null),r.find(h).prop("checked",!1),r.find(h).prop("indeterminate",!1)}this.reset=function(){O(),v(!1),I()},this.getData=function(){return o},this.isGlobalSelected=function(){return u},this.onDataChanged=function(e){t.isFunction(e)&&c.push(e)},this.newCurrentDataSet=function(e){l={},b.hide(),t.isObject(e)&&(l=e),v(o),S()},this.setSelectAllMessageData=function(e){d=e.total,(p=e.perPage)&&r.find(h).prop("disabled",!d)},this.setSelectAllMessageData({total:b.data("total-rows"),perPage:b.data("rows-per-page")}),this.disableItem=function(e){r.find(E+'[value="'+e+'"]').attr("disabled",!0).prop("checked",!1).trigger("change").parent().removeClass(m)},this.enableItem=function(e){r.find(E+'[value="'+e+'"]').removeAttr("disabled")},this.selectOnlyOneItemById=function(e){r.find(E+'[value="'+e+'"]').attr("disabled")||(O(),r.find(h).prop("indeterminate",!0),A(e),v(o),I())},r.find(E).each(function(){for(var e in l[this.value]={},_)l[this.value][e]=this.getAttribute(_[e])}),r.on("change",h,function(t){var n=this.checked,a=n;for(var i in v(n),u&&(a=!n),l)a&&!r.find(E+'[value="'+i+'"]').attr("disabled")?o[i]=u||l[i]:delete o[i];I(),function(t){var n;p>=d||!g||(n=Object.keys(o).length,u!=t?((T=e(g({select:t,total_escaped:parseInt(d,10),total_selected:n}))).on("click",function(){u=!u,o={},I(),v(u),r.find(h).prop("indeterminate",!1),r.find(h).prop("checked",u),T=null,e(this).hide()}),b.html(T).show()):b.hide())}(n)}),r.on("change",E,function(t){var n=e(this),a=n.val(),i=n.closest(f);this.checked?(u||A(a),i.addClass(m)):(u?A(a):delete o[a],i.removeClass(m)),T&&(T.hide(),T=null),I(),S()})}}),define("hbs!templates/components/commentsModule/commentItem",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return" comment-item--editable"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="comment-item'+(null!=(i=t.if.call(e,null!=e?e.editable:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+' white grey gravel-text padding-small margin-bottom-small left-align border-top-1 border-solid nurse-border">\n    <form>\n        <div class="comment-item__header padding-left-small padding-right-small">\n            <span class="js-comment-author text-sregular font-bold" '+this.escapeExpression((t["data-t"]||e&&e["data-t"]||t.helperMissing).call(e,"comment-author",null!=e?e.id:e,{name:"data-t",hash:{},data:a}))+">"+this.escapeExpression("function"==typeof(s=null!=(s=t.authorDisplayName||(null!=e?e.authorDisplayName:e))?s:t.helperMissing)?s.call(e,{name:"authorDisplayName",hash:{},data:a}):s)+'</span>\n            <div class="js-comment-header-actions comment-item__actions right">\n                <button class="js-comment-delete-btn" '+this.escapeExpression((t["data-t"]||e&&e["data-t"]||t.helperMissing).call(e,"comment-delete-button",null!=e?e.id:e,{name:"data-t",hash:{},data:a}))+'>\n                    <i class="mti-icon icon-delete"></i>\n                </button>\n                <button class="js-comment-edit-btn" '+this.escapeExpression((t["data-t"]||e&&e["data-t"]||t.helperMissing).call(e,"comment-edit-button",null!=e?e.id:e,{name:"data-t",hash:{},data:a}))+'>\n                    <i class="mti-icon icon-edit"></i>\n                </button>\n            </div>\n        </div>\n        <div class="comment-item__body">\n            <div class="js-comment-body comment-item__preview text-sregular padding-small" data-is-hidden="false" '+this.escapeExpression((t["data-t"]||e&&e["data-t"]||t.helperMissing).call(e,"comment-message",null!=e?e.id:e,{name:"data-t",hash:{},data:a}))+">"+this.escapeExpression("function"==typeof(s=null!=(s=t.comment||(null!=e?e.comment:e))?s:t.helperMissing)?s.call(e,{name:"comment",hash:{},data:a}):s)+'</div>\n            <textarea class="js-textarea comment-item__textarea overflow-hidden container-full margin-top-xsmall" disabled maxlength="250" data-is-hidden="true">'+this.escapeExpression("function"==typeof(s=null!=(s=t.comment||(null!=e?e.comment:e))?s:t.helperMissing)?s.call(e,{name:"comment",hash:{},data:a}):s)+'</textarea>\n        </div>\n        <div class="comment-item__footer padding-left-small padding-right-small">\n            <div class="row">\n                <div class="column on-small-12">\n                    <span class="js-comment-date comment-item__date grey mountain-mist-text text-small" data-is-hidden="false" '+this.escapeExpression((t["data-t"]||e&&e["data-t"]||t.helperMissing).call(e,"comment-date",null!=e?e.id:e,{name:"data-t",hash:{},data:a}))+">"+this.escapeExpression("function"==typeof(s=null!=(s=t.createdAt||(null!=e?e.createdAt:e))?s:t.helperMissing)?s.call(e,{name:"createdAt",hash:{},data:a}):s)+'</span>\n                </div>\n                <div class="js-comment-footer-actions comment-item__actions column on-small-12 right-align" data-is-hidden="true">\n                    <button class="js-comment-cancel-btn button text-sregular" '+this.escapeExpression((t["data-t"]||e&&e["data-t"]||t.helperMissing).call(e,"comment-cancel-button",null!=e?e.id:e,{name:"data-t",hash:{},data:a}))+">\n                        <span "+this.escapeExpression((t["data-t"]||e&&e["data-t"]||t.helperMissing).call(e,"comment-cancel-button-label",null!=e?e.id:e,{name:"data-t",hash:{},data:a}))+">"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"FILE::ACTION::Cancel",{name:"_",hash:{},data:a}))+'</span>\n                    </button>\n                    <button class="js-comment-save-btn button button--action text-sregular" disabled '+this.escapeExpression((t["data-t"]||e&&e["data-t"]||t.helperMissing).call(e,"comment-save-button",null!=e?e.id:e,{name:"data-t",hash:{},data:a}))+'>\n                        <i class="mti-icon"></i>\n                        <span class="margin-right-xsmall" '+this.escapeExpression((t["data-t"]||e&&e["data-t"]||t.helperMissing).call(e,"comment-save-button-label",null!=e?e.id:e,{name:"data-t",hash:{},data:a}))+">"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"FILE::ACTION::Save changes",{name:"_",hash:{},data:a}))+"</span>\n                    </button>\n                </div>\n            </div>\n        </div>\n    </form>\n</div>\n"},useData:!0})}),define("hbs!templates/components/commentsModule/commentsWidget",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'                    <label class="switch" data-t="comments-notify-checkbox">\n                        <input class="js-comment-notify" type="checkbox" name="notify"'+(null!=(i=t.if.call(e,null!=e?e.checked:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:"")+'value="true" />\n                        <span data-t="comments-notify-checkbox-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"COMMENT::ACTION::Notify",{name:"_",hash:{},data:a}))+"</span>\n                    </label>\n"},2:function(e,t,n,a){return' checked="checked"'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="comments-widget">\n    <div class="js-comments-list comments-widget__list padding-left-medium padding-right-medium overflow-auto"></div>\n    <div class="comments-widget__actions padding-top-small padding-left-medium padding-right-medium">\n        <form>\n            <input class="js-new-comment-input input--full" type="text" name="body" placeholder="'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"COMMENT::ACTION::Add comment",{name:"_",hash:{},data:a}))+'" maxlength="250" data-t="comments-input"/>\n            <div class="right-align padding-top-small">\n'+(null!=(i=t.with.call(e,null!=e?e.notifyCheckbox:e,{name:"with",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'                <button class="js-comment-post-btn button button--primary margin-left-medium" disabled data-t="comments-post-button">\n                    <i class="mti-icon"></i>\n                    <span class="margin-right-xsmall" data-t="comments-post-button-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"COMMENT::ACTION::Post",{name:"_",hash:{},data:a}))+"</span>\n                </button>\n            </div>\n        </form>\n    </div>\n</div>\n"},useData:!0})}),define("lib/commentsModule",["jquery","hbs!templates/components/commentsModule/commentItem","hbs!templates/components/commentsModule/commentsWidget","lib/utils","lib/member"],function(e,t,n,a,i){"use strict";var s="border-bottom-1 border-bottom-solid bon-jour-border",r=350,o=100;function l(){return e.Deferred().resolve({})}function c(t){return!e.isEmptyObject(t)&&t.id&&t.authorDisplayName&&t.comment&&t.createdAt}function u(e,t){return{id:(e=e||{}).id||t.id,authorDisplayName:e.authorDisplayName||i.getUsername(),comment:e.comment||t.comment,createdAt:e.createdAt||a.getCurrentDateFormatted(),editable:e.hasOwnProperty("editable")?e.editable:t.editable}}function d(n,i,s,r){n=e.isEmptyObject(n)?{}:n;var o=e(t(n)),l=o.find(".js-textarea"),d=o.find(".js-comment-body"),p=o.find(".js-comment-date"),_=o.find(".js-comment-header-actions"),h=o.find(".js-comment-footer-actions"),f=o.find(".js-comment-save-btn"),E=o.find(".js-comment-cancel-btn"),m=function(e){e?E.hide():E.show(),a.toggleAttribute(l,"disabled",e),a.toggleAttribute(f,"data-is-loading",e),a.toggleAttribute(f,"disabled",e)},g=function(e){a.toggleClassName(o,"nurse in-edit-mode",e),a.toggleAttribute(d,"data-is-hidden",e),a.toggleAttribute(_,"data-is-hidden",e),a.toggleAttribute(p,"data-is-hidden",e),a.toggleClassName(o,"comment-item--editable",!e),a.toggleAttribute(h,"data-is-hidden",!e),a.toggleAttribute(l,"data-is-hidden",!e),a.toggleAttribute(l,"disabled",!e),a.toggleAttribute(f,"disabled",!0),e?l.focus():l.blur()};return l.on("keyup",function(){var t=e(this).val().trim();a.toggleAttribute(f,"disabled",!t||n.comment==t)}).on("keyup focus blur",function(){var e;e=l,setTimeout(function(){e.css({height:"auto"}).css({height:e.prop("scrollHeight")})},0)}),o.find("form").on("submit",function(e){e.preventDefault()}),o.find(".js-comment-edit-btn").on("click",function(){n.editable&&(g(!0),i._scrollToBottom())}),o.find(".js-comment-delete-btn").on("click",function(){n.editable&&(o.addClass("disabled"),e.when(s.delete(n)).then(function(){o.remove(),i._commentWasDeleted(n.id)}).always(function(){o.removeClass("disabled")}))}),E.on("click",function(){l.val(n.comment),g(!1)}),f.on("click",function(){var t;n.editable&&(t={id:n.id,comment:l.val().trim(),editable:n.editable},m(!0),e.when(s.update(t)).then(function(e){(r||c(e))&&function(e){n=e,l.val(e.comment),d.text(e.comment),p.text(e.createdAt),m(!1),g(!1),i._commentWasUpdated(e)}(u(e,t))}).always(function(){m(!1)}))}),o}return function(t,i,p){i=e.isEmptyObject(i)?{}:i,p=function(t){return t=e.isEmptyObject(t)?{}:t,{post:e.isFunction(t.post)?t.post:l,update:e.isFunction(t.update)?t.update:l,delete:e.isFunction(t.delete)?t.delete:l}}(p);var _,h=[],f=e(n(i)),E=f.find(".js-comments-list"),m=f.find(".js-comment-notify"),g=f.find(".js-comment-post-btn"),T=f.find(".js-new-comment-input"),b=function(e){a.toggleAttribute(T,"disabled",e),a.toggleAttribute(m,"disabled",e),a.toggleAttribute(g,"disabled",!0),a.toggleAttribute(g,"data-is-loading",e)},v=function(){return{notify:!(!m||!m.prop("checked")),comments:h}},I=function(){setTimeout(function(){E.animate({scrollTop:E.prop("scrollHeight")},r)},o)},S=function(e){var t=-1;h.forEach(function(n,a){n.id===e&&(t=a)}),t>-1&&h.splice(t,1),a.toggleClassName(E,s,E.children().length),_&&_(v())},A=function(e){h.forEach(function(t,n){t.id===e.id&&(h[n]=e)})},O=function(e){var t,n;(i.draftMode||c(e))&&(t=u(e,{id:((n=h[h.length-1])&&n.id||0)+1,comment:T.val(),editable:i.draftMode}),E.append(new d(t,{_commentWasUpdated:A,_commentWasDeleted:S,_scrollToBottom:I},p,i.draftMode)),E.addClass(s),h.push(t),_&&_(v()),I())};return i.draftMode=!i.hasOwnProperty("draftMode")||i.draftMode,T.on("keyup",function(){a.toggleAttribute(g,"disabled",!e(this).val().trim())}),f.find("form").on("submit",function(t){var n=T.val().trim();t.preventDefault(),n?(b(!0),e.when(p.post({notify:m&&m.prop("checked"),comment:n})).then(function(e){O(e)}).always(function(){T.val(""),b(!1)})):a.toggleAttribute(g,"disabled",!0)}),e.isArray(i.comments)&&i.comments.forEach(function(e){O(e)}),t.append(f),{getData:v,onDataChanged:function(t){e.isFunction(t)&&(_=t)},scrollToBottom:I}}}),define("lib/licenseHistoryConstants",[],function(){"use strict";var e="tab-license-requests-received",t="tab-license-requests-sent",n="tab-quotes",a="tab-license-records";return{TAB_PURCHASES:"tab-purchases",TAB_USERS:"tab-users",TAB_GROUPS:"tab-groups",TAB_LICENSE_RECORDS:a,TAB_QUOTES:n,TAB_LICENSE_REQUESTS_RECEIVED:e,TAB_LICENSE_REQUESTS_SENT:t,isTablLicenseRequests:function(n){return n===e||n===t},QUOTES:{ACTIONS:{DOWNLOAD:"download-quote"},STATUS:{PENDING:0,ACTIVE:1}},LICENSE_REQUESTS:{ACTIONS:{APPROVE:"approve",EDIT:"edit",DELETE:"delete",REFUSE:"refuse"},STATUS:{PENDING:"pending",DRAFT:"draft",REFUSED:"refused",ACCEPTED:"approved"}},LOAD_TAB_PURCHASES:"load-tab-purchases",BUTTON_LICENSE_ACTION_ID:"cart",ROUTES:{QUOTES:"/Member/EnterpriseReport?current_tab="+n,LICENSE_RECORDS:"/Member/EnterpriseReport?current_tab="+a},getMockedRequestsModalData:function(e){return{are_assets_purchasable:!0,can_license_transfer:!0,quotas_data_by_license_type_id:{43:{quota:363,label_type:"credits"}},currency_data_by_license_type_id:{43:{currency_value:10,currency_type:1}},taxes:{included:!0,rate:5.1},license_references:{mandatory_references:{1:"Project Name"},optional_references:{7:"ISBN"}},approvers:[{guid:"111@AdobeId",displayName:"Lewis Carroll"},{guid:"222@AdobeId",displayName:"Frank Lloyd Wright"},{guid:"333@AdobeId",displayName:"Francis Bacon"}],comments:[{id:"123e4567-e89b-12d3-a456-426655440000",authorDisplayName:"Rick",comment:"Lorem ipsum dolor sit amet, consectetur adipiscing elit.",createdAt:"15/07/2018"}],license_requests:[{id:169434290,url:"https://t3.ftcdn.net/jpg/01/69/43/42/240_F_169434290_CLuI3BJQcsggPLSf9CLcSQFhgmFEgcIj.jpg"},{id:169434290,url:"https://t3.ftcdn.net/jpg/01/69/43/42/240_F_169434290_CLuI3BJQcsggPLSf9CLcSQFhgmFEgcIj.jpg"},{id:169434293,url:"https://t3.ftcdn.net/jpg/01/69/43/42/240_F_169434291_JuNjK29eWbQQsdkL8YIktvR9xm1Xav8j.jpg"},{id:169434292,url:"https://t3.ftcdn.net/jpg/01/69/43/42/240_F_169434292_UwiIX7XUNqoZCmgh1yw5ZvmETX3oVs2p.jpg"},{id:169434291,url:"https://t3.ftcdn.net/jpg/01/69/43/42/240_F_169434273_hynWhmPxSAwod8jbtd5WaIZHbbsMV4d3.jpg"}].map(function(e){return{id:e.id+"_guid",approvers:function(){var e;if(e=Math.floor(4*Math.random()))return[111*e+"@AdobeId"]}(),license_references:169434291!=e.id&&{1:"1234".split("").sort(function(){return.5-Math.random()}).join(""),7:"same ISBN value"},comments:[{id:"123e4567-e89b-12d3-a456-426655440000",authorDisplayName:"Rick",comment:"Lorem ipsum dolor sit amet, consectetur adipiscing elit.",createdAt:"15/07/2018"}],content_id:e.id,content_thumb_url:e.url,is_allowed_and_purchasable:!0,possible_licenses:[1,2],license_details:{1:{license_price:"1 Credit",facing_price:"$10.00",license_type_id:43,user_facing_license_type_label:"Standard License",is_included_in_current_plan:!0,quota:1,asset_details:"Standard Image"},2:{license_price:"2 Credits",facing_price:"$20.00",license_type_id:43,user_facing_license_type_label:"Extended License",is_included_in_current_plan:!1,quota:2,asset_details:"Extended Image"}}}})}}}}),define("lib/licenseRequestModal",["jquery","i18n","i18n-config","page_config","lib/ajax","lib/licenseHistoryConstants"],function(e,t,n,a,i,s){"use strict";var r={default:n.gettext("FORM::INPUT::Type here"),missMatchedValues:n.gettext("FORM::INPUT::Values entered do not match")},o={missMatchedValues:n.gettext("LICENSE::REQUEST::Values entered for selected assets do not match:")},l={missMatchedValues:n.gettext("LICENSE::REQUEST::References entered for selected assets do not match:")},c=n.gettext("LIBRARY::ACTION::Select all assets"),u=null,d={},p=[],_=[];function h(){var e,t,n={},a=d.mandatory_references||{},i=d.optional_references||{};for(e in a)n[e]=[];for(e in i)n[e]=[];return _.map(function(t){for(e in d.mandatory_references)p[t].requires_references_info=!p[t].license_references[e];return p[t].license_references}).forEach(function(a){for(e in n)t=a[e]||"",n[e].indexOf(t)<0&&n[e].push(t)}),n}function f(){var e,t,n,a={client_name:[],notes:[]},i=!1;return _.forEach(function(s){n=p[s].license_transfer||null,e="",t="",n&&(e=p[s].license_transfer.client_name||"",t=p[s].license_transfer.notes||"",p[s].requires_transfer_info=!e,i=!0),a.client_name.indexOf(e)<0&&a.client_name.push(e),a.notes.indexOf(t)<0&&a.notes.push(t)}),i?a:null}function E(e){e=e||{};var t=(_.length?_:Object.keys(e)).map(function(t){return e[t]&&e[t].approvers||[]}),n=t.reduce(function(e,t){return e.filter(function(e){return t.indexOf(e)>=0})},t[0]||[]),a=t.reduce(function(e,t){return e.concat(t)},[]).filter(function(e,t,a){return a.indexOf(e)===t&&n.indexOf(e)<0});return{common:n,indeterminate:a}}function m(e){var t;for(t in p)e.find('.js-modal-asset-request-info-status[data-rel="'+t+'"] i').removeClass("red lust-text green apple-text").addClass(T(t)?"green apple-text":"red lust-text")}function g(e,t){var n=E(t);return(e=e||[]).map(function(e){return{id:e.guid,value:e.displayName,selected:n.common.indexOf(e.guid)>=0,indeterminate:n.indeterminate.indexOf(e.guid)>=0}})}function T(e){return!(p[e].requires_approvers_info||p[e].requires_references_info||p[e].requires_transfer_info)}function b(t){var n=!1;if(!e.isEmptyObject(t))for(var a in t)if(t[a].length>1){n=!0;break}return n}return{init:function(a,i,s,E,T,b){_=[],p=a.license_requests,d=a.license_references||{},u=null,i.find(".js-modal-table-asset-row").addClass("cursor-pointer"),i.on("click",".js-modal-table-asset-row",function(t){var n=e(t.target),a=null;n.is("input")||!(a=n.attr("data-select")||n.parent().attr("data-select")||n.parent().parent().attr("data-select"))||1===_.length&&_[0]===a||s.selectOnlyOneItemById(a)});var v=function(e){var a,s,d;if(!(a=(_=Object.keys(e||{})).length))for(var v in p)p[v].is_removed||_.push(v);!function(e,a){var i=c;a>0&&(i=t.sprintf(n.ngettext("LIBRARY::ACTION::%s item selected","LIBRARY::ACTION::%s items selected",a),a)),e.find(".js-modal-bulk-selection-all-checkbox-label").text(i)}(i,a),T&&T.setTransferData(f(),r,o),E&&E.setReferences(h(),r,l),b&&(_.forEach(function(e){p[e].requires_approvers_info=!p[e].approvers||0==p[e].approvers.length}),b.setListData(g(u,p),!0)),s=i,d=_.length,s.find(".js-edit-all-disclaimer").attr("data-is-hidden",1===d),m(i)};s&&s.onDataChanged(v),E&&E.onDataChanged(function(e){_.forEach(function(t){var n;for(n in p[t].license_references=e,d.mandatory_references)p[t].requires_references_info=!e[n]}),m(i)}),T&&T.onDataChanged(function(e,t){_.forEach(function(n){t?(p[n].license_transfer=e,p[n].requires_transfer_info=!e.client_name):(p[n].license_transfer=null,p[n].requires_transfer_info=!1)}),m(i)}),b&&(u=a.approvers,b.onDataChanged(function(e){_.forEach(function(t){p[t].approvers=e,p[t].requires_approvers_info=0==e.length}),m(i)})),v()},isFulfilled:function(){var e=!1,t=h(),n=f(),a=E(p);return b(t)||b(n)||u&&!(a.common.length>0)||!function(){var e,t=!0;for(e in p)if(!p[e].is_removed&&!T(e)){t=!1;break}return t}()||(e=!0),e},getFormData:function(e){var t,n=[];return _.forEach(function(a){(t=p[a]).is_allowed_and_purchasable&&!t.is_removed&&(e==s.LICENSE_REQUESTS.ACTIONS.APPROVE?n.push({id:t.id,licenseId:t.default_license_id,references:t.license_references||null,licenseTransfer:t.license_transfer?{clientName:t.license_transfer.client_name,notes:t.license_transfer.notes}:null}):n.push({id:t.id,approvers:t.approvers,references:t.license_references||null,asset:{id:t.content_id,licenseId:t.default_license_id}}))}),n},formatApproversData:g,buildCommentsObjectForModal:function(t,n){var s={data:{draftMode:t,notifyCheckbox:!1,comments:n||[]},actions:null};return t||(s.actions={post:function(t){var n=[],s=e.Deferred();return _.forEach(function(e){n.push({id:e,comment:t.comment})}),i.post(a.base_url+"/Ajax/license-requests/comments/create",{comments:n}).then(function(t){e.isArray(t)?s.resolve(t[0]):s.reject()}).fail(function(){s.reject()}),s.promise()}}),s},isItemDataFulFilled:T}}),define("hbs!templates/components/bulkSelectionModal/multipleSelectFormComponent",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return" disabled"},3:function(e,t,n,a){return'            <i class="select-component-button-icon js-select-component-button-icon mti-icon mti-large icon-arrow-down mti-icon--suffix to-the-right margin-right-xsmall"></i>\n'},5:function(e,t,n,a){var i,s;return'            <li class="select-component-list-item js-select-component-list-item padding-bottom-small">\n                <label class="cursor-pointer truncate" data-t="drop-down-option-label">\n                    <input class="js-select-component-list-checkbox"'+(null!=(i=t.if.call(e,(i=a&&a.root)&&i.isSingleMandatoryOption,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+" data-index="+this.escapeExpression("function"==typeof(s=null!=(s=t.index||a&&a.index)?s:t.helperMissing)?s.call(e,{name:"index",hash:{},data:a}):s)+' data-t="drop-down-option-checkbox" type="checkbox"'+(null!=(i=(t["if-or"]||e&&e["if-or"]||t.helperMissing).call(e,null!=e?e.selected:e,(i=a&&a.root)&&i.isSingleMandatoryOption,{name:"if-or",hash:{},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+'>\n                    <span class="select-component-list-label padding-left-small text-sregular'+(null!=(i=t.if.call(e,null!=e?e.selected:e,{name:"if",hash:{},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")+'" data-t="drop-down-option-text">'+this.escapeExpression(this.lambda(null!=e?e.value:e,e))+"</span>\n                </label>\n            </li>\n"},6:function(e,t,n,a){return' checked="checked"'},8:function(e,t,n,a){return" blue bleu-de-france-text"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="multiple-select-component-container js-multiple-select-component-container container-relative margin-right-xsmall">\n    <button type="button" class="select-component-button js-select-component-button border-1 border-radius-4 container-full padding-left-small padding-top-xsmall padding-bottom-xsmall padding-right-large left-align truncate text-sregular"'+(null!=(i=t.if.call(e,null!=e?e.isSingleMandatoryOption:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'>\n        <span class="js-select-component-button-text">'+this.escapeExpression("function"==typeof(s=null!=(s=t.defaultValue||(null!=e?e.defaultValue:e))?s:t.helperMissing)?s.call(e,{name:"defaultValue",hash:{},data:a}):s)+"</span>\n"+(null!=(i=t.unless.call(e,null!=e?e.isSingleMandatoryOption:e,{name:"unless",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+'    </button>\n    <ul class="select-component-list js-select-component-list padding-top-small padding-left-small padding-right-small padding-bottom-xsmall border-1 border-solid bon-jour-border border-radius-4 card--shadow white container-full container-absolute container-below no-wrap overflow-hidden overflow-y-scroll in-front" data-is-hidden="true">\n'+(null!=(i=t.each.call(e,null!=e?e.valuesList:e,{name:"each",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+"    </ul>\n</div>\n"},useData:!0})}),define("components/multipleSelectFormComponent",["jquery","hbs!templates/components/bulkSelectionModal/multipleSelectFormComponent"],function(e,t){"use strict";function n(e,t,n){var a=e,i=t.filter(function(e){return e.selected});return n?a=t[0].value:i.length&&(a=function(e){var t,n=[];return e.forEach(function(e){t?n.push(e.value):t=e.value}),t+=n.length?" ("+n.join(", ")+")":""}(i)),a}return function(a,i,s,r){var o,l,c,u,d,p,_,h,f,E,m,g=e("body"),T="blue bleu-de-france-text",b=this,v=i,I=function(e){e&&e.preventDefault(),o=!o,_.toggle(),p.toggleClass("icon-arrow-down icon-arrow-up")},S=function(t){o&&!e(t.target).closest(".js-multiple-select-component-container").length&&I()},A=function(){var e=!E||b.data().length;return e?u.removeClass("error"):u.addClass("error"),!!e},O=function(){return m.reduce(function(e,t){return t.selected&&e.push(t.id),e},[])},y=function(i,s){m=e.extend(!0,[],i),o=!1,E=s,l=1===m.length&&E,c=e(t({isSingleMandatoryOption:l,defaultValue:n(v,m,l),valuesList:m})),u=c.find(".js-select-component-button"),d=u.find(".js-select-component-button-text"),p=u.find(".js-select-component-button-icon"),_=c.find(".js-select-component-list"),h=c.find(".js-select-component-list-checkbox"),l?m[0].selected=!0:(g.on("click",S),c.on("click",".js-select-component-button",I),h.on("change",function(t){var a=e(this),i=a.attr("data-index"),s=a.prop("checked"),r=a.next(".select-component-list-label");s?r.addClass(T):r.removeClass(T),m[i].selected=s,d.text(n(v,m,l)),f&&f(O()),A()}),h.each(function(e,t){t.indeterminate=!m[e].selected&&m[e].indeterminate})),a.append(c)};this.data=O,this.onDataChanged=function(t){e.isFunction(t)&&(f=t)},this.setListData=function(e,t){this.destroy(),y(e,t),A()},this.valid=function(){return A()},this.destroy=function(){c&&c.remove(),g.off("click",S)},y(s,r)}}),define("hbs!templates/modalWindow/quoteDetailsFieldSet",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="row">\n    <div class="js-quote-details-wrapper">\n        <div class="column on-small-12 on-medium-12 margin-bottom-medium margin-top-medium">\n            <div class="margin-bottom-xsmall margin-top-small left-align">\n'+(null!=(i=this.invokePartial(n["modalWindow/fieldInputValidator"],e,{name:"modalWindow/fieldInputValidator",hash:{required:!0,placeholder:(t._||e&&e._||t.helperMissing).call(e,"FORM::INPUT::Type here",{name:"_",hash:{},data:a}),dataT:"quote-title",name:"title",label:(t._||e&&e._||t.helperMissing).call(e,"MODAL::QUOTES::Quote title",{name:"_",hash:{},data:a})},data:a,indent:"                ",helpers:t,partials:n}))?i:"")+'            </div>\n            <div class="margin-bottom-xsmall left-align">\n'+(null!=(i=this.invokePartial(n["modalWindow/fieldInputValidator"],e,{name:"modalWindow/fieldInputValidator",hash:{dataT:"quote-notes",placeholder:(t._||e&&e._||t.helperMissing).call(e,"FORM::INPUT::Type here",{name:"_",hash:{},data:a}),label:(t._||e&&e._||t.helperMissing).call(e,"ORGANIZATION::LICENSE_TRANSFER::Additional Notes",{name:"_",hash:{},data:a}),type:"textarea",name:"notes"},data:a,indent:"                ",helpers:t,partials:n}))?i:"")+'            </div>\n        </div>\n        <div class="column on-small-12 on-medium-12 white border-2 border-solid border-radius-4 bleu-de-france-border padding-medium">\n            <div class="text-sregular grey dove-text margin-bottom-medium">\n                <strong data-t="quote-details-information-title-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::QUOTES::Important",{name:"_",hash:{},data:a}))+'</strong>\n                <i class="mti-icon icon-infofull right blue bleu-de-france-text"></i>\n            </div>\n            <div class="text-sregular grey dove-text" data-t="quote-details-information-body-text">\n                '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::QUOTES::This quote will be valid for 30 days from the date you generate the quote only and does not grant you any license to use the asset(s).",{name:"_",hash:{},data:a}))+"\n                "+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::QUOTES::Additionally, this quote does not guarantee that the asset(s) listed in the quote will still be available at the time you wish to license the asset(s).",{name:"_",hash:{},data:a}))+"\n            </div>\n        </div>\n    </div>\n</div>\n"},usePartial:!0,useData:!0})}),define("components/quoteDetailsFieldSet",["jquery","i18n","i18n-config","components/fieldInputValidator","hbs!templates/modalWindow/quoteDetailsFieldSet"],function(e,t,n,a,i){"use strict";return{template:i,init:function(i){var s={},r=i.find(".js-quote-details-wrapper"),o={};r.find(".js-field-group-input").each(function(){var i=e(this),s=i.attr("name"),r=new a(i,function(e){var a,i;"title"===e?(i=30,a=t.sprintf(n.ngettext("MODAL::QUOTES::ERROR::Quote title cannot exceed %s character.","MODAL::QUOTES::ERROR::Quote title cannot exceed %s characters.",i),i)):(i=300,a=t.sprintf(n.ngettext("MODAL::QUOTES::ERROR::Additional notes cannot exceed %s character.","MODAL::QUOTES::ERROR::Additional notes cannot exceed %s characters.",i),i));return{maxlength:i,message:a}}(s));o[s]={input:i,validator:r,required:i.prop("required")},i.on("input",function(){r.checkValue(i.val())}).on("blur",function(){r.hideToolTip()})}),this.data=function(){var e,t;for(e in o)t=o[e].input,s[e]=t.val().trim();return s},this.valid=function(){var e,t,n,a=!0;for(t in o)if(n=(e=o[t]).input.val().trim(),e.validator.checkValue(n),e.required&&!n){a=!1;break}return a}}}}),define("hbs!templates/modalWindow/bulkSelectionModal",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return' data-ingest-subcategory="'+this.escapeExpression("function"==typeof(i=null!=(i=t.ingest_subcategory||(null!=e?e.ingest_subcategory:e))?i:t.helperMissing)?i.call(e,{name:"ingest_subcategory",hash:{},data:a}):i)+'"'},3:function(e,t,n,a){return" border-right-solid"},5:function(e,t,n,a){return'                                <div class="js-modal-taxes-details container-inline-block left-align v-align-top text-sregular padding-left-large"></div>\n'},7:function(e,t,n,a){return"                                    <br/>\n                                    <span>"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::ERROR::Please note that you can still purchase these assets on-demand from their detail page.",{name:"_",hash:{},data:a}))+"</span>\n"},9:function(e,t,n,a){return'                            <label class="container-inline-block cursor-pointer grey gravel-text padding-left-xsmall margin-bottom-small margin-left-small">\n                                <input type="checkbox" value="all" class="js-modal-bulk-selection-all-checkbox margin-right-small" data-t="selected-assets-select-all-checkbox">\n                                <span class="js-modal-bulk-selection-all-checkbox-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"LIBRARY::ACTION::Select all assets",{name:"_",hash:{},data:a}))+"</span>\n                            </label>\n"},11:function(e,t,n,a){return" on-medium-6"},13:function(e,t,n,a){return" on-medium-12"},15:function(e,t,n,a){var i;return'                                    <div class="js-modal-bulk-selection-tabs column on-small-12 on-medium-6">\n                                        <div class="padding-medium">\n'+(null!=(i=t.if.call(e,null!=e?e.display_edit_all_disclaimer:e,{name:"if",hash:{},fn:this.program(16,a,0),inverse:this.noop,data:a}))?i:"")+'\n                                            <div class="modal-bulk-selection--tabs container-relative">\n                                                <ul>\n'+(null!=(i=t.if.call(e,null!=e?e.display_quote_details:e,{name:"if",hash:{},fn:this.program(18,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.display_art_buyers:e,{name:"if",hash:{},fn:this.program(20,a,0),inverse:this.program(22,a,0),data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=e?e.display_license_transfer:e,{name:"if",hash:{},fn:this.program(25,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.display_license_comments:e,{name:"if",hash:{},fn:this.program(27,a,0),inverse:this.noop,data:a}))?i:"")+"                                                </ul>\n                                            </div>\n\n"+(null!=(i=t.if.call(e,null!=e?e.display_quote_details:e,{name:"if",hash:{},fn:this.program(29,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=(t["if-or"]||e&&e["if-or"]||t.helperMissing).call(e,null!=e?e.display_art_buyers:e,null!=e?e.display_license_references:e,{name:"if-or",hash:{},fn:this.program(34,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=e?e.display_license_transfer:e,{name:"if",hash:{},fn:this.program(39,a,0),inverse:this.noop,data:a}))?i:"")+"\n"+(null!=(i=t.if.call(e,null!=e?e.display_license_comments:e,{name:"if",hash:{},fn:this.program(41,a,0),inverse:this.noop,data:a}))?i:"")+"                                        </div>\n                                    </div>\n"},16:function(e,t,n,a){return'                                                <div class="js-edit-all-disclaimer theme blue bleu-de-france white-text text-sregular border-radius-4 padding-small center-align margin-bottom-small">\n                                                    <span data-t="note-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::Please note that all your edits will apply to all selected assets",{name:"_",hash:{},data:a}))+"</span>\n                                                </div>\n"},18:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["components/bulkSelectionModal/tabsHeaderItem"],e,{name:"components/bulkSelectionModal/tabsHeaderItem",hash:{active:null!=e?e.display_details_tab_active:e,label:(t._||e&&e._||t.helperMissing).call(e,"MODAL::QUOTES::Quote Details",{name:"_",hash:{},data:a}),dataT:"quote-details-tab-text",tab:"quote_details"},data:a,indent:"                                                        ",helpers:t,partials:n}))?i:""},20:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["components/bulkSelectionModal/tabsHeaderItem"],e,{name:"components/bulkSelectionModal/tabsHeaderItem",hash:{active:null!=e?e.display_details_tab_active:e,label:(t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::Request details",{name:"_",hash:{},data:a}),dataT:"request-details-tab-text",tab:"license_references"},data:a,indent:"                                                        ",helpers:t,partials:n}))?i:""},22:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.display_license_references:e,{name:"if",hash:{},fn:this.program(23,a,0),inverse:this.noop,data:a}))?i:""},23:function(e,t,n,a){var i;return(null!=(i=this.invokePartial(n["components/bulkSelectionModal/tabsHeaderItem"],e,{name:"components/bulkSelectionModal/tabsHeaderItem",hash:{active:null!=e?e.display_details_tab_active:e,label:(t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::References",{name:"_",hash:{},data:a}),dataT:"references-tab-text",tab:"license_references"},data:a,indent:"                                                        ",helpers:t,partials:n}))?i:"")+"                                                    "},25:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["components/bulkSelectionModal/tabsHeaderItem"],e,{name:"components/bulkSelectionModal/tabsHeaderItem",hash:{active:null!=e?e.display_license_transfer_active:e,label:(t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::License Transfer",{name:"_",hash:{},data:a}),dataT:"license-tranfer-tab-text",tab:"license_transfer"},data:a,indent:"                                                        ",helpers:t,partials:n}))?i:""},27:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["components/bulkSelectionModal/tabsHeaderItem"],e,{name:"components/bulkSelectionModal/tabsHeaderItem",hash:{counterLabel:null!=e?e.display_nb_comments:e,counterIdentifier:"js-comments-count-label",active:null!=e?e.display_license_comments_active:e,label:(t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::Comments",{name:"_",hash:{},data:a}),dataT:"license-comments-tab-text",tab:"license_comments"},data:a,indent:"                                                        ",helpers:t,partials:n}))?i:""},29:function(e,t,n,a){var i;return'                                                <div class="tab-content" data-tab="quote_details" data-is-hidden="'+(null!=(i=t.if.call(e,null!=e?e.display_details_tab_active:e,{name:"if",hash:{},fn:this.program(30,a,0),inverse:this.program(32,a,0),data:a}))?i:"")+'">\n'+(null!=(i=this.invokePartial(n["modalWindow/quoteDetailsFieldSet"],e,{name:"modalWindow/quoteDetailsFieldSet",data:a,indent:"                                                    ",helpers:t,partials:n}))?i:"")+"                                                </div>\n"},30:function(e,t,n,a){return"false"},32:function(e,t,n,a){return"true"},34:function(e,t,n,a){var i;return'                                                <div class="tab-content" data-tab="license_references" data-is-hidden="'+(null!=(i=t.if.call(e,null!=e?e.display_details_tab_active:e,{name:"if",hash:{},fn:this.program(30,a,0),inverse:this.program(32,a,0),data:a}))?i:"")+'">\n'+(null!=(i=t.if.call(e,null!=e?e.display_art_buyers:e,{name:"if",hash:{},fn:this.program(35,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.display_license_references:e,{name:"if",hash:{},fn:this.program(37,a,0),inverse:this.noop,data:a}))?i:"")+"                                                </div>\n"},35:function(e,t,n,a){return'                                                        <div class="art-buyers-select-form padding-bottom-large padding-top-large border-bottom-1 border-bottom-solid nurse-border">\n                                                            <div class="row">\n                                                                <div class="column on-small-12 on-medium-6">\n                                                                    <div class="margin-bottom-small">\n                                                                        '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::ART BUYER(S)",{name:"_",hash:{},data:a}))+'\n                                                                    </div>\n                                                                    <div class="js-artbuyer-select-form-container">\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n                                                        </div>\n'},37:function(e,t,n,a){var i;return'                                                        <div class="row">\n                                                            <div class="left-align">\n                                                                <p>\n                                                                    <span class="text-up" data-t="references-title-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MEMBER::HISTORY::References",{name:"_",hash:{},data:a}))+'</span>\n                                                                    <span class="right grey dove-text text-sregular" data-t="references-mandatory-note-text"><sup>*</sup>'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"ORGANIZATION::REFERENCE::Mandatory References",{name:"_",hash:{},data:a}))+"</span>\n                                                                </p>\n                                                            </div>\n                                                        </div>\n"+(null!=(i=this.invokePartial(n["modalWindow/licenseReferencesFieldSet"],e,{name:"modalWindow/licenseReferencesFieldSet",data:a,indent:"                                                        ",helpers:t,partials:n}))?i:"")},39:function(e,t,n,a){var i;return'                                                <div class="tab-content" data-tab="license_transfer" data-is-hidden="'+(null!=(i=t.if.call(e,null!=e?e.display_license_transfer_active:e,{name:"if",hash:{},fn:this.program(30,a,0),inverse:this.program(32,a,0),data:a}))?i:"")+'">\n'+(null!=(i=this.invokePartial(n["modalWindow/licenseTransferFieldSet"],e,{name:"modalWindow/licenseTransferFieldSet",data:a,indent:"                                                    ",helpers:t,partials:n}))?i:"")+"                                                </div>\n"},41:function(e,t,n,a){var i;return'                                                <div class="tab-content" data-tab="license_comments" data-is-hidden="'+(null!=(i=t.if.call(e,null!=e?e.display_license_comments_active:e,{name:"if",hash:{},fn:this.program(30,a,0),inverse:this.program(32,a,0),data:a}))?i:"")+'">\n                                                    <div class="js-license-comments-wrapper padding-top-medium container-relative"></div>\n                                                </div>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<div class="motmot">\n    <div class="mti-modal modal-bulk-selection js-modal-bulk-selection modal--large modal--secondary modal--with-header animated fade-in" data-state="shown"'+(null!=(i=t.if.call(e,null!=e?e.ingest_subcategory:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'>\n        <div class="modal__body overflow-visible">\n            <i class="modal__close mti-icon icon-close js-modal-hide-modal" data-t="close-icon"></i>\n            <form class="js-modal-licensing-bulk-form" method="post" novalidate>\n                <div class="modal__header center-align">\n                    <span data-t="modal-bulk-title">'+this.escapeExpression("function"==typeof(s=null!=(s=t.title||(null!=e?e.title:e))?s:t.helperMissing)?s.call(e,{name:"title",hash:{},data:a}):s)+'</span>\n                </div>\n                <div class="modal__content grey gravel-text">\n                    <div class="js-modal-bulk-content-wrapper container-relative padding-large">\n                        <div class="border-1 border-solid border-radius-4 white nurse-border padding-medium margin-bottom-xlarge">\n                            <div class="container-inline-block padding-right-large '+(null!=(i=t.if.call(e,null!=e?e.display_totals_with_taxes:e,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+'">\n                                <table class="left-align v-align-top text-sregular">\n                                    <tbody>\n                                        <tr class="padding-bottom-xsmall">\n                                            <td class="padding-right-xlarge" data-t="number-of-assets-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::INFO::Number of assets",{name:"_",hash:{},data:a}))+'</td>\n                                            <td class="js-modal-nb-assets" data-t="number-of-assets-text-value"></td>\n                                        </tr>\n                                        <tr class="padding-bottom-xsmall">\n                                            <td class="padding-right-xlarge">\n                                                <strong data-t="price-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::INFO::Price",{name:"_",hash:{},data:a}))+'</strong>\n                                            </td>\n                                            <td class="js-modal-total-prices-column"></td>\n                                        </tr>\n                                    </tbody>\n                                </table>\n                            </div>\n'+(null!=(i=t.if.call(e,null!=e?e.display_totals_with_taxes:e,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+'                            <div class="js-error-header left-align v-align-top text-small red lust-text" data-is-hidden="true">\n                                <i class="mti-icon icon-alert"></i>\n                                <span class="js-error-header-message"></span>\n'+(null!=(i=t.if.call(e,null!=e?e.credit_card_purchase_enabled:e,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:"")+'                            </div>\n                            <div class="js-error-additional-licensing-disabled left-align v-align-top text-small red lust-text" data-is-hidden="true">\n                                <i class="mti-icon icon-alert"></i>\n                                <span>'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::ERROR::Sorry, Your selection contains assets that cannot be licensed multiple times.",{name:"_",hash:{},data:a}))+"</span>\n                            </div>\n                        </div>\n"+(null!=(i=t.if.call(e,null!=e?e.assets_selectable:e,{name:"if",hash:{},fn:this.program(9,a,0),inverse:this.noop,data:a}))?i:"")+'                        <div class="border-1 border-solid border-radius-4 nurse-border">\n                            <div class="row">\n                                <div class="column on-small-12'+(null!=(i=t.if.call(e,null!=e?e.has_modal_tabs:e,{name:"if",hash:{},fn:this.program(11,a,0),inverse:this.program(13,a,0),data:a}))?i:"")+'">\n                                    <div class="modal-bulk-selection-assets-wrapper overflow-scroll border-right-solid grey alabaster">\n'+(null!=(i=this.invokePartial(n["components/bulkSelectionModal/assetsTable"],e,{name:"components/bulkSelectionModal/assetsTable",hash:{tableIsSelectable:null!=e?e.assets_selectable:e,assets:null!=e?e.assets:e},data:a,indent:"                                        ",helpers:t,partials:n}))?i:"")+"                                    </div>\n                                </div>\n"+(null!=(i=t.if.call(e,null!=e?e.has_modal_tabs:e,{name:"if",hash:{},fn:this.program(15,a,0),inverse:this.noop,data:a}))?i:"")+'                            </div>\n                        </div>\n                        <div class="js-modal-bulk-selection-tooltip tooltip tooltip--fixed-width in-front" data-is-hidden="true"></div>\n                    </div>\n                </div>\n                <div class="modal__footer right-align">\n'+(null!=(i=this.invokePartial(n.footerButtonsTemplate,e,{name:"footerButtonsTemplate",data:a,indent:"                    ",helpers:t,partials:n}))?i:"")+"                </div>\n            </form>\n        </div>\n    </div>\n</div>\n"},usePartial:!0,useData:!0})}),define("hbs!templates/components/bulkSelectionModal/assetsTable",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return" table--condensed"},3:function(e,t,n,a,i,s){var r,o;return'            <tr class="js-modal-table-asset-row js-modal-tr-'+this.escapeExpression("function"==typeof(o=null!=(o=t.key||a&&a.key)?o:t.helperMissing)?o.call(e,{name:"key",hash:{},data:a}):o)+(null!=(r=t.unless.call(e,null!=e?e.is_selectable:e,{name:"unless",hash:{},fn:this.program(4,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'" data-select="'+this.escapeExpression("function"==typeof(o=null!=(o=t.key||a&&a.key)?o:t.helperMissing)?o.call(e,{name:"key",hash:{},data:a}):o)+'" data-t="selected-asset-'+this.escapeExpression(this.lambda(null!=e?e.content_id:e,e))+'">\n'+(null!=(r=t.if.call(e,null!=s[1]?s[1].tableIsSelectable:s[1],{name:"if",hash:{},fn:this.program(6,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'                <td class="table__td">\n                    <div class="license-image container-relative">\n                        <img class="c-align pointer-events-none" src="'+this.escapeExpression(this.lambda(null!=e?e.content_thumb_url:e,e))+'" data-t="selected-asset-thumbnail"/>\n                    </div>\n                </td>\n'+(null!=(r=t.with.call(e,t.lookup.call(e,null!=e?e.license_details:e,null!=e?e.default_license_id:e,{name:"lookup",hash:{},data:a}),{name:"with",hash:{},fn:this.program(9,a,0,i,s),inverse:this.noop,data:a}))?r:"")+(null!=(r=t.if.call(e,null!=s[1]?s[1].tableIsSelectable:s[1],{name:"if",hash:{},fn:this.program(12,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'                <td class="table__td center-align">\n                    <div class="margin-right-medium table-assets-select__actions">\n'+(null!=(r=t.if.call(e,null!=e?e.is_selectable:e,{name:"if",hash:{},fn:this.program(15,a,0,i,s),inverse:this.program(17,a,0,i,s),data:a}))?r:"")+"                    </div>\n                </td>\n            </tr>\n"},4:function(e,t,n,a){return" disabled"},6:function(e,t,n,a){var i,s;return'                    <td class="table__td table__checkbox">\n                        <input type="checkbox" class="js-modal-table-asset-checkbox" value="'+this.escapeExpression("function"==typeof(s=null!=(s=t.key||a&&a.key)?s:t.helperMissing)?s.call(e,{name:"key",hash:{},data:a}):s)+'" data-t="selected-asset-checkbox" '+(null!=(i=t.unless.call(e,null!=e?e.is_selectable:e,{name:"unless",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:"")+"/>\n                    </td>\n"},7:function(e,t,n,a){return' disabled="disabled"'},9:function(e,t,n,a,i,s){var r,o;return'                    <td class="table__td">\n                        <div class="js-modal-license-dropdown license-dropdown'+(null!=(r=t.unless.call(e,null!=s[1]?s[1].has_multiple_licenses:s[1],{name:"unless",hash:{},fn:this.program(10,a,0,i,s),inverse:this.noop,data:a}))?r:"")+' container-relative padding-right-large" data-rel="'+this.escapeExpression("function"==typeof(o=null!=(o=t.key||a&&a.key)?o:t.helperMissing)?o.call(e,{name:"key",hash:{},data:a}):o)+'">\n'+(null!=(r=this.invokePartial(n["components/bulkSelectionModal/columnLicenseDetails"],e,{name:"components/bulkSelectionModal/columnLicenseDetails",hash:{asset_details:null!=e?e.asset_details:e,is_additional_licensing_disabled:null!=e?e.is_additional_licensing_disabled:e,license_type_label:null!=e?e.license_type_label:e},data:a,indent:"                            ",helpers:t,partials:n}))?r:"")+'                        </div>\n                    </td>\n                    <td class="js-modal-license-price table__td" data-rel="'+this.escapeExpression("function"==typeof(o=null!=(o=t.key||a&&a.key)?o:t.helperMissing)?o.call(e,{name:"key",hash:{},data:a}):o)+'">\n'+(null!=(r=this.invokePartial(n["components/bulkSelectionModal/columnLicensePrice"],e,{name:"components/bulkSelectionModal/columnLicensePrice",hash:{facing_price:null!=e?e.facing_price:e,license_price:null!=e?e.license_price:e,display_license_price:null!=e?e.display_license_price:e,is_additional_licensing_disabled:null!=e?e.is_additional_licensing_disabled:e},data:a,indent:"                        ",helpers:t,partials:n}))?r:"")+"                    </td>\n"},10:function(e,t,n,a){return" disabled pointer-events-none"},12:function(e,t,n,a){var i;return'                    <td class="table__td center-align">\n'+(null!=(i=t.if.call(e,null!=e?e.is_selectable:e,{name:"if",hash:{},fn:this.program(13,a,0),inverse:this.noop,data:a}))?i:"")+"                    </td>\n"},13:function(e,t,n,a){var i;return'                            <span class="js-modal-asset-request-info-status request-info-status cursor-pointer" data-rel="'+this.escapeExpression("function"==typeof(i=null!=(i=t.key||a&&a.key)?i:t.helperMissing)?i.call(e,{name:"key",hash:{},data:a}):i)+'" data-select="'+this.escapeExpression("function"==typeof(i=null!=(i=t.key||a&&a.key)?i:t.helperMissing)?i.call(e,{name:"key",hash:{},data:a}):i)+'" data-t="request-info-status">\n                                <i class="mti-icon icon-radio-active text-sregular no-padding"></i>\n                            </span>\n'},15:function(e,t,n,a){var i;return'                            <span class="js-modal-asset-toggle-remove table-assets-select__action cursor-pointer" data-rel="'+this.escapeExpression("function"==typeof(i=null!=(i=t.key||a&&a.key)?i:t.helperMissing)?i.call(e,{name:"key",hash:{},data:a}):i)+'" data-t="remove-from-selection-button">\n                                <i class="mti-icon mti-icon--framed icon-close half-heavy-metal-overlay white-text text-regular no-padding"></i>\n                            </span>\n'},17:function(e,t,n,a){var i;return'                            <i class="js-modal-icon-alert mti-icon icon-alert red lust-text" data-rel="'+this.escapeExpression("function"==typeof(i=null!=(i=t.key||a&&a.key)?i:t.helperMissing)?i.call(e,{name:"key",hash:{},data:a}):i)+'" data-t="selected-asset-disabled-info"></i>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a,i,s){var r;return'<table class="table-assets-select table table--default'+(null!=(r=t.if.call(e,null!=e?e.tableIsSelectable:e,{name:"if",hash:{},fn:this.program(1,a,0,i,s),inverse:this.noop,data:a}))?r:"")+'">\n    <tbody>\n'+(null!=(r=t.each.call(e,null!=e?e.assets:e,{name:"each",hash:{},fn:this.program(3,a,0,i,s),inverse:this.noop,data:a}))?r:"")+"    </tbody>\n</table>\n"},usePartial:!0,useData:!0,useDepths:!0})}),define("hbs!templates/components/bulkSelectionModal/columnLicenseDetails",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return' class="red bright-text"'},3:function(e,t,n,a){var i;return'            <span class="container-inline-block">'+this.escapeExpression("function"==typeof(i=null!=(i=t.type_label||(null!=e?e.type_label:e))?i:t.helperMissing)?i.call(e,{name:"type_label",hash:{},data:a}):i)+'</span>\n            <span class="container-inline-block">'+this.escapeExpression("function"==typeof(i=null!=(i=t.sub_type_label||(null!=e?e.sub_type_label:e))?i:t.helperMissing)?i.call(e,{name:"sub_type_label",hash:{},data:a}):i)+'</span>\n            <span class="container-inline-block">'+this.escapeExpression("function"==typeof(i=null!=(i=t.resolution||(null!=e?e.resolution:e))?i:t.helperMissing)?i.call(e,{name:"resolution",hash:{},data:a}):i)+"</span>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return"<div"+(null!=(i=(t["if-or"]||e&&e["if-or"]||t.helperMissing).call(e,(t.not||e&&e.not||t.helperMissing).call(e,null!=e?e.is_included_in_current_plan:e,{name:"not",hash:{},data:a}),null!=e?e.is_additional_licensing_disabled:e,{name:"if-or",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+' >\n    <span class="container-block" data-t="selected-asset-license-label">'+this.escapeExpression("function"==typeof(s=null!=(s=t.user_facing_license_type_label||(null!=e?e.user_facing_license_type_label:e))?s:t.helperMissing)?s.call(e,{name:"user_facing_license_type_label",hash:{},data:a}):s)+'</span>\n    <div class="font-thin text-small" data-t="selected-asset-license-details">\n'+(null!=(i=t.with.call(e,null!=e?e.asset_details:e,{name:"with",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+'    </div>\n    <i class="container-absolute mti-icon mti-icon--framed icon-down to-the-right no-padding text-regular"></i>\n</div>\n'},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/columnLicensePrice",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i,s;return'    <span class="container-block'+(null!=(i=t.if.call(e,null!=e?e.is_additional_licensing_disabled:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:"")+'" data-t="selected-asset-license-price">'+this.escapeExpression("function"==typeof(s=null!=(s=t.license_price||(null!=e?e.license_price:e))?s:t.helperMissing)?s.call(e,{name:"license_price",hash:{},data:a}):s)+'</span>\n    <span class="container-block font-thin text-small'+(null!=(i=t.if.call(e,null!=e?e.is_additional_licensing_disabled:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:"")+'" data-t="selected-asset-license-facing-price">'+this.escapeExpression("function"==typeof(s=null!=(s=t.facing_price||(null!=e?e.facing_price:e))?s:t.helperMissing)?s.call(e,{name:"facing_price",hash:{},data:a}):s)+"</span>\n"},2:function(e,t,n,a){return" red bright-text"},4:function(e,t,n,a){return'    <span class="container-block">-</span>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.display_license_price:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(4,a,0),data:a}))?i:""},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/columnTotalPrices",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return'    <p class="no-margin text-sregular">\n        <span class="quota" data-t="price-text-value-free">\n            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"HEADER::MEMBER::Free",{name:"_",hash:{},data:a}))+"\n\n        </span>\n    </p>\n"},3:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.total_prices_are_included_in_your_plan:e,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.program(6,a,0),data:a}))?i:""},4:function(e,t,n,a){return'    <p class="no-margin text-sregular">\n        <span class="quota" data-t="price-text-value-bundle">\n            '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"HEADER::MEMBER::Included in your plan",{name:"_",hash:{},data:a}))+"\n        </span>\n    </p>\n"},6:function(e,t,n,a){var i;return null!=(i=t.each.call(e,null!=e?e.total_prices:e,{name:"each",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:""},7:function(e,t,n,a){var i,s;return'        <p class="no-margin text-sregular'+(null!=(i=t.if.call(e,null!=e?e.is_above_available_quota:e,{name:"if",hash:{},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")+'">\n            <span class="quota" data-t="price-text-value-'+this.escapeExpression("function"==typeof(s=null!=(s=t.index||a&&a.index)?s:t.helperMissing)?s.call(e,{name:"index",hash:{},data:a}):s)+'">\n                '+this.escapeExpression((t.number||e&&e.number||t.helperMissing).call(e,null!=e?e.quota:e,{name:"number",hash:{},data:a}))+"\n"+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"credits",logic:"eq",value:null!=e?e.quota_type:e},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"images",logic:"eq",value:null!=e?e.quota_type:e},fn:this.program(12,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"premium_credits",logic:"eq",value:null!=e?e.quota_type:e},fn:this.program(14,a,0),inverse:this.noop,data:a}))?i:"")+"            </span>\n            "+(null!=(i=t.if.call(e,null!=e?e.facing_price:e,{name:"if",hash:{},fn:this.program(16,a,0),inverse:this.noop,data:a}))?i:"")+"\n        </p>\n"},8:function(e,t,n,a){return" red lust-text"},10:function(e,t,n,a){return"                    "+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Credit","HEADER::MEMBER::Credits",null!=e?e.quota:e,{name:"ngettext",hash:{},data:a}))+"\n"},12:function(e,t,n,a){return"                    "+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Image","HEADER::MEMBER::Images",null!=e?e.quota:e,{name:"ngettext",hash:{},data:a}))+"\n"},14:function(e,t,n,a){return"                    "+this.escapeExpression((t.ngettext||e&&e.ngettext||t.helperMissing).call(e,"HEADER::MEMBER::Premium Credit","HEADER::MEMBER::Premium Credits",null!=e?e.quota:e,{name:"ngettext",hash:{},data:a}))+"\n"},16:function(e,t,n,a){var i;return'<strong data-t="price-text-currency-value-'+this.escapeExpression("function"==typeof(i=null!=(i=t.index||a&&a.index)?i:t.helperMissing)?i.call(e,{name:"index",hash:{},data:a}):i)+'">('+this.escapeExpression("function"==typeof(i=null!=(i=t.facing_price||(null!=e?e.facing_price:e))?i:t.helperMissing)?i.call(e,{name:"facing_price",hash:{},data:a}):i)+")</strong>"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.total_prices_are_free:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(3,a,0),data:a}))?i:""},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/footer/buttonsApproverLicense",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<button class="js-modal-button-approve-request button button--dialog button--action" data-t="modal-license-bulk-btn-cta">\n    <i class="mti-icon icon-shopping-cart margin-right-xsmall"></i>\n    <span data-t="modal-license-bulk-btn-cta-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"FILE::Confirm Licensing",{name:"_",hash:{},data:a}))+"</span>\n</button>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/footer/buttonsRequesterCreate",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<button type="button" class="js-modal-button-save-request button button--dialog button--action" data-t="modal-license-save-request-btn-cta">\n    <i class="mti-icon icon-pending margin-right-xsmall"></i>\n    <span data-t="modal-license-save-request-btn-cta-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::Save",{name:"_",hash:{},data:a}))+'</span>\n</button>\n<button class="js-modal-button-send-request button button--dialog button--action" data-t="modal-license-send-request-btn-cta">\n    <i class="mti-icon icon-share margin-right-xsmall"></i>\n    <span data-t="modal-license-send-request-btn-cta-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::Send request",{name:"_",hash:{},data:a}))+"</span>\n</button>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/footer/buttonsRequesterEdit",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<label class="switch margin-right-medium margin-left-medium" data-t="modal-license-request-notify-checkbox">\n    <input class="js-modal-license-request-notify-checkbox" type="checkbox" name="notify" />\n    <span class="white-text" data-t="modal-license-request-notify-checkbox-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"COMMENT::ACTION::Notify",{name:"_",hash:{},data:a}))+'</span>\n</label>\n<button class="js-modal-button-update-request button button--dialog button--action" data-t="modal-license-update-request-btn-cta">\n    <i class="mti-icon icon-update margin-right-xsmall"></i>\n    <span data-t="modal-license-update-request-btn-cta-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::Update request",{name:"_",hash:{},data:a}))+"</span>\n</button>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/footer/buttonsGenerateQuote",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<button class="js-modal-button-generate-quote button button--dialog button--action" data-t="modal-generate-quote-btn-cta">\n    <i class="mti-icon margin-right-xsmall"></i>\n    <span class="padding-left-xsmall padding-right-xsmall" data-t="modal-generate-quote-btn-cta-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::QUOTES::Generate Quote",{name:"_",hash:{},data:a}))+"</span>\n</button>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/taxesDetailsTemplate",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i,s;return'            <tr class="padding-bottom-xsmall">\n                <td class="padding-right-xlarge" data-t="tax-rate-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::INFO::Tax Rate",{name:"_",hash:{},data:a}))+'</td>\n                <td data-t="tax-rate-value">'+this.escapeExpression((t.number||e&&e.number||t.helperMissing).call(e,null!=(i=null!=e?e.taxes_data:e)?i.rate:i,{name:"number",hash:{},data:a}))+'%</td>\n            </tr>\n            <tr class="padding-bottom-xsmall">\n                <td class="padding-right-large"><strong data-t="price-incl-taxes-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::INFO::Total price (Tax incl.)",{name:"_",hash:{},data:a}))+'</strong></td>\n                <td class="js-modal-total-prices-taxes" data-t="price-incl-taxes-value">'+this.escapeExpression("function"==typeof(s=null!=(s=t.prices_including_taxes||(null!=e?e.prices_including_taxes:e))?s:t.helperMissing)?s.call(e,{name:"prices_including_taxes",hash:{},data:a}):s)+"</td>\n            </tr>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,s;return'<table>\n    <tbody>\n        <tr class="padding-bottom-xsmall">\n            <td class="padding-right-xlarge"><strong data-t="price-excl-taxes-label">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::INFO::Total price (Tax excl.)",{name:"_",hash:{},data:a}))+'</strong></td>\n            <td class="js-modal-total-prices" data-t="price-excl-taxes-value">'+this.escapeExpression("function"==typeof(s=null!=(s=t.prices_excluding_taxes||(null!=e?e.prices_excluding_taxes:e))?s:t.helperMissing)?s.call(e,{name:"prices_excluding_taxes",hash:{},data:a}):s)+"</td>\n        </tr>\n"+(null!=(i=t.if.call(e,null!=(i=null!=e?e.taxes_data:e)?i.included:i,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+"    </tbody>\n</table>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/toolTipHintRequestIncomplete",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<span class="container-inline-block white-text text-small" data-t="selected-asset-status-incomplete-text">\n    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::INFO::Incomplete",{name:"_",hash:{},data:a}))+"\n</span>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/toolTipHintRequestReady",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<span class="container-inline-block white-text text-small" data-t="selected-asset-status-ready-text">\n    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::INFO::Ready",{name:"_",hash:{},data:a}))+"\n</span>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/toolTipErrorPermissions",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){return"        <span>"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::ERROR::We are sorry but this content is not available for selling.",{name:"_",hash:{},data:a}))+"</span>\n"},3:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.quota_unavailable:e,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.program(6,a,0),data:a}))?i:""},4:function(e,t,n,a){return"        <span>"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::ERROR::You cannot license this asset type with your current plan. Therefore this asset has been removed from your selection.",{name:"_",hash:{},data:a}))+"</span>\n"},6:function(e,t,n,a){var i;return null!=(i=t.if.call(e,null!=e?e.asset_disabled:e,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:""},7:function(e,t,n,a){return"        <span>"+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::ERROR::You cannot license this asset type due to Administrator restrictions. Therefore this asset has been removed from your selection.",{name:"_",hash:{},data:a}))+"</span>\n    "},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="container-inline-block white-text text-small" data-t="asset-disabled-text">\n'+(null!=(i=t.if.call(e,null!=e?e.asset_is_not_purchasable:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(3,a,0),data:a}))?i:"")+"</div>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/toolTipErrorQuota",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<span class="container-inline-block white-text text-small" data-t="above-available-quota-error-text">\n    '+this.escapeExpression((t.sprintf||e&&e.sprintf||t.helperMissing).call(e,(t._||e&&e._||t.helperMissing).call(e,"MODAL::SELECTION::ERROR::Your selection exceeds your %s available quota. Please update your selection to continue or ask your administrator to increase your quota.",{name:"_",hash:{},data:a}),null!=e?e.total_quota:e,{name:"sprintf",hash:{},data:a}))+"\n</span>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/toolTipErrorQuotesQuota",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<span class="container-inline-block white-text text-small" data-t="above-available-quota-error-text">\n    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"MODAL::QUOTES::ERROR::Your selection includes Stock assets you may not be able to license",{name:"_",hash:{},data:a}))+"\n</span>\n"},useData:!0})}),define("hbs!templates/components/bulkSelectionModal/toolTipLicenseSelect",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i,s;return'        <label class="text-sregular cursor-pointer" data-t="license-dropdown-radio">\n            <div class="container-relative padding-left-large padding-bottom-small'+(null!=(i=(t["if-or"]||e&&e["if-or"]||t.helperMissing).call(e,null!=e?e.is_included_in_current_plan:e,(t.not||e&&e.not||t.helperMissing).call(e,null!=e?e.is_additional_licensing_disabled:e,{name:"not",hash:{},data:a}),{name:"if-or",hash:{},fn:this.program(2,a,0),inverse:this.program(4,a,0),data:a}))?i:"")+'">\n                <input type="radio" name="license-select-radio" class="js-modal-asset-license-radio container-absolute to-the-left to-the-top margin-top-xsmall"\n                    value="'+this.escapeExpression("function"==typeof(s=null!=(s=t.key||a&&a.key)?s:t.helperMissing)?s.call(e,{name:"key",hash:{},data:a}):s)+'"\n                    data-rel="'+this.escapeExpression(this.lambda((i=a&&a.root)&&i.id,e))+'"\n                    data-t="license-dropdown-radio-input"\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:(i=a&&a.root)&&i.default_license_id,logic:"eq",value:a&&a.key},fn:this.program(6,a,0),inverse:this.noop,data:a}))?i:"")+'                />\n                <span class="container-block no-stretch" data-t="license-dropdown-radio-label">'+this.escapeExpression(this.lambda(null!=e?e.user_facing_license_type_label:e,e))+'</span>\n                <div class="font-thin text-small" data-t="license-dropdown-radio-details">\n'+(null!=(i=t.with.call(e,null!=e?e.asset_details:e,{name:"with",hash:{},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")+"                </div>\n            </div>\n        </label>\n"},2:function(e,t,n,a){return" grey gravel-text"},4:function(e,t,n,a){return" red bright-text"},6:function(e,t,n,a){return'                    checked="true"\n'},8:function(e,t,n,a){var i;return'                        <span class="container-inline-block">'+this.escapeExpression("function"==typeof(i=null!=(i=t.type_label||(null!=e?e.type_label:e))?i:t.helperMissing)?i.call(e,{name:"type_label",hash:{},data:a}):i)+'</span>\n                        <span class="container-inline-block">'+this.escapeExpression("function"==typeof(i=null!=(i=t.sub_type_label||(null!=e?e.sub_type_label:e))?i:t.helperMissing)?i.call(e,{name:"sub_type_label",hash:{},data:a}):i)+'</span>\n                        <span class="container-inline-block">'+this.escapeExpression("function"==typeof(i=null!=(i=t.resolution||(null!=e?e.resolution:e))?i:t.helperMissing)?i.call(e,{name:"resolution",hash:{},data:a}):i)+"</span>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="padding-top-xsmall padding-left-small padding-right-medium" data-t="selected-asset-license-dropdown-'+this.escapeExpression(this.lambda((i=a&&a.root)&&i.id,e))+'">\n'+(null!=(i=t.each.call(e,null!=e?e.licenses:e,{name:"each",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+"</div>\n"},useData:!0})}),define("lib/bulkSelectionModal",["jquery","i18n","i18n-config","viewHelpers/numberFormatI18n","page_config","lib/ajax","lib/commentsModule","lib/licenseType","lib/licenseHistoryConstants","lib/licenseRequestModal","lib/member","lib/selectAllComponent","lib/utils","components/licenseTransferFieldSet","components/licenseReferencesFieldSet","components/multipleSelectFormComponent","components/quoteDetailsFieldSet","hbs!templates/modalWindow/bulkSelectionModal","hbs!templates/modalWindow/fieldInputValidator","hbs!templates/components/bulkSelectionModal/assetsTable","hbs!templates/components/bulkSelectionModal/columnLicenseDetails","hbs!templates/components/bulkSelectionModal/columnLicensePrice","hbs!templates/components/bulkSelectionModal/columnTotalPrices","hbs!templates/components/bulkSelectionModal/footer/buttonsApproverLicense","hbs!templates/components/bulkSelectionModal/footer/buttonsRequesterCreate","hbs!templates/components/bulkSelectionModal/footer/buttonsRequesterEdit","hbs!templates/components/bulkSelectionModal/footer/buttonsGenerateQuote","hbs!templates/components/bulkSelectionModal/tabsHeaderItem","hbs!templates/components/bulkSelectionModal/taxesDetailsTemplate","hbs!templates/components/bulkSelectionModal/toolTipHintAdd","hbs!templates/components/bulkSelectionModal/toolTipHintRemove","hbs!templates/components/bulkSelectionModal/toolTipHintRequestIncomplete","hbs!templates/components/bulkSelectionModal/toolTipHintRequestReady","hbs!templates/components/bulkSelectionModal/toolTipErrorPermissions","hbs!templates/components/bulkSelectionModal/toolTipErrorQuota","hbs!templates/components/bulkSelectionModal/toolTipErrorQuotesQuota","hbs!templates/components/bulkSelectionModal/toolTipLicenseSelect"],function(e,t,n,a,i,s,r,o,l,c,u,d,p,_,h,f,E,m,g,T,b,v,I,S,A,O,y,C,R,L,N,D,P,w,M,k,x){"use strict";var F,U,H,j=e("body");function Y(e,t,n,a,i){var s=t.positionRelativeTo(".js-modal-bulk-content-wrapper");e.removeClass("tooltip--top tooltip--secondary tooltip--bottom tooltip--error tooltip--primary"),e.addClass(n),e.css({top:s.top+a,left:s.left+i}).attr("data-is-hidden",!1)}function V(e,t){var n={};for(var i in e)n[i]=a.format(e[i].quota)+" "+e[i].label_type,t&&t[i]&&(n[i]+=" ("+a.formatCurrency(e[i].quota*t[i].currency_value,t[i].currency_type)+")");return n}function G(e,t,n){var a,i,s=!1;for(i in e)if(!(a=e[i]).is_removed&&(n||a.is_allowed_and_purchasable)&&(s=!0,!a[t])){s=!1;break}return s}function B(i,s,r,l,c,u){var d,p,_=c.find(".js-modal-nb-assets"),h=c.find(".js-modal-total-prices-column"),f=c.find(".js-modal-taxes-details"),E=function(e,t,n,i){var s,r,l,c,u,d,p,_,h,f={},E={};for(s in e)Q(u=e[s])&&!u.is_bundle_licensable&&(r=(l=q(u,u.default_license_id)).license_type_id,l.display_license_price&&t.hasOwnProperty(r)&&(E.hasOwnProperty(r)?E[r]+=l.quota:E[r]=l.quota));for(r in E)_=E[r],n&&n[r]&&(p=(d=n[r]).currency_type,h=_*d.currency_value,c=a.formatCurrency(h,d.currency_type)),f[r]={quota:_,quota_type:t[r].label_type,facing_price:c,currency_type:p,quota_value:h,license_type_id:r,is_above_available_quota:!i&&_>t[r].quota};return Object.keys(f).length>1&&f[o.LICENSE_TYPE_ID_CCE_BUNDLE]&&delete f[o.LICENSE_TYPE_ID_CCE_BUNDLE],f}(i,s,r,u),m=function(e){var t=!1;for(var n in e)if(e[n].is_above_available_quota){t=!0;break}return t}(E),g=function(e,t){var n=0;for(var a in e){var i=e[a];(!i.is_removed&&t?i.is_quotable:i.is_allowed_and_purchasable)&&(n+=1)}return n}(i,u),T=function(e){var t,n,a=!0;for(t in e)if(Q(n=e[t])&&!q(n,n.default_license_id).is_included_in_current_plan){a=!1;break}return a}(i),b=function(e){var t,n,a=!0;for(t in e)if((n=e[t]).is_allowed_and_purchasable&&!n.is_removed&&q(n,n.default_license_id).is_additional_licensing_disabled){a=!1;break}return a}(i),v=function(e){return Object.keys(e).some(function(t){return!e[t].is_allowed_and_purchasable})}(i),S=function(e,t){return Object.keys(e).every(function(n){var a=e[n],i=q(a,a.default_license_id);return t[i.license_type_id]})}(i,s),A=!1;if(h.html(I({total_prices:E,total_prices_are_free:G(i,"is_free",u),total_prices_are_included_in_your_plan:G(i,"is_bundle_licensable",u)})),z(s,r,l)&&f.html(R(function(t,n){var i,s,r,o={},l=[],c=[],u=n.rate;for(s in t)(i=t[s]).currency_type&&(o.hasOwnProperty(i.currency_type)||(o[i.currency_type]=0),o[i.currency_type]+=i.quota_value);return r=Object.keys(o),e.map(r,function(e){var t=o[e],i=t;l.push(a.formatCurrency(t,e)),n.included&&(i+=i*u/100,c.push(a.formatCurrency(i,e)))}),{taxes_data:n,prices_excluding_taxes:l.join(", "),prices_including_taxes:c.join(", ")}}(E,l))),_.removeClass("red lust-text"),_.text(t.sprintf(n.ngettext("LICENSE::HISTORY::CONTENT_COUNT::%s Asset","LICENSE::HISTORY::CONTENT_COUNT::%s Assets",g),a.format(g))),A=!g||!T,u||(A=A||m||!b),c.find(".js-modal-button-license",A).attr("disabled",A),c.find(".js-modal-button-send-request",A).attr("disabled",A),c.find(".js-modal-button-save-request",A).attr("disabled",A),c.find(".js-modal-button-update-request",A).attr("disabled",A),c.find(".js-modal-button-approve-request",A).attr("disabled",A),c.find(".js-modal-button-generate-quote",A).attr("disabled",A),g?c.find(".js-modal-bulk-selection-all-checkbox").removeAttr("disabled"):(c.find(".js-modal-bulk-selection-all-checkbox").attr("disabled",!0),_.addClass("red lust-text")),c.find(".js-error-licenses-not-included").attr("data-is-hidden",T),c.find(".js-error-additional-licensing-disabled").attr("data-is-hidden",b),p=m||v||!S,c.find(".js-error-header").attr("data-is-hidden",!p),p){if(m){var O=V(s,r),y=[];for(var C in O)E[C]&&E[C].is_above_available_quota&&y.push(O[C]);d=t.sprintf(n.gettext("MODAL::SELECTION::ERROR::Your selection exceeds your available quota of %s. Please update your selection to continue or ask your administrator to increase your quota."),y.join(", "))}else S?v&&(d=n.gettext("MODAL::SELECTION::ERROR::Your selection contains asset types or licenses not authorized by your administrator; these won't be licensed.")):d=n.gettext("MODAL::SELECTION::ERROR::Your selection contains asset types or licenses not included in your plan; these won't be licensed.");c.find(".js-error-header-message").text(d)}return A}function q(e,t){return e.license_details[t]||{}}function W(t,n,a,i,s,r){var o=!0;return e.isFunction(t.resetFields)&&t.resetFields(),r&&!t.valid()&&(o=!1,a.select(s)),n[i]=t.data(),o}function K(){H&&(H.destroy(),H=null),F.remove(),j.removeClass("overflow-hidden")}function z(e,t,n){var a=Object.keys(e);return!(!a.length||!n.included)&&a.every(function(e){return t.hasOwnProperty(e)})}function Q(e){return!e.is_removed&&(e.is_allowed_and_purchasable||e.is_quotable)}e.fn.positionRelativeTo=function(t){var n,a=e(this),i=a.offsetParent(),s=a.position();return t?("BODY"==i.get(0).tagName||e(t,i).length||i[0]==e(t)[0]||(n=i.positionRelativeTo(t),s.top+=n.top,s.left+=n.left),s):s};var Z=function(t,a,i){var s,o,l,S,A,O,y,G,Z,$,J,ee,te,ne,ae=function(e){var t,n,a,i,s=e.license_requests||e.contents_data,r=e.is_quotes_modal;for(n in s)t=s[n].possible_licenses,a=s[n].default_license_id,i=s[n].license_details,t.includes(a)||(a=t[0]),s[n].default_license_id=a,s[n].has_multiple_licenses=t.length>1,s[n].license_details[a].display_license_price=r||!i[a].is_additional_licensing_disabled,s[n].is_removed||(s[n].is_selectable=e.is_quotes_modal?s[n].is_quotable:s[n].is_allowed_and_purchasable);return s}(t),ie=e.Deferred(),se=!1,re=t.quotas_data_by_license_type_id,oe=t.currency_data_by_license_type_id,le=V(re,oe),ce=t.taxes,ue=Object.keys(ae).length>1,de=e.extend({"components/bulkSelectionModal/columnLicenseDetails":b,"components/bulkSelectionModal/columnLicensePrice":v,"components/bulkSelectionModal/columnTotalPrices":I,"components/bulkSelectionModal/assetsTable":T,"components/bulkSelectionModal/tabsHeaderItem":C,"components/bulkSelectionModal/taxesDetailsTemplate":R,"modalWindow/fieldInputValidator":g,"modalWindow/licenseTransferFieldSet":_.template,"modalWindow/licenseReferencesFieldSet":h.template,"modalWindow/quoteDetailsFieldSet":E.template},a||{}),pe={title:t.title||n.gettext("FILE::Confirm Licensing"),assets:ae,credit_card_purchase_enabled:u.hasEnterpriseCreditCardPurchaseEnabled(),display_totals_with_taxes:z(re,oe,ce),assets_selectable:t.assets_selectable&&ue,display_art_buyers:t.display_art_buyers,display_edit_all_disclaimer:ue&&!t.display_quote_details,display_license_comments:!e.isEmptyObject(i),display_nb_comments:i&&i.data.comments.length,display_license_transfer:t.can_license_transfer,display_license_transfer_as_one_column:!0,display_quote_details:t.display_quote_details,ingest_subcategory:t.data_ingest_subcategory||null};return function(t,n){var a={display_license_references:!1,mandatory_license_references:null,optional_license_references:null,condensed_license_references_display:!0};e.isEmptyObject(n)||(e.isEmptyObject(n.mandatory_references)||(a.display_license_references=!0,a.mandatory_license_references=n.mandatory_references),e.isEmptyObject(n.optional_references)||(a.display_license_references=!0,a.optional_license_references=n.optional_references)),e.extend(t,a)}(pe,t.license_references),function(e){e.has_modal_tabs=!0,e.display_art_buyers||e.display_license_references||e.display_quote_details?(e.display_details_tab=!0,e.display_details_tab_active=!0):e.display_license_transfer?e.display_license_transfer_active=!0:e.display_license_comments?e.display_license_comments_active=!0:e.has_modal_tabs=!1}(pe),(F=e('<div style="display: none;"></div>')).html(m(pe,{partials:de})),B(ae,re,oe,ce,F,t.is_quotes_modal),y=F.find(".js-modal-bulk-selection-tooltip"),j.addClass("overflow-hidden"),F.on("click",".js-modal-license-dropdown",function(){var t,n,a,i=e(this);i.hasClass("disabled")||(n=i.attr("data-rel"),t=ae[n],y.html(x({id:n,default_license_id:t.default_license_id,licenses:(a=t,a.possible_licenses.reduce(function(e,t){return e[t]=a.license_details[t],e},{}))})),se=!0,Y(y,i,"tooltip--secondary tooltip--bottom",10+i.height(),i.width()/2))}).on("click",".js-modal-asset-license-radio",function(){var n=e(this),a=n.attr("data-rel"),i=n.val(),s=q(ae[a],i),r=s;r.display_license_price=t.is_quotes_modal||!s.is_additional_licensing_disabled,se=!1,ae[a].default_license_id=i,y.attr("data-is-hidden",!0),e('.js-modal-license-dropdown[data-rel="'+a+'"').html(b(s)),e('.js-modal-license-price[data-rel="'+a+'"').html(v(r)),B(ae,re,oe,ce,F,t.is_quotes_modal)}).on("click",function(t){e(t.target).closest(".js-modal-license-dropdown").length||e(t.target).closest(".js-modal-bulk-selection-tooltip").length||(se=!1,y.attr("data-is-hidden",!0))}).on("mouseover",".js-modal-icon-alert",function(){var n,a,i,s=e(this),r=s.attr("data-rel"),o=s.attr("data-is-total-quota-error"),l=t.is_quotes_modal?k:M;o?y.html(l({total_quota:le[r]})):(i=q(n=ae[r],n.default_license_id),a=!!re[i.license_type_id],y.html(w({asset_is_not_purchasable:!n.is_purchasable,asset_disabled:a&&n.is_purchasable&&!n.is_allowed_and_purchasable,quota_unavailable:!a}))),se=!0,Y(y,s,"tooltip--error tooltip--bottom",26,8)}).on("click",".js-modal-asset-toggle-remove",function(){var n=e(this),a=n.attr("data-rel");ae[a].is_removed=!ae[a].is_removed,ae[a].is_removed?(F.find(".js-modal-tr-"+a).addClass("is-removed"),n.attr("data-t","add-back-to-selection-button"),A&&A.disableItem(a)):(F.find(".js-modal-tr-"+a).removeClass("is-removed"),n.attr("data-t","remove-from-selection-button"),A&&A.enableItem(a)),B(ae,re,oe,ce,F,t.is_quotes_modal)}).on("mouseover",".js-modal-asset-toggle-remove",function(){var t=e(this).attr("data-rel");y.html(ae[t].is_removed?L:N),se=!0,Y(y,e(this),"tooltip--primary tooltip--top",-10,8)}).on("mouseover",".js-modal-asset-request-info-status",function(){var t=e(this).attr("data-rel");y.html(c.isItemDataFulFilled(t)?P:D),se=!0,Y(y,e(this),"tooltip--primary tooltip--top",-10,8)}).on("mouseout",".js-modal-icon-alert, .js-modal-asset-toggle-remove, .js-modal-asset-request-info-status",function(){se=!1,y.attr("data-is-hidden",!0)}),F.find(".modal-bulk-selection-assets-wrapper").on("scroll",function(e){se&&(y.attr("data-is-hidden",!0),se=!1)}),F.find(".js-modal-hide-modal").click(function(){K(),ie.reject()}),pe.display_license_references&&(l=new h.init(F)),pe.display_license_transfer&&(o=new _.init(F)),pe.display_quote_details&&(S=new E.init(F)),pe.display_art_buyers&&(H=new f(F.find(".js-artbuyer-select-form-container"),n.gettext("LICENSE::REQUEST::Select art buyer(s)"),c.formatApproversData(t.approvers,t.license_requests),!0)),e.isEmptyObject(i)||(O=new r(F.find(".js-license-comments-wrapper"),i.data,i.actions)).onDataChanged(function(e){p.updateCountDisplay(F.find(".js-comments-count-label"),e.comments.length)}),t.license_requests&&(A=new d({classNameSelected:"table__tr--selected",elementSelector:".js-modal-table-asset-row",toggleAllSelector:".js-modal-bulk-selection-all-checkbox",elementCheckboxSelector:".js-modal-table-asset-checkbox"},F),c.init(t,F,A,l,o,H)),J=($=".js-modal-bulk-selection-tabs")+" .modal-bulk-selection--tabs__item",ee=(Z=F).find(J),te=Z.find($+" .tab-content"),ne=function(t){ee.each(function(){var n=e(this);t!=n.attr("data-tab")?n.removeClass("active"):n.addClass("active")}),te.each(function(){var n=e(this);n.attr("data-is-hidden",t!=n.attr("data-tab"))})},Z.on("click",J,function(){ne(e(this).attr("data-tab"))}),s={select:ne},G=F.find(".js-modal-licensing-bulk-form"),U=function(e){var n={},a=B(ae,re,oe,ce,F,t.is_quotes_modal);return pe.display_license_references&&(W(l,n,s,"license_references","license_references",e)||(a=!0)),pe.display_license_transfer&&(W(o,n,s,"license_transfer","license_transfer",e)||(a=!0)),pe.display_art_buyers&&(W(H,n,s,"approvers","license_references",e)||(a=!0)),pe.display_quote_details&&(W(S,n,s,"quote","quote_details",e)||(a=!0)),O&&i.data.draftMode&&(n.comments=O.getData().comments.reduce(function(e,t){return e.push(t.comment),e},[])),t.license_requests?(A.reset(),c.isFulfilled()?n={license_requests:c.getFormData(t.license_requst_action)}:a=!0):n.assets=function(e){var t,n,a,i=[];for(t in e)Q(n=e[t])&&(a=q(n,n.default_license_id),i.push({content_id:n.content_id,license_id:n.default_license_id,relicense:!!a.downloaded}));return i}(ae),{fulfilled:!a,data:n}},G.submit(function(e){var t;e.preventDefault(),e.stopPropagation(),(t=U(!0)).fulfilled&&ie.resolve(t.data)}),j.append(F),F.show(),F.find(".mti-modal").on("scroll",X),e(window).on("resize",X),setTimeout(X,250),ie.promise()};function X(){var t=F.find(".modal__body"),n=F.find(".modal__footer"),a=t[0].getBoundingClientRect(),i=Math.ceil(e(window).height()-a.height-a.top);n.css({transform:"translateY("+(i<0?i:0)+"px)",transition:"all .15s ease"})}return{showRequestLicense:function(t,a){var r,o,l=i.base_url+"/Ajax/license-requests/",u=!t.hasOwnProperty("commentsInDraftMode")||t.commentsInDraftMode,d=e.Deferred(),p=(a=a||{},function(e){r.attr("disabled",!0),o.attr("disabled",!0),s.post(a.endPoint?a.endPoint:l,e).done(function(e){d.resolve(e)}).fail(function(){d.reject(!0)})});return e.extend(t,{display_art_buyers:!0,can_license_transfer:!1,title:n.gettext("FILE::License Request"),assets_selectable:a.assetsAreSelectable}),Z(t,{footerButtonsTemplate:A},c.buildCommentsObjectForModal(u,t.comments)).then(function(e){o.attr("data-is-loading",!0),p(e)}).fail(function(){d.reject()}),o=F.find(".js-modal-button-send-request"),(r=F.find(".js-modal-button-save-request")).on("click",function(e){var t=U();e.preventDefault(),t.data.save_draft=!0,r.attr("data-is-loading",!0),p(t.data)}),d.promise()},showEditRequestLicense:function(t){var a,r=e.Deferred();return e.extend(t,{can_license_transfer:!1,display_art_buyers:!0,title:n.gettext("FILE::Edit request(s)"),assets_selectable:!0}),Z(t,{footerButtonsTemplate:O},c.buildCommentsObjectForModal(!1,t.comments)).then(function(e){e.notify=F.find(".js-modal-license-request-notify-checkbox").prop("checked"),a.attr("disabled",!0),a.attr("data-is-loading",!0),s.post(i.base_url+"/Ajax/license-requests/edit",e).done(function(e){r.resolve(e)}).fail(function(){r.reject(!0)})}).fail(function(){r.reject()}),a=F.find(".js-modal-button-update-request"),r.promise()},showApproveRequestLicense:function(t){var n,a=e.Deferred();return e.extend(t,{assets_selectable:!0,role_approver:!0,license_requst_action:l.LICENSE_REQUESTS.ACTIONS.APPROVE}),Z(t,{footerButtonsTemplate:S},c.buildCommentsObjectForModal(!1,t.comments)).then(function(e){n.attr("disabled",!0),n.attr("data-is-loading",!0),s.post(i.base_url+"/Ajax/license-requests/approve",e).done(function(e){a.resolve(e)}).fail(function(){a.reject(!0)})}).fail(function(){a.reject()}),n=F.find(".js-modal-button-approve-request"),a.promise()},showGenerateQuote:function(t){var a,r=e.Deferred();return e.extend(t,{is_quotes_modal:!0,can_license_transfer:!1,display_art_buyers:!1,display_quote_details:!0,license_references:!1,title:n.gettext("MODAL::QUOTES::Download a Quote"),assets_selectable:!1}),Z(t,{footerButtonsTemplate:y}).then(function(e){a.attr("disabled",!0),a.attr("data-is-loading",!0),s.post(i.base_url+"/Ajax/Quote/Create",e).done(function(e){r.resolve(e)}).fail(function(){r.reject(true)})}).fail(function(){r.reject()}),a=F.find(".js-modal-button-generate-quote"),r.promise()},hide:K}}),define("lib/libraryDetailToolBar",["i18n","i18n-config","jquery","page_config","lib/assetsStore","lib/ajax","lib/analytics/dunamis","lib/quotesConstants","lib/error","lib/uiEvents","lib/selectAllComponent","lib/bulkSelectionModal","lib/bulkLicensing","lib/member","lib/license","lib/modal-window","lib/licenseHistoryConstants","page_config"],function(e,t,n,a,i,s,r,o,l,c,u,d,p,_,h,f,E,m){"use strict";var g,T="#library-license-filter",b='[data-t="library-detail-header-library-item-count-text"]',v=n("#library-items-wrapper-spinner"),I=t.gettext("LIBRARY::ACTION::Select all assets"),S="blue bleu-de-france-text",A=!1,O=!1,y=p.getBulkLicensingItemsPerRequestCap(),C=100,R=t.gettext("GENERIC::We weren't able to complete your request. Please try again"),L=r.constants,N={};function D(e,t,n){n=n||"top",e.attr({"aria-label":t,"data-tooltip":n+" primary"})}function P(e){x(),d&&d.hide(),e&&l.displayShortErrorModal(e)}function w(e){var t,a,i=e.assets,s=[],o={};for(a in i)t=i[a],s.push(t.content_id);o[L.ENTERPRISE.QUOTE_ASSET_ID_LIST]=s.join("|"),o[L.ENTERPRISE.QUOTE_ASSET_COUNT]=s.length,r.track(L.CLICK,L.LICENSE,o,n(".js-modal-bulk-selection"))}function M(e){var t={};return Object.values(e).forEach(function(e){var n=null;e.license_bookmark&&e.possible_licenses&&e.possible_licenses.includes(e.license_bookmark)&&(n=e.license_bookmark);var a=n||e.selected_license_id||e.last_used_license_id||null;a&&(t[e.content_id]=a)}),t}function k(e,i,o,c){if(g&&n.isFunction(e)&&i&&n.isFunction(o)){var u=g.getData(),d=Object.keys(u),p={};Object.values(u).filter(function(e){return e.is_purchasable}).length?c&&c<d.length?l.displaySelectionLimitErrorMessager(c):(N&&N.toolbarLicenseBtn&&(p[L.ENTERPRISE.QUOTE_ASSET_ID_LIST]=d.join("|"),p[L.ENTERPRISE.QUOTE_ASSET_COUNT]=d.length,r.track(L.CLICK,L.TOOLBAR_LICENSE,p,n("body"))),v.show(),s.post(a.base_url+i,{content_ids:d,selected_license_ids:M(u)}).done(function(t){var n;t.contents_data=function(e,t){for(var n in t)e[n].default_license_id=t[n].default_license_id,t[n].default_license_id=h.getLicenseIdFromContent(e[n]);return t}(u,t.contents_data),N&&N.modalConfirmBtn&&(n=w,t.data_ingest_subcategory=L.SUBCATEGORY_QUOTE_MODAL),e(t,n).then(o).fail(function(e){e&&P(R)})}).fail(function(e){var t=e.responseJSON||{};l.displayShortErrorModal(t.error?t.error:R)}).always(function(){v.hide()})):l.displayShortErrorModal(t.ngettext("CONTENT::ERROR::This asset is no longer available.","CONTENT::ERROR::These assets are no longer available.",d.length),null,null)}}function x(){g&&g.reset()}return n(document).ready(function(){n("body").on("click",".js-library-item-checkbox-wrapper",function(e){e.stopPropagation()}).on("click",".js-bulk-license-button",function(){var e=g.getData(),t=Object.keys(e),n=M(e);if(y&&y<t.length)return l.displaySelectionLimitErrorMessager(y);p.processLicensingWithStockPortal(t,n)}).on("click",".js-library-license-request-button",function(){k(d.showRequestLicense,"/Ajax/license-requests/licensingdata",function(e){P()})}).on("click",".js-library-quotes-license-button",function(){k(d.showGenerateQuote,"/Ajax/Content/bulklicensingdata",function(){P(),f.show("message",{subject:t.gettext("MODAL::CREDIT::Thank you for using Adobe Stock."),body:t.gettext("MODAL::QUOTES::Your quote is currently being generated. Once completed, it will be available for download from the quotes section of your license history."),button_link:a.base_url+E.ROUTES.QUOTES,button_label:t.gettext("MODAL::QUOTES::Visit the quote section"),button_close:!0,button_close_label:t.gettext("MODAL::LABEL::Close this window")})},o.QUOTE_ITEMS_PER_REQUEST_CAP)})}),{initStickyToolbar:function(){var e,t=n("#library-items-wrapper"),a=0,i=120;function s(){if(!e)return e=n("body").find(".js-libraries-toolbar"),void(a=e.outerHeight());window.scrollY>i?(e.attr("data-sticky",!0).addClass("libraries-toolbar--sticky"),t.css({marginTop:a})):(e.attr("data-sticky",!1).removeClass("libraries-toolbar--sticky"),t.css({marginTop:0}))}A||(s(),window.addEventListener("scroll",s,!1),A=!0)},initAssetsSelection:function(a,i){var s,r,o={itemCheckboxWrapper:(r=i).itemCheckboxWrapper||".js-library-item-checkbox-wrapper",headerSelectAllCheckboxLabel:r.headerSelectAllCheckboxLabel||".js-library-header-checkbox-label",bulkLicenseButton:r.bulkLicenseButton||".js-library-bulk-license-button",bulkDownloadButton:r.bulkDownloadButton||".js-library-bulk-download-button",licenseRequestButton:r.licenseRequestButton||".js-library-license-request-button",libraryQuotesLicenseButton:r.libraryQuotesLicenseButton||".js-library-quotes-license-button",headerSelectAllCheckboxInput:r.headerSelectAllCheckboxInput||".js-libraries-header-select-all-checkbox"},l=n(o.itemCheckboxWrapper),c=n(o.headerSelectAllCheckboxLabel),d=[n(o.bulkDownloadButton),n(o.bulkLicenseButton),n(o.licenseRequestButton),n(o.libraryQuotesLicenseButton)];g||(g=new u({elementSelector:".js-search-result-cell",toggleAllSelector:o.headerSelectAllCheckboxInput,elementCheckboxSelector:".js-library-item-checkbox"})),g.onDataChanged(function(n){(s=Object.keys(n).length)>0?(l.attr("data-is-hidden",!1),c.text(e.sprintf(t.ngettext("LIBRARY::ACTION::%s item selected","LIBRARY::ACTION::%s items selected",s),s)).addClass(S),d.forEach(function(n){n.prop("disabled",!1).find(".js-btn-label-number").text(" ("+s+")"),n.selector===o.bulkDownloadButton&&(s>C?(n.prop("disabled",!0),D(n,e.sprintf(t.ngettext("LIBRARY::DOWNLOAD::Maximum %s asset per download","LIBRARY::DOWNLOAD::Maximum %s assets per download",C),C))):n.removeAttr("data-tooltip"))})):(l.attr("data-is-hidden",!0),c.text(I).removeClass(S),d.forEach(function(e){e.prop("disabled",!0).find(".js-btn-label-number").text(""),e.selector===o.bulkDownloadButton&&D(e,t.ngettext("LIBRARY::DOWNLOAD::Select at least one asset"))}))}),g.newCurrentDataSet(a)},initFiltering:function(e){if(!O){var t=function(){return n(T)[0].value};n(T).change(function(t){var a,i,s=t.target.value;a=s,(i={})[L.LIBRARIES.LIBRARY_DETAILS.LICENSE_FILTER_VALUE]=a,r.track(L.CLICK,L.LIBRARIES.LIBRARY_DETAILS.LICENSE_FILTER,i,n(T)),e(s)}),c.on(c.ASSET_LICENSED,function(a){var i=a.contentId;n('[data-content-id="'+i+'"]').data("licensed",!0),e(t())}),c.on(c.ASSET_DELETED,function(){e(t())}),O=!0}},setTrackingOptions:function(e){N=e},updateAssetDataset:function(e){g&&g.newCurrentDataSet(e)},updateItemCount:function(a){var i=t.ngettext("LIBRARY::%s item","LIBRARY::%s items",a);n(b).text(e.sprintf(i,a))},getSelectedLicenseIds:M,resetAssetSelector:x}}),define("app/init",["jquery","page_config","lib/analytics/dunamis","quickerCheckout/adobestock/handlers","lib/assetDownloader","lib/bulkLicensing","app/stock-portal","lib/libraryDetailToolBar"],function(e,t,n,a,i,s,r,o){"use strict";return{initializeStockWebPortalListeners:function(){e(window).on("portal:initialized",r.onPortalInitialized),e(window).on("stock-portal-track",function(t,a,i,s){n.track(a,i,s,e("body"))}),e(window).on("stock-portal-dic",function(e,t){e.result=n.getDicData(t)}),window.addEventListener("portal:finishPurchase",function(e){a.onFinishPurchase(e.detail)}),window.addEventListener("portal:downloadAsset",function(e){a.onDownloadAsset(e.detail)}),window.addEventListener("portal:redownloadForFree",function(e){i.getDownloadUrlAndTriggerOrPromptDownload(e.detail.contentId,e.detail.licenseId).then(r.redownloadForFreeComplete).fail(r.redownloadForFreeError)}),window.addEventListener("portal:addAssetToLibrary",function(e){a.onAddAssetToLibrary(e.detail)}),t.contributorId&&r.renderFollowToggleButton(t.contributorId),window.addEventListener("portal:bulkLicensingModalAssetsPurchased",function(e){s.onAssetsPurchased(e.detail.assets,!!e.detail.isWithinStockPortalContext),o.resetAssetSelector()})}}}),define("app/actions/searchParamsActions",["jquery","page_config","app/actions/actionTypes","app/constants/assetTypeFilters","app/actions/searchActions","app/ajax/search","app/constants/searchFilters","app/utils/searchData"],function(e,t,n){"use strict";return{toggleFilterIsMinimized:function(e){return{filter:e,type:n.TOGGLE_FILTER_IS_MINIMIZED}},updateAssetTypeState:function(e){return{assetTypeState:e,type:n.UPDATE_ASSET_TYPE_STATE}},updateImageSubcategoryFilter:function(e,t){return{option:e,isSelected:t,type:n.UPDATE_IMAGE_SUBCATEGORY_FILTER}},updateKeyword:function(e){return{keyword:e,type:n.UPDATE_KEYWORD}}}}),function(e){"function"==typeof define&&define.amd?define("vendor/jquery/jquery.minicolors.min",["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";function t(e){var t=e.parent();e.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input"),t.before(e).remove()}function n(e){var t=e.parent(),n=t.find(".minicolors-panel"),i=e.data("minicolors-settings");!e.data("minicolors-initialized")||e.prop("disabled")||t.hasClass("minicolors-inline")||t.hasClass("minicolors-focus")||(a(),t.addClass("minicolors-focus"),n.stop(!0,!0).fadeIn(i.showSpeed,function(){i.show&&i.show.call(e.get(0))}))}function a(){e(".minicolors-focus").each(function(){var t=e(this),n=t.find(".minicolors-input"),a=t.find(".minicolors-panel"),i=n.data("minicolors-settings");a.fadeOut(i.hideSpeed,function(){i.hide&&i.hide.call(n.get(0)),t.removeClass("minicolors-focus")})})}function i(e,t,n){var a,i,r,o,l=e.parents(".minicolors").find(".minicolors-input"),c=l.data("minicolors-settings"),u=e.find("[class$=-picker]"),d=e.offset().left,p=e.offset().top,_=Math.round(t.pageX-d),h=Math.round(t.pageY-p),f=n?c.animationSpeed:0;t.originalEvent.changedTouches&&(_=t.originalEvent.changedTouches[0].pageX-d,h=t.originalEvent.changedTouches[0].pageY-p),_<0&&(_=0),h<0&&(h=0),_>e.width()&&(_=e.width()),h>e.height()&&(h=e.height()),e.parent().is(".minicolors-slider-wheel")&&u.parent().is(".minicolors-grid")&&(a=75-_,i=75-h,r=Math.sqrt(a*a+i*i),(o=Math.atan2(i,a))<0&&(o+=2*Math.PI),r>75&&(r=75,_=75-75*Math.cos(o),h=75-75*Math.sin(o)),_=Math.round(_),h=Math.round(h)),e.is(".minicolors-grid")?u.stop(!0).animate({top:h+"px",left:_+"px"},f,c.animationEasing,function(){s(l,e)}):u.stop(!0).animate({top:h+"px"},f,c.animationEasing,function(){s(l,e)})}function s(e,t){function n(e,t){var n,a;return e.length&&t?(n=e.offset().left,a=e.offset().top,{x:n-t.offset().left+e.outerWidth()/2,y:a-t.offset().top+e.outerHeight()/2}):null}var a,i,s,o,c,u,d,p=e.val(),h=e.attr("data-opacity"),f=e.parent(),E=e.data("minicolors-settings"),m=f.find(".minicolors-input-swatch"),T=f.find(".minicolors-grid"),b=f.find(".minicolors-slider"),v=f.find(".minicolors-opacity-slider"),I=T.find("[class$=-picker]"),S=b.find("[class$=-picker]"),A=v.find("[class$=-picker]"),O=n(I,T),y=n(S,b),C=n(A,v);if(t.is(".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider")){switch(E.control){case"wheel":o=T.width()/2-O.x,c=T.height()/2-O.y,u=Math.sqrt(o*o+c*c),(d=Math.atan2(c,o))<0&&(d+=2*Math.PI),u>75&&(u=75,O.x=69-75*Math.cos(d),O.y=69-75*Math.sin(d)),i=_(u/.75,0,100),p=g({h:a=_(180*d/Math.PI,0,360),s:i,b:s=_(100-Math.floor(y.y*(100/b.height())),0,100)}),b.css("backgroundColor",g({h:a,s:i,b:100}));break;case"saturation":p=g({h:a=_(parseInt(O.x*(360/T.width()),10),0,360),s:i=_(100-Math.floor(y.y*(100/b.height())),0,100),b:s=_(100-Math.floor(O.y*(100/T.height())),0,100)}),b.css("backgroundColor",g({h:a,s:100,b:s})),f.find(".minicolors-grid-inner").css("opacity",i/100);break;case"brightness":p=g({h:a=_(parseInt(O.x*(360/T.width()),10),0,360),s:i=_(100-Math.floor(O.y*(100/T.height())),0,100),b:s=_(100-Math.floor(y.y*(100/b.height())),0,100)}),b.css("backgroundColor",g({h:a,s:i,b:100})),f.find(".minicolors-grid-inner").css("opacity",1-s/100);break;default:p=g({h:a=_(360-parseInt(y.y*(360/b.height()),10),0,360),s:i=_(Math.floor(O.x*(100/T.width())),0,100),b:s=_(100-Math.floor(O.y*(100/T.height())),0,100)}),T.css("backgroundColor",g({h:a,s:100,b:100}))}r(e,p,h=E.opacity?parseFloat(1-C.y/v.height()).toFixed(2):1)}else m.find("span").css({backgroundColor:p,opacity:h}),l(e,p,h)}function r(e,t,n){var a,i=e.parent(),s=e.data("minicolors-settings"),r=i.find(".minicolors-input-swatch");s.opacity&&e.attr("data-opacity",n),"rgb"===s.format?(a=h(t)?d(t,!0):b(u(t,!0)),n=""===e.attr("data-opacity")?1:_(parseFloat(e.attr("data-opacity")).toFixed(2),0,1),!isNaN(n)&&s.opacity||(n=1),t=e.minicolors("rgbObject").a<=1&&a&&s.opacity?"rgba("+a.r+", "+a.g+", "+a.b+", "+parseFloat(n)+")":"rgb("+a.r+", "+a.g+", "+a.b+")"):(h(t)&&(t=E(t)),t=c(t,s.letterCase)),e.val(t),r.find("span").css({backgroundColor:t,opacity:n}),l(e,t,n)}function o(t,n){var a,i,s,r,o,m,b,v,I,S,A=t.parent(),O=t.data("minicolors-settings"),y=A.find(".minicolors-input-swatch"),C=A.find(".minicolors-grid"),R=A.find(".minicolors-slider"),L=A.find(".minicolors-opacity-slider"),N=C.find("[class$=-picker]"),D=R.find("[class$=-picker]"),P=L.find("[class$=-picker]");switch(h(t.val())?(a=E(t.val()),(o=_(parseFloat(f(t.val())).toFixed(2),0,1))&&t.attr("data-opacity",o)):a=c(u(t.val(),!0),O.letterCase),a||(a=c(p(O.defaultValue,!0),O.letterCase)),i=T(a),r=O.keywords?e.map(O.keywords.split(","),function(t){return e.trim(t.toLowerCase())}):[],m=""!==t.val()&&e.inArray(t.val().toLowerCase(),r)>-1?c(t.val()):h(t.val())?d(t.val()):a,n||t.val(m),O.opacity&&(s=""===t.attr("data-opacity")?1:_(parseFloat(t.attr("data-opacity")).toFixed(2),0,1),isNaN(s)&&(s=1),t.attr("data-opacity",s),y.find("span").css("opacity",s),v=_(L.height()-L.height()*s,0,L.height()),P.css("top",v+"px")),"transparent"===t.val().toLowerCase()&&y.find("span").css("opacity",0),y.find("span").css("backgroundColor",a),O.control){case"wheel":I=_(Math.ceil(.75*i.s),0,C.height()/2),S=i.h*Math.PI/180,b=_(75-Math.cos(S)*I,0,C.width()),v=_(75-Math.sin(S)*I,0,C.height()),N.css({top:v+"px",left:b+"px"}),v=150-i.b/(100/C.height()),""===a&&(v=0),D.css("top",v+"px"),R.css("backgroundColor",g({h:i.h,s:i.s,b:100}));break;case"saturation":b=_(5*i.h/12,0,150),v=_(C.height()-Math.ceil(i.b/(100/C.height())),0,C.height()),N.css({top:v+"px",left:b+"px"}),v=_(R.height()-i.s*(R.height()/100),0,R.height()),D.css("top",v+"px"),R.css("backgroundColor",g({h:i.h,s:100,b:i.b})),A.find(".minicolors-grid-inner").css("opacity",i.s/100);break;case"brightness":b=_(5*i.h/12,0,150),v=_(C.height()-Math.ceil(i.s/(100/C.height())),0,C.height()),N.css({top:v+"px",left:b+"px"}),v=_(R.height()-i.b*(R.height()/100),0,R.height()),D.css("top",v+"px"),R.css("backgroundColor",g({h:i.h,s:i.s,b:100})),A.find(".minicolors-grid-inner").css("opacity",1-i.b/100);break;default:b=_(Math.ceil(i.s/(100/C.width())),0,C.width()),v=_(C.height()-Math.ceil(i.b/(100/C.height())),0,C.height()),N.css({top:v+"px",left:b+"px"}),v=_(R.height()-i.h/(360/R.height()),0,R.height()),D.css("top",v+"px"),C.css("backgroundColor",g({h:i.h,s:100,b:100}))}t.data("minicolors-initialized")&&l(t,m,s)}function l(e,t,n){var a,i,s,r=e.data("minicolors-settings"),o=e.data("minicolors-lastChange");if(!o||o.value!==t||o.opacity!==n){if(e.data("minicolors-lastChange",{value:t,opacity:n}),r.swatches&&0!==r.swatches.length){for(a=h(t)?d(t,!0):b(t),i=-1,s=0;s<r.swatches.length;++s)if(a.r===r.swatches[s].r&&a.g===r.swatches[s].g&&a.b===r.swatches[s].b&&a.a===r.swatches[s].a){i=s;break}e.parent().find(".minicolors-swatches .minicolors-swatch").removeClass("selected"),-1!==i&&e.parent().find(".minicolors-swatches .minicolors-swatch").eq(s).addClass("selected")}r.change&&(r.changeDelay?(clearTimeout(e.data("minicolors-changeTimeout")),e.data("minicolors-changeTimeout",setTimeout(function(){r.change.call(e.get(0),t,n)},r.changeDelay))):r.change.call(e.get(0),t,n)),e.trigger("change").trigger("input")}}function c(e,t){return"uppercase"===t?e.toUpperCase():e.toLowerCase()}function u(e,t){return(e=e.replace(/^#/g,"")).match(/^[A-F0-9]{3,6}/gi)?3!==e.length&&6!==e.length?"":(3===e.length&&t&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),"#"+e):""}function d(e,t){var n=e.replace(/[^\d,.]/g,"").split(",");return n[0]=_(parseInt(n[0],10),0,255),n[1]=_(parseInt(n[1],10),0,255),n[2]=_(parseInt(n[2],10),0,255),n[3]&&(n[3]=_(parseFloat(n[3],10),0,1)),t?n[3]?{r:n[0],g:n[1],b:n[2],a:n[3]}:{r:n[0],g:n[1],b:n[2]}:void 0!==n[3]&&n[3]<=1?"rgba("+n[0]+", "+n[1]+", "+n[2]+", "+n[3]+")":"rgb("+n[0]+", "+n[1]+", "+n[2]+")"}function p(e,t){return h(e)?d(e):u(e,t)}function _(e,t,n){return e<t&&(e=t),e>n&&(e=n),e}function h(e){var t=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return!(!t||4!==t.length)}function f(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+(\.\d{1,2})?|\.\d{1,2})[\s+]?/i))&&6===e.length?e[4]:"1"}function E(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}function m(t){var n=[t.r.toString(16),t.g.toString(16),t.b.toString(16)];return e.each(n,function(e,t){1===t.length&&(n[e]="0"+t)}),"#"+n.join("")}function g(e){return m(function(e){var t={},n=Math.round(e.h),a=Math.round(255*e.s/100),i=Math.round(255*e.b/100);if(0===a)t.r=t.g=t.b=i;else{var s=i,r=(255-a)*i/255,o=n%60*(s-r)/60;360===n&&(n=0),n<60?(t.r=s,t.b=r,t.g=r+o):n<120?(t.g=s,t.b=r,t.r=s-o):n<180?(t.g=s,t.r=r,t.b=r+o):n<240?(t.b=s,t.r=r,t.g=s-o):n<300?(t.b=s,t.g=r,t.r=r+o):n<360?(t.r=s,t.g=r,t.b=s-o):(t.r=0,t.g=0,t.b=0)}return{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}}(e))}function T(e){var t=function(e){var t={h:0,s:0,b:0},n=Math.min(e.r,e.g,e.b),a=Math.max(e.r,e.g,e.b),i=a-n;return t.b=a,t.s=0!==a?255*i/a:0,0!==t.s?e.r===a?t.h=(e.g-e.b)/i:e.g===a?t.h=2+(e.b-e.r)/i:t.h=4+(e.r-e.g)/i:t.h=-1,t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t}(b(e));return 0===t.s&&(t.h=360),t}function b(e){return{r:(e=parseInt(e.indexOf("#")>-1?e.substring(1):e,16))>>16,g:(65280&e)>>8,b:255&e}}e.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",defaultValue:"",format:"hex",hide:null,hideSpeed:100,inline:!1,keywords:"",letterCase:"lowercase",opacity:!1,position:"bottom left",show:null,showSpeed:100,theme:"default",swatches:[]}},e.extend(e.fn,{minicolors:function(i,s){switch(i){case"destroy":return e(this).each(function(){t(e(this))}),e(this);case"hide":return a(),e(this);case"opacity":return void 0===s?e(this).attr("data-opacity"):(e(this).each(function(){o(e(this).attr("data-opacity",s))}),e(this));case"rgbObject":return function(t){var n,a=e(t).attr("data-opacity");return n=h(e(t).val())?d(e(t).val(),!0):b(u(e(t).val(),!0)),n?(void 0!==a&&e.extend(n,{a:parseFloat(a)}),n):null}(e(this));case"rgbString":case"rgbaString":return function(t,n){var a,i=e(t).attr("data-opacity");return a=h(e(t).val())?d(e(t).val(),!0):b(u(e(t).val(),!0)),a?(void 0===i&&(i=1),n?"rgba("+a.r+", "+a.g+", "+a.b+", "+parseFloat(i)+")":"rgb("+a.r+", "+a.g+", "+a.b+")"):null}(e(this),"rgbaString"===i);case"settings":return void 0===s?e(this).data("minicolors-settings"):(e(this).each(function(){var n=e(this).data("minicolors-settings")||{};t(e(this)),e(this).minicolors(e.extend(!0,n,s))}),e(this));case"show":return n(e(this).eq(0)),e(this);case"value":return void 0===s?e(this).val():(e(this).each(function(){"object"==typeof s&&null!==s?(s.opacity&&e(this).attr("data-opacity",_(s.opacity,0,1)),s.color&&e(this).val(s.color)):e(this).val(s),o(e(this))}),e(this));default:return"create"!==i&&(s=i),e(this).each(function(){!function(t,n){var a,i,s,r,l,c=e('<div class="minicolors" />'),p=e.minicolors.defaults;if(!t.data("minicolors-initialized")){if(n=e.extend(!0,{},p,n),c.addClass("minicolors-theme-"+n.theme).toggleClass("minicolors-with-opacity",n.opacity),void 0!==n.position&&e.each(n.position.split(" "),function(){c.addClass("minicolors-position-"+this)}),a="rgb"===n.format?n.opacity?"25":"20":n.keywords?"11":"7",t.addClass("minicolors-input").data("minicolors-initialized",!1).data("minicolors-settings",n).prop("size",a).wrap(c).after('<div class="minicolors-panel minicolors-slider-'+n.control+'"><div class="minicolors-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-opacity-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-grid minicolors-sprite"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div></div></div></div></div>'),n.inline||(t.after('<span class="minicolors-swatch minicolors-sprite minicolors-input-swatch"><span class="minicolors-swatch-color"></span></span>'),t.next(".minicolors-input-swatch").on("click",function(e){e.preventDefault(),t.focus()})),(r=t.parent().find(".minicolors-panel")).on("selectstart",function(){return!1}).end(),n.swatches&&0!==n.swatches.length)for(r.addClass("minicolors-with-swatches"),i=e('<ul class="minicolors-swatches"></ul>').appendTo(r),l=0;l<n.swatches.length;++l)s=h(s=n.swatches[l])?d(s,!0):b(u(s,!0)),e('<li class="minicolors-swatch minicolors-sprite"><span class="minicolors-swatch-color"></span></li>').appendTo(i).data("swatch-color",n.swatches[l]).find(".minicolors-swatch-color").css({backgroundColor:m(s),opacity:s.a}),n.swatches[l]=s;n.inline&&t.parent().addClass("minicolors-inline"),o(t,!1),t.data("minicolors-initialized",!0)}}(e(this),s)}),e(this)}}}),e([document]).on("mousedown.minicolors touchstart.minicolors",function(t){e(t.target).parents().add(t.target).hasClass("minicolors")||a()}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(t){var n=e(this);t.preventDefault(),e(t.delegateTarget).data("minicolors-target",n),i(n,t,!0)}).on("mousemove.minicolors touchmove.minicolors",function(t){var n=e(t.delegateTarget).data("minicolors-target");n&&i(n,t)}).on("mouseup.minicolors touchend.minicolors",function(){e(this).removeData("minicolors-target")}).on("click.minicolors",".minicolors-swatches li",function(t){t.preventDefault();var n=e(this),a=n.parents(".minicolors").find(".minicolors-input"),i=n.data("swatch-color");r(a,i,f(i)),o(a)}).on("mousedown.minicolors touchstart.minicolors",".minicolors-input-swatch",function(t){var a=e(this).parent().find(".minicolors-input");t.preventDefault(),n(a)}).on("focus.minicolors",".minicolors-input",function(){var t=e(this);t.data("minicolors-initialized")&&n(t)}).on("blur.minicolors",".minicolors-input",function(){var t,n,a,i,s,r=e(this),o=r.data("minicolors-settings");r.data("minicolors-initialized")&&(t=o.keywords?e.map(o.keywords.split(","),function(t){return e.trim(t.toLowerCase())}):[],""!==r.val()&&e.inArray(r.val().toLowerCase(),t)>-1?s=r.val():(h(r.val())?a=d(r.val(),!0):a=(n=u(r.val(),!0))?b(n):null,s=null===a?o.defaultValue:"rgb"===o.format?d(o.opacity?"rgba("+a.r+","+a.g+","+a.b+","+r.attr("data-opacity")+")":"rgb("+a.r+","+a.g+","+a.b+")"):m(a)),i=o.opacity?r.attr("data-opacity"):1,"transparent"===s.toLowerCase()&&(i=0),r.closest(".minicolors").find(".minicolors-input-swatch > span").css("opacity",i),r.val(s),""===r.val()&&r.val(p(o.defaultValue,!0)),r.val(c(r.val(),o.letterCase)))}).on("keydown.minicolors",".minicolors-input",function(t){var n=e(this);if(n.data("minicolors-initialized"))switch(t.keyCode){case 9:a();break;case 13:case 27:a(),n.blur()}}).on("keyup.minicolors",".minicolors-input",function(){var t=e(this);t.data("minicolors-initialized")&&o(t,!0)}).on("paste.minicolors",".minicolors-input",function(){var t=e(this);t.data("minicolors-initialized")&&setTimeout(function(){o(t,!0)},1)})}),define("lib/hbsBasicHelpers",["page_config","Handlebars","app/utils/routes","lib/hbsBasicHelpersFunctions","i18n-config"],function(e,t,n,a){"use strict";var i=function(e,t){return e?!t.fn||t.fn(this):!!t.inverse&&t.inverse(this)};return t.registerHelper("staticCdn",function(t){return e.static_base_uri+t}),t.registerHelper("ccIconFilePathBuilder",function(e,t){return e.replace("{{this}}",t.toLowerCase())}),t.registerHelper("concat",function(){var e=arguments[arguments.length-1],t=e.hash&&null!=e.hash.separator?e.hash.separator:"";return Array.prototype.slice.call(arguments,0,-1).join(t)}),t.registerHelper("linkOpenTag",a.linkOpenTag),t.registerHelper("linkCloseTag",a.linkCloseTag),t.registerHelper("linkBuilder",a.linkBuilder),t.registerHelper("urlConcatQuery",function(){var e=arguments[0];e||(e="");var t="?";e.indexOf(t)>=0&&(t="&");for(var n=1;n<arguments.length-1;n++)e+=t+arguments[n],t="&";return e}),t.registerHelper("adobeUrl",function(t){var n="";switch(e.base_url){case"/de":case"/at":case"/ch_de":case"/lu_de":n="/de/";break;case"/fr":case"/be_fr":case"/lu_fr":case"/ca_fr":case"/ch_fr":n="/fr/";break;case"/es":case"/mx":n="/es/";break;case"/it":case"/ch_it":n="/it/";break;case"/nl":case"/be_nl":n="/nl/";break;case"/pt":n="/pt/";break;case"/br":n="/br/";break;case"/tw":n="/zh-tw/";break;case"/ja":case"/pl":case"/ru":case"/tr":case"/fi":case"/cz":case"/kr":case"/dk":case"/no":case"/se":n=e.base_url+"/";break;default:n="/"}return"https://www.adobe.com"+n+t}),t.registerHelper("minutes",function(e){var t=parseInt(e/1e3%60),n=parseInt(e/6e4%60);return t<10&&(t="0"+t),n<10&&(n="0"+n),n+":"+t}),t.registerHelper("if-plus",function(e){var t;switch(e.hash.logic){case"more":t=e.hash.value>e.hash.tovalue;break;case"less":t=e.hash.value<e.hash.tovalue;break;case"eq":t=e.hash.value==e.hash.tovalue;break;case"notEq":t=e.hash.value!=e.hash.tovalue}return e.fn||e.inverse?t?e.fn(this):e.inverse(this):t}),t.registerHelper("price_level",function(t){var n,a="";if(""===e.currency_character)a={1:"",2:"",3:""}[t];else for(n=0;n<t;n++)a+=e.currency_character;return a}),t.registerHelper("in-array",function(e){var t=(e.hash.array||[]).indexOf(e.hash.value)>=0;return i.call(this,t,e)}),t.registerHelper("not-in-array",function(e){var t=-1===(e.hash.array||[]).indexOf(e.hash.value);return i.call(this,t,e)}),t.registerHelper("all-in-array",function(){for(var e=arguments.length-2,t=arguments[e]||[],n=arguments[arguments.length-1],a=0;a<e;a++){var i=arguments[a];if(Array.isArray(i)){for(var s=0;s<i.length;s++)if(-1===t.indexOf(i[s]))return n.inverse(this)}else if(-1===t.indexOf(i))return n.inverse(this)}return n.fn(this)}),t.registerHelper("not-all-in-array",function(){for(var e=arguments.length-2,t=arguments[e]||[],n=arguments[arguments.length-1],a=0;a<e;a++){var i=arguments[a];if(Array.isArray(i)){for(var s=0;s<i.length;s++)if(-1===t.indexOf(i[s]))return n.fn(this)}else if(-1===t.indexOf(i))return n.fn(this)}return n.inverse(this)}),t.registerHelper("none-in-array",function(){for(var e=arguments.length-2,t=arguments[e]||[],n=arguments[arguments.length-1],a=0;a<e;a++){var i=arguments[a];if(Array.isArray(i)){for(var s=0;s<i.length;s++)if(t.indexOf(i[s])>=0)return n.inverse(this)}else if(t.indexOf(i)>=0)return n.inverse(this)}return n.fn(this)}),t.registerHelper("filesize",function(e){return e?t.helpers.number((e/Math.pow(1024,2)).toFixed(2)):"0"}),t.registerHelper("bitrate",function(e){return e?t.helpers.number(e/1e3):0}),t.registerHelper("baseUrl",function(t){return e.base_url+"/"+t}),t.registerHelper("url",function(e){if(!e.hash.route)return"";var t=e.hash.route,a=null;e.hash.query&&(a=JSON.parse(e.hash.query));var i={};return Object.keys(e.hash).forEach(function(t){["route","query"].includes(t)||(i[t]=e.hash[t])}),n.getRoute(i,t,a)}),t.registerHelper("if-or",function(){for(var e=!1,t=arguments.length-1,n=arguments[t],a=0;a<t;a++)if(e||arguments[a]){e=!0;break}return n.fn||n.inverse?e?n.fn(this):n.inverse(this):e}),t.registerHelper("if-sub-expression",function(e){return e.hash?(e.hash.operator&&"NOT"==e.hash.operator&&(e.hash.toCompare=!e.hash.toCompare),e.hash.toCompare&&(e.hash[e.hash.keyToChange]=e.hash.valueToChange),e.hash):""}),t.registerHelper("unless-all",function(){for(var e=!0,t=arguments.length-1,n=arguments[t],a=0;a<t;a++)if(arguments[a]){e=!1;break}return n.fn||n.inverse?e?n.fn(this):n.inverse(this):e}),t.registerHelper("if-all-true",function(){for(var e=!0,t=arguments.length-1,n=arguments[t],a=0;a<t;a++)if(!arguments[a]){e=!1;break}return n.fn||n.inverse?e?n.fn(this):n.inverse(this):e}),t.registerHelper("feature-flag",a.featureFlag),t.registerHelper("not",function(e){return!e}),t.registerHelper("debug",function(e){}),t.registerHelper("times",function(e,t){var n,a="";for(n=0;n<e;++n)a+=t.fn(n);return a}),t.registerHelper("inc",function(e){return parseInt(e)+1}),t.registerHelper("json",function(e){return JSON.stringify(e,null,0)}),t.registerHelper("escape",function(e){return t.escapeExpression(e)}),t.registerHelper("truncate",a.truncate),t.registerHelper("len",function(e){return Object.keys(e).length}),t}),define("components/search/filtersHelper",["jquery","lodash","page_config","i18n-config","app/client","app/constants/searchFilters","app/actions/searchParamsActions","app/actions/filterActions","app/constants/ui","app/stock-portal","vendor/jquery/jquery.minicolors.min","lib/hbsBasicHelpers"],function(e,t,n,a,i,s,r,o,l,c){"use strict";var u=i.getInstance(),d=".js-slide-in",p=c.FILTERS;function _(){p===c.FILTERS?c.renderFiltersPanel():p===c.FIND_SIMILAR&&c.renderFindSimilarControlsPanel()}function h(){window.dispatchEvent(new CustomEvent("reload.adobestock_mosaic",{detail:{assetType:u.getState().page.filter_asset_type}}))}var f=function(){return e(d).hasClass(l.FILTER_PANEL_OPEN)};return{updateKeyword:function(e){var t={};t[s.KEYWORD]=e,u.dispatch(o.updateSearchFilters(t))},isFiltersPanelOpen:f,toggleShowFilterPanel:function(){var n=l.FILTER_PANEL_CLOSE;return e(d).toggleClass(l.FILTER_PANEL_OPEN),h(),f()?(n=l.FILTER_PANEL_OPEN,_()):(p=t.get(c.getState(),"panel.searchPanel.active",c.FILTERS),c.hidePanel(),u.dispatch(o.closeFiltersPanel())),n},showPanel:function(){e(d).addClass(l.FILTER_PANEL_OPEN),h()},closePanel:function(){e(d).removeClass(l.FILTER_PANEL_OPEN),h()},openLastSelectedPanel:_,renderMosaic:h}}),define("lib/autocomplete",["jquery","lodash","page_config","components/search/searchHelper","components/search/filtersHelper","lib/ajax","app/constants/ui","app/client","lib/analytics/dunamis"],function(e,t,n,a,i,s,r,o,l){"use strict";var c,u=e(".js-search-text-input"),d=e(".js-search-form"),p=null,_=null,h=8,f=null,E=null,m=38,g=40,T=27,b=Date.now();function v(){var e=Date.now();return b=e}function I(e){if(!n.isGloballySafeCollectionEnabled){var t=e.val(),a=e.closest(d);c=t;var i={language_id:n.autocomplete_language_id,query:t,ff_1127001950:n.isUnorderedAutocomplete?1:0};return s.ajax(n.autocomplete_api_url,{data:i,dataType:"jsonp",cache:!0,success:S.bind(null,a,b)})}}function S(e,t,n){var a=Math.min(n.hits.length,h),i="";if(t===b){for(var s=0;s<a;++s){var r=A(n.hits[s]._highlightResult.term.value,n.hits[s].term,s);i+='<li class="term-item nav__item" data-term="'+n.hits[s].term+'" data-term-index="'+s+'">',i+='<a href="#" class="nav__link js-search-item bold" data-term="'+n.hits[s].term+'" data-term-index="'+s+'">'+r+"</a>",i+="</li>"}(p=a-1)>0?(e.find(".js-search-autocomplete-panel").html(i),O(e,!0)):O(e,!1)}}function A(e,t,n){var a="";-1!==e.indexOf("<em>")?e.split("<em>").forEach(function(e){0===e.length?a+='<em class="js-search-item normal-font-style font-normal" data-term="'+t+'" data-term-index="'+n+'">':a+=e}):a+=t;return a}e("body").on("mousedown",function(e){L(e)}),u.attr("autocomplete","off"),u.on("input",function(t){!function(t){var n=e(t.target);if(""!==n.val())I(n),n.val();else{var a=n.closest(d);O(a,!1,"clear")}_=null}(t)}).on("keydown",function(e){y(e)}).on("blur",function(){var t=e(this).closest(d);O(t,!1,"clear")});var O=function(t,n,a){var i=t.find(".js-search-autocomplete-container"),s=i.find(".js-search-autocomplete-panel");return n?""!==s.html()&&i.attr("data-state",""):(i.attr("data-state","hidden"),"clear"===a&&(s.html(""),p=null,_=null),v()),s.find("li").on("mouseenter",function(){e(this).attr("data-active",!0)}),s.find("li").on("mouseleave",function(){e(this).removeAttr("data-active")}),{originalText:c,selectedIndex:_}};function y(t){var a,i=null,s=e(t.target);if((n.isUsingAjax&&t.keyCode===r.ENTER_KEY||t.keyCode===m)&&t.preventDefault(),t.keyCode){var o=[m,g,T];-1!==e.inArray(t.keyCode,o)&&(i=t.keyCode)}if(null!==i&&""!==s.val()){if(a=s.closest(d),i===T)O(a,!1,"clear");else if(null===_)null===p?I(s):i===g?_=0:i===m&&(_=p);else if(null!==_)if(i===g){if(_<p?_++:_=0,_<0)return}else i===m&&_--;C(a,s,_,c)}}function C(e,t,a,s){if(null!==a){var r,o=e.find(".js-search-autocomplete-panel");o.children(".term-item").removeClass("active").attr("data-active","false"),o.children("[data-term-index="+a+"]").addClass("active").attr("data-active","true"),-1===a?(t.val(s),N(e,null),n.isUsingAjax&&i.updateKeyword(s),R()):(r=o.children("[data-term-index="+a+"]").attr("data-term"),n.isUsingAjax&&i.updateKeyword(r),N(e,a),t.val(r))}}function R(){_=null}function L(t){var s,r=e(t.target),c=r.attr("data-term"),p=r.attr("data-term-index"),_=r.closest(d),h=_.find(".js-search-autocomplete-panel"),f={search_page:1},E=l.constants,m=(o.getInstance().getState(),{}),g=E.AUTO_SUGGEST;(r.is(h.children(".term-item"))||""!==c&&""!==p&&r.hasClass("js-search-item"))&&(t.preventDefault(),N(_,p),s=_.find(u).val(),_.find(u).val(c),m[E.EVENT_PARAMS.STOCK_SEARCH_KEYWORD]=c,l.track(E.SEARCH_BEGIN,g,m,r),f[E.SEARCH_TYPE]=g,a.shouldSearchInLicenseHistory()?a.performSearchInLicenseHistory(c):n.isUsingAjax?(p&&(f.acp=p,f.aco=s),O(_,!1),i.updateKeyword(c),a.performSearch(!1,f)):(e(".js-search-type").val(g),_.submit()),O(_,!1))}function N(t,n){null===n?null!==f&&f.remove():(null===f&&(f=e(document.createElement("input")).attr("type","hidden").attr("name","acp"),t.append(f),E=e(document.createElement("input")).attr("type","hidden").attr("name","aco"),t.append(E)),f.val(n),E.val(t.find(u).val()))}return{setAutocompletePanel:O,updateSelection:C,onBodyClick:L,advanceSession:v,autocomplete_callback:S,onInputKeydown:y,queryAutocompleteApi:I}}),define("lib/footer",["jquery","lib/cookie","page_config","app/constants/ui","lib/utils"],function(e,t,n,a,i){"use strict";var s,r,o,l;function c(){s=e(".js-region-modal-canvas"),document.getElementById("region-modal-canvas"),r=document.getElementById("region-selector-toggler"),o=document.getElementById("choose-region-close-icon"),l=s.find("a").last().get(0)}function u(){e(r).on("click",function(e){e.preventDefault(),s.show(),setTimeout(function(){o.focus()},0)}),e("body").on("click",".modal-toggler",function(){s.hide()}),e("body").on("click",".region-link",function(){var a=e(this).attr("href").replace(/[\/]/g,""),i=new Date,s=i.getTime();i.setTime(s+31536e6),t(n.SUSI.COOKIE_VHOST,a,{path:"/",expires:i})}),e(o).keydown(d),e(document).keydown(p)}function d(e){e.keyCode!==a.ENTER_KEY&&e.keyCode!==a.SPACE_KEY||(e.preventDefault(),s.hide(),r.focus())}function p(e){if(s.is(":visible")){if(e.keyCode===a.ESC_KEY)return s.hide(),void r.focus();i.keyboardTabbingHandler(e,o,l)}}return c(),u(),{construct:c,addEventListeners:u,handleModalKeyboardEvents:p,handleCloseModalOnKeyboard:d}}),define("hbs!templates/search/fscTile",["Handlebars"],function(e){return e.template({1:function(e,t,n,a){var i;return'        <div class="js-fsc-tile margin-right-large container-inline-block padding-top-small" data-id="'+this.escapeExpression(this.lambda(null!=e?e.contentId:e,e))+'">\n            <div class="border-radius-4 white border-1 border-solid bon-jour-border">\n                <div class="container-table fsc-tile">\n                    <div class="container-table-cell fsc-tile__image-container center-align grey bon-jour border-1 border-top-left-radius-4 border-bottom-left-radius-4">\n                        \x3c!--if content has a url, put img inside a tag to open to that url in new tab--\x3e\n'+(null!=(i=t.if.call(e,null!=e?e.content_url:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t.if.call(e,null!=e?e.thumbnail_240:e,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.program(6,a,0),data:a}))?i:"")+"                        \x3c!--close a tag if exists--\x3e\n"+(null!=(i=t.if.call(e,null!=e?e.content_url:e,{name:"if",hash:{},fn:this.program(8,a,0),inverse:this.noop,data:a}))?i:"")+'                    </div>\n                    <div class="container-table-cell v-align-top no-wrap">\n                        <div class="margin-top-small padding-left-large">\n                            <label>\n                                <h5 class="grey dove-text font-normal half-tracking">\n                                    '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"SEARCH::FSC::FIND SIMILAR BY",{name:"_",hash:{},data:a}))+':\n                                </h5>\n                            </label>\n                            <div class="margin-top-large grey dove-text">\n                                <div class="fsc-tile__radio">\n                                    <label class="switch text-sregular" data-t="fsc-options-all-radio-label-text">\n                                        <input\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"all",logic:"eq",value:null!=e?e.findSimilarBy:e},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:"")+'                                            id="fsc-options-all"\n                                            name="fsc-options-'+this.escapeExpression(this.lambda(null!=e?e.contentId:e,e))+'"\n                                            type="radio"\n                                            value="all"\n                                            data-id="'+this.escapeExpression(this.lambda(null!=e?e.contentId:e,e))+'"\n                                            data-t="fsc-options-all"\n                                        />\n                                        '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"SEARCH::FSC::All attributes",{name:"_",hash:{},data:a}))+'\n                                    </label>\n                                </div>\n                                <div class="fsc-tile__radio">\n                                    <label class="switch text-sregular" data-t="fsc-options-content-radio-label-text">\n                                        <input\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"content",logic:"eq",value:null!=e?e.findSimilarBy:e},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:"")+'                                            id="fsc-options-content"\n                                            name="fsc-options-'+this.escapeExpression(this.lambda(null!=e?e.contentId:e,e))+'"\n                                            type="radio"\n                                            value="content"\n                                            data-id="'+this.escapeExpression(this.lambda(null!=e?e.contentId:e,e))+'"\n                                            data-t="fsc-options-content"\n                                        />\n                                        '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"SEARCH::FSC::Content",{name:"_",hash:{},data:a}))+'\n                                    </label>\n                                </div>\n                                <div class="fsc-tile__radio">\n                                    <label class="switch text-sregular" data-t="fsc-options-color-radio-label-text">\n                                        <input\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"color",logic:"eq",value:null!=e?e.findSimilarBy:e},fn:this.program(10,a,0),inverse:this.noop,data:a}))?i:"")+'                                            id="fsc-options-color"\n                                            name="fsc-options-'+this.escapeExpression(this.lambda(null!=e?e.contentId:e,e))+'"\n                                            type="radio"\n                                            value="color"\n                                            data-id="'+this.escapeExpression(this.lambda(null!=e?e.contentId:e,e))+'"\n                                            data-t="fsc-options-color"\n                                        />\n                                        '+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"SEARCH::FSC::Color",{name:"_",hash:{},data:a}))+"\n                                    </label>\n                                </div>\n"+(null!=(i=(t["unless-all"]||e&&e["unless-all"]||t.helperMissing).call(e,null!=e?e.isVideo:e,null!=e?e.hideComposition:e,{name:"unless-all",hash:{},fn:this.program(12,a,0),inverse:this.noop,data:a}))?i:"")+'                            </div>\n                        </div>\n                    </div>\n                    <div class="container-table-cell no-stretch v-align-top">\n                        <div class="right-align margin-right-small margin-top-xsmall">\n                            <button class="js-fsc-tile-close-btn" data-id="'+this.escapeExpression(this.lambda(null!=e?e.contentId:e,e))+'">\n                                <i class="mti-icon icon-close grey dove-text"></i>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n'},2:function(e,t,n,a){return'                            <a\n                                href="'+this.escapeExpression(this.lambda(null!=e?e.content_url:e,e))+'"\n                                target="_blank"\n                            >\n'},4:function(e,t,n,a){return'                            <img class="responsive-img responsive-image-height" src="'+this.escapeExpression(this.lambda(null!=e?e.thumbnail_240:e,e))+'"/>\n'},6:function(e,t,n,a){var i;return null!=(i=this.invokePartial(n["search/fscTileUnavailableImage"],e,{name:"search/fscTileUnavailableImage",data:a,indent:"                            ",helpers:t,partials:n}))?i:""},8:function(e,t,n,a){return"                            </a>\n"},10:function(e,t,n,a){return'                                                checked="checked"\n'},12:function(e,t,n,a){var i;return'                                    <div>\n                                        <label class="switch text-sregular" data-t="fsc-options-composition-radio-label-text">\n                                            <input\n'+(null!=(i=(t["if-plus"]||e&&e["if-plus"]||t.helperMissing).call(e,{name:"if-plus",hash:{tovalue:"composition",logic:"eq",value:null!=e?e.findSimilarBy:e},fn:this.program(13,a,0),inverse:this.noop,data:a}))?i:"")+'                                                id="fsc-options-composition"\n                                                name="fsc-options-'+this.escapeExpression(this.lambda(null!=e?e.contentId:e,e))+'"\n                                                type="radio"\n                                                value="composition"\n                                                data-id="'+this.escapeExpression(this.lambda(null!=e?e.contentId:e,e))+'"\n                                                data-t="fsc-options-composition"\n                                            />\n                                            <span>'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"SEARCH::FSC::Composition",{name:"_",hash:{},data:a}))+'</span>\n                                            <strong class="margin-left-xsmall">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"SEARCH::FSC::BETA",{name:"_",hash:{},data:a}))+"</strong>\n                                        </label>\n                                    </div>\n"},13:function(e,t,n,a){return'                                                    checked="checked"\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return'<div class="padding-left-large padding-right-large container-table">\n'+(null!=(i=t.each.call(e,null!=e?e.similarContentData:e,{name:"each",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+"</div>\n"},usePartial:!0,useData:!0})}),define("hbs!templates/search/fscTileUnavailableImage",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<div>\n    <i class="mti-icon mti-5x icon-cancel grey mountain-mist-text"></i>\n</div>\n<div>\n    <span class="text-sregular grey mountain-mist-text js-fsc-unavailable-text">'+this.escapeExpression((t._||e&&e._||t.helperMissing).call(e,"SEARCH::FSC::Find Similar Image Not Available",{name:"_",hash:{},data:a}))+"</span>\n</div>\n"},useData:!0})}),define("components/search/findSimilarControls",["jquery","lodash","page_config","app/client","app/stock-portal","app/actions/searchActions","app/actions/multiImageActions","app/constants/searchFilters","app/constants/analytics","hbs!templates/search/fscTile","hbs!templates/search/fscTileUnavailableImage","lib/utils","lib/analytics","lib/contentDetails","app/utils/search","app/utils/searchData","components/search/searchHelper","lib/analytics/dunamis","lib/hbsBasicHelpers"],function(e,t,n,a,i,s,r,o,l,c,u,d,p,_,h,f,E,m){"use strict";var g=a.getInstance(),T=".js-fsc-tile-container";function b(e,t){var n=m.constants,a={},i=t.findSimilarBy,s=t.similarContentId,o=a.search_type=n.VISUAL_SEARCH.PANEL_FSC_TILE_FIND_SIMILAR;p.setSelectionMethod(l.SELECTION_TILE),h.handleClickSimilarAnalyticsDunamis(o,i),h.logSimilarAnalyticsDunamis(o,i),g.dispatch(r.updateFindSimilarBy(s,i)),E.performSearch(!1,a)}function v(n,a){var s,r,p,_,h="",f=[],m=g.getState(),b=m.view.multiImage,v=m.filters[o.NATIVE_VISUAL_SEARCH],I=[],S={},A=e(T),O=!1;if(n){for(r=(f=n.toString().split(o.SIMILAR_CONTENT_ID_SEPARATOR)).length-1;r>=0;r--)s=Number(f[r]),(h=d.getValueFromArrayById(b.metadata,"contentId",s))&&(p=E.shouldHideFscComposition(h),_=t.get(m.filters,o.FIND_SIMILAR_BY,h.findSimilarBy),(O=p&&_===l.FSC_OPTIONS.FSC_OPTION_COMPOSITION)&&(_=l.FSC_OPTIONS.FSC_OPTION_ALL),I.push({contentId:s,content_url:h.content_url,thumbnail_240:h.thumbnail_240,findSimilarBy:_,isVideo:h.isVideo,hideComposition:p}),a&&(S={similarContentId:s.toString(),imgUrl:h.content_url,imgThumbnailUrl:h.thumbnail_240,findSimilarBy:_,hideComposition:p},i.renderFindSimilarControlsPanel(S)),O&&E.showIncompatibleFSCCompositionAlert());A.html(c({similarContentData:I},{partials:{"search/fscTileUnavailableImage":u}}))}else v||(A.empty(),i.onlyClearFindSimilarControls())}function I(a){var s,r,d=g.getState(),p=d.filters[o.SIMILAR_CONTENT_ID],_=S(),h=[],f={},m=e(T),b=!1;a?(s=E.shouldHideFscComposition(),r=t.get(d.filters,o.FIND_SIMILAR_BY,l.FSC_OPTIONS.FSC_OPTION_ALL),(b=s&&r===l.FSC_OPTIONS.FSC_OPTION_COMPOSITION)&&(r=l.FSC_OPTIONS.FSC_OPTION_ALL),_&&a===_.native_visual_search?h.push({contentId:_.native_visual_search,thumbnail_240:_.dataUri,findSimilarBy:r,hideComposition:s}):h.push({contentId:a,findSimilarBy:r,hideComposition:s}),f={similarContentId:"",imageToken:a,imgThumbnailUrl:t.get(_,"dataUri",""),findSimilarBy:r,hideComposition:s},n.isObjectArrangementUploadEnabled&&(f.isObjectArrangementUploadEnabled=!0),i.renderFindSimilarControlsPanel(f),b&&E.showIncompatibleFSCCompositionAlert(),m.html(c({similarContentData:h},{partials:{"search/fscTileUnavailableImage":u}}))):p||(m.empty(),i.onlyClearFindSimilarControls())}function S(){var e=localStorage.getItem(o.FSC_IMAGE);return e?d.doubleParseObject(e):null}var A={setUpFindSimilarByListener:function(){e(T).on("change",b)},toggleVisualSearchTile:function(e){var n=g.getState(),a=t.get(n.filters,o.NATIVE_VISUAL_SEARCH,null),s=t.get(n.filters,o.SIMILAR_CONTENT_ID,null);a?I(a):s?v(s,e):i.onlyClearFindSimilarControls()},toggleFSCTile:v,toggleNativeSearchFSCTile:I,fscContainerSelector:T,fscCloseSelector:".js-fsc-tile-close-btn",removeVisualSearchTile:function(){i.onlyClearFindSimilarControls()},getImageFromFscGroupInLocalStorage:function(e){var t=A.getFscGroupFromLocalStorage();return t[e]?t[e]:{}},addImageToFscGroupInLocalStorage:function(e){var t=A.getFscGroupFromLocalStorage(),n=!1;t.map(function(a,i){a[o.NATIVE_VISUAL_SEARCH]===e[o.NATIVE_VISUAL_SEARCH]&&(t[i]=e,n=!0)}),n||t.push(e),t.length>o.MAX_FIND_SIMILAR_IMAGES&&t.shift(),d.addItemToLocalStorage(o.FSC_IMAGE_GROUP,t)},removeImageFromFscGroupInLocalStorage:function(e){var t=A.getFscGroupFromLocalStorage(),n=-1;t.map(function(t,a){t.native_visual_search===e&&(n=a)}),-1!=n&&delete t[n],d.addItemToLocalStorage(o.FSC_IMAGE_GROUP,t)},handleFindSimilarByChange:b,getFSCImageFromLocalStorage:S,addFSCImageToLocalStorage:function(e){d.addItemToLocalStorage(o.FSC_IMAGE,e)},removeFSCImageFromLocalStorage:function(){S()&&d.removeItemFromLocalStorage(o.FSC_IMAGE)},getFscGroupFromLocalStorage:function(){var e=localStorage.getItem(o.FSC_IMAGE_GROUP);return e?d.doubleParseObject(e):[]}};return A}),define("lib/filters",["jquery","lib/cookie"],function(e,t){"use strict";var n=e("#filter-options-menu"),a=n.find("input");function i(e){var n=e,a=n.attr("name"),i=new Date;a&&(i.setTime(i.getTime()+31536e6),t(a.replace(/\[|]/gi,""),n.is(":checked")?"checked":"unchecked",{path:"/",expires:i}))}function s(){n.length&&(e.each(a,function(t,n){i(e(n))}),r(),n.find("input").on("change",function(){i(e(this)),r()}))}function r(){var e=t("filterscontent_type:photo"),n=t("filterscontent_type:illustration"),a=t("filterscontent_type:video"),i=t("filterscontent_type:zip_vector"),s={};return"unchecked"===e&&"unchecked"===n&&"unchecked"===i&&"checked"===a?(s.videoOnly=!0,!0):(s.videoOnly=!1,!1)}return{init:function(){s()},isVideoOnlyChecked:r}}),define("app/constants/thumbnailBadges",[],function(){"use strict";return{LICENSED_BADGE:"LICENSED_BADGE",TRANSFERRED_BADGE:"TRANSFERRED_BADGE",REQUESTED_BADGE:"REQUESTED_BADGE",SELECTOR_THUMBNAIL_BADGE_CONTAINER:".js-thumbnail-badge-container"}}),define("lib/badges",["jquery","lodash","i18n-config","page_config","lib/contentDetails","lib/utils","app/constants/thumbnailBadges","hbs!templates/thumbnailBadge","hbs!templates/thumbnailLicensedBadge","hbs!templates/badgeTooltip"],function(e,t,n,a,i,s,r,o,l,c){"use strict";var u;return u={badgeLicensedOrTransferred:function(e,n){var a=t.get(n,"license_transfers",[]),i=t.get(n,"display_as_unlicensed",!1),s=parseInt(e,10);i?u.renderThumbnailBadge(r.TRANSFERRED_BADGE,s,a):u.renderThumbnailBadge(r.LICENSED_BADGE,s,a)},formatLicenseTransferTooltipData:function(e){return Array.isArray(e)?e.map(function(e,t){return{dataT:"license-transfer-table-"+t,rows:[{label:n.gettext("ORGANIZATION::LICENSE_TRANSFER::Date:"),labelDataT:"license-transfer-date-label",value:e.date,valueDataT:"license-transfer-date-text"},{label:n.gettext("ORGANIZATION::LICENSE_TRANSFER::Client:"),labelDataT:"license-transfer-client-name-label",value:e.client_name,valueDataT:"license-transfer-client-name-text"},{label:n.gettext("ORGANIZATION::LICENSE_TRANSFER::Notes:"),labelDataT:"license-transfer-notes-label",value:e.notes?e.notes:"-",valueDataT:"license-transfer-notes-text"}]}}):[]},formatPendingLicenseRequestTooltipData:function(e){return Array.isArray(e)?e.map(function(e,t){return{dataT:"license-request-tooltip-"+t,rows:[{label:n.gettext("ORGANIZATION::LICENSE_REQUEST::Request date:"),value:e.createdAt,labelDataT:"request-date-label",valueDataT:"request-date-text"},{label:n.gettext("ORGANIZATION::LICENSE_REQUEST::Requestor:"),value:e.requesterDisplayName,labelDataT:"requester-label",valueDataT:"requester-text"},{label:n.ngettext("ORGANIZATION::LICENSE_REQUEST::Art Buyer:","ORGANIZATION::LICENSE_REQUEST::Art Buyers:",e.approversDisplayNames.length),value:e.approversDisplayNames.join(", "),labelDataT:"art-buyers-label",valueDataT:"art-buyers-text"}]}}):[]},getBadgeText:function(e){var t="";return s.isObject(e)?(e.is_editorial||e.is_illustrative?t="en_US"===a.locale_code?"Editorial Only":n.gettext("FILE::Editorial"):e.is_premium&&!e.is_video?t="Premium":e.is_free&&(t=n.gettext("FILE::Free")),t):""},renderThumbnailBadge:function(t,n,a,s){var d,p=e(".js-search-result-cell[data-content-id="+n+"]"),_=e(".js-details[data-content_id="+n+"]"),h={is3D:i.is3D(n),isTemplate:i.isTemplate(n)};if(t===r.REQUESTED_BADGE){var f=u.formatPendingLicenseRequestTooltipData(s);Object.assign(h,{displayRequestedBadge:f&&f.length>0,license_request_data:f})}else{var E=u.formatLicenseTransferTooltipData(a),m=t===r.LICENSED_BADGE,g=t===r.TRANSFERRED_BADGE&&E&&E.length>0;Object.assign(h,{displayLicensedBadge:m,displayTransferredBadge:g,isPremium:i.isPremium(n),isEditorial:i.isEditorial(n),isIllustrative:i.isIllustrative(n),license_transfer_tooltip_data:E})}[p,_].forEach(function(e){(d=e.find(r.SELECTOR_THUMBNAIL_BADGE_CONTAINER)).length&&d.html(o(h,{partials:{thumbnailLicensedBadge:l,badgeTooltip:c}}))})}}}),define("app/actions/pageActions",["app/actions/actionTypes"],function(e){"use strict";return{checkFilterToggle:function(t,n){return{name:t||"",checked:n,type:e.CHECK_FILTER_TOGGLE}},updatePageData:function(t){return{data:t||{},type:e.UPDATE_PAGE_DATA}}}}),define("components/search/assetTypeDropdown",["lodash","page_config","jquery","app/actions/pageActions","app/actions/searchActions","app/actions/searchParamsActions","app/client","app/constants/assetTypeFilters","app/constants/analytics","app/constants/cookies","app/constants/searchFilters","app/utils/routes","app/utils/observer","app/utils/search","app/utils/searchData","components/search/filtersHelper","components/search/searchHelper","components/search/findSimilarControls","lib/analytics","lib/cookie","lib/window"],function(e,t,n,a,i,s,r,o,l,c,u,d,p,_,h,f,E,m,g,T,b){"use strict";var v=r.getInstance(),I=n(".js-search-form"),S=n(".js-filter-view-type"),A={path:"/",expires:31};function O(e){return"premium"===e?i.setAssetTypeToPremium():a.updatePageData({filter_asset_type:e})}function y(e){var n=e.target.value;E.closeAlertHandler(),R(n),L(n),t.isNavbarV2Enabled&&C(n)}function C(e){var t=[o.PHOTOS,o.ILLUSTRATIONS,o.VECTORS];if(n(".js-asset-type-hidden").remove(),t.includes(e)){var a=e.replace(/.$/,"");"vector"==a&&(a="zip_vector");var i={type:"hidden",name:"filters[content_type:"+a+"]",value:1,id:e+"Hidden",class:"js-asset-type-hidden"},s=n("<input>").attr(i);I.append(s)}}function R(e){T(c.LAST_SELECTED_ASSET_TYPE,e,A)}function L(e){I.attr("action",t.base_url+d.getSearchRoute(e))}function N(e){return S.val(e)}function D(t,n,a){var i=e.get(t,"page.filter_asset_type"),s=e.get(n,"page.filter_asset_type");i!==s&&(P.isFilterPanelOpenByDefaultForAssetType(s)&&!f.isFiltersPanelOpen()&&f.toggleShowFilterPanel(),a(s))}var P={initializeObserver:function(e){p.listen(function(t,n){D(t,n,e)})},forceUpdateDropdown:function(e){N(e),R(e),v.dispatch(O(e))},forceUpdateDropdownWithoutSearch:function(e){N(e),R(e)},handleAssetTypeChange:y,init:function(){S&&(T(c.LAST_SELECTED_ASSET_TYPE,S.val(),A),t.isNavbarV2Enabled&&(C(S.val()),L(S.val()))),S.on("change",function(e){var a,i=v.getState(),s=n(this).val(),r=i.filters[u.KEYWORD],o=T(c.LAST_SELECTED_ASSET_TYPE),l=_.isVisualSearchActive(),p="videos"===o||"videos"===s||h.isOnlyVideoContentTypeFilterEnabled(i);if(y(e),t.isUsingAjax){if(E.shouldSearchInLicenseHistory())return void E.performSearchInLicenseHistory(r);if("audio"===s&&!E.shouldSearchInLicenseHistory()){_.handleDunamisAssetDropdownChange();var f=r?"?k="+encodeURI(r):"";return void b.setLocation(d.getSearchRouteWithBaseURL(s)+f)}a=O(s),v.dispatch(a)}l&&p&&m.toggleVisualSearchTile(!0)})},setValue:N,updateAssetTypeCookie:R,updateSearchFormAction:L,updateHiddenFields:C,getValue:function(){return S.val()},isFilterPanelOpenByDefaultForAssetType:function(e){switch(e){case o.FREE:return!(!t.isFreeEnabled||t.is_mobile);case o.EDITORIAL:return!t.is_mobile;default:return!1}},updateFiltersPanelForAssetType:D};return P}),function(){!function(e,t,n){var a,i,s;s="slidesjs",i={width:940,height:528,start:1,navigation:{active:!0,effect:"slide"},pagination:{active:!0,effect:"slide"},play:{active:!1,effect:"slide",interval:5e3,auto:!1,swap:!0,pauseOnHover:!1,restartDelay:2500},effect:{slide:{speed:500},fade:{speed:300,crossfade:!0}},callback:{loaded:function(){},start:function(){},complete:function(){}}},(a=function(t,n){this.element=t,this.options=e.extend(!0,{},i,n),this._defaults=i,this._name=s,this.init()}).prototype.init=function(){var n,a,i,s,r=this;n=e(this.element),this.data=e.data(this),json_fader=e(this.options.fader_data).html(),this.options.data_slide_urls=JSON.parse(json_fader);var o=this.options,l=this.data;return e.data(this,"animating",!1),e.data(this,"total",n.children().not(".slidesjs-navigation",n).length),e.data(this,"current",this.options.start-1),e.data(this,"vendorPrefix",this._getVendorPrefix()),"undefined"!=typeof TouchEvent&&(e.data(this,"touch",!0),this.options.effect.slide.speed=this.options.effect.slide.speed/2),n.css({overflow:"hidden"}),n.slidesContainer=n.children().not(".slidesjs-navigation",n).wrapAll("<div class='slidesjs-container'>",n).parent().css({overflow:"hidden",position:"relative"}),e(".slidesjs-container",n).wrapInner("<div class='slidesjs-control'>",n).children(),e(".slidesjs-control",n).css({position:"relative",left:0}),e(".slidesjs-control",n).children().addClass("slidesjs-slide").css({position:"absolute",top:0,left:0,width:"100%",zIndex:0,display:"none",webkitBackfaceVisibility:"hidden"}),e.each(e(".slidesjs-control",n).children(),function(t){return e(this).attr("slidesjs-index",t)}),this.data.touch&&(e(".slidesjs-control",n).on("touchstart",function(e){return r._touchstart(e)}),e(".slidesjs-control",n).on("touchmove",function(e){return r._touchmove(e)}),e(".slidesjs-control",n).on("touchend",function(e){return r._touchend(e)})),n.fadeIn(0),this.update(),this.data.touch&&this._setuptouch(),e(".slidesjs-control",n).children(":eq("+this.data.current+")").eq(0).fadeIn(0,function(){return e(this).css({zIndex:10})}),this.options.navigation.active&&(e("<a>",{class:"slidesjs-previous slidesjs-navigation",href:"#",title:"Previous",text:"Previous"}).appendTo(n),e("<a>",{class:"slidesjs-next slidesjs-navigation",href:"#",title:"Next",text:"Next"}).appendTo(n)),e(".slidesjs-next",n).click(function(e){return e.preventDefault(),r.stop(!0),r.next(r.options.navigation.effect)}),e(".slidesjs-previous",n).click(function(e){return e.preventDefault(),r.stop(!0),r.previous(r.options.navigation.effect)}),this.options.play.active&&(i=e("<a>",{class:"slidesjs-play slidesjs-navigation",href:"#",title:"Play",text:"Play"}).appendTo(n),s=e("<a>",{class:"slidesjs-stop slidesjs-navigation",href:"#",title:"Stop",text:"Stop"}).appendTo(n),i.click(function(e){return e.preventDefault(),r.play(!0)}),s.click(function(e){return e.preventDefault(),r.stop(!0)}),this.options.play.swap&&s.css({display:"none"})),this.options.pagination.active&&(a=e("<ul>",{class:"slidesjs-pagination"}).appendTo(n),e.each(new Array(this.data.total),function(t){var n;return n=e("<li>",{class:"slidesjs-pagination-item"}).appendTo(a),e("<a>",{href:"#","data-slidesjs-item":t,html:t+1}).appendTo(n).click(function(t){return t.preventDefault(),r.stop(!0),r.gotoNext(1*e(t.currentTarget).attr("data-slidesjs-item")+1)})})),e(".fader").on("click",function(n){return!!e(n.target).hasClass("btn-box-home")||!(e(n.target).hasClass("box-fader")||e(n.target).parent().hasClass("box-fader")||e(n.target).parent().parent().hasClass("box-fader"))&&void t.open(o.data_slide_urls[l.current][1])}),e(this.element).on("click",function(){t.open(o.data_slide_urls[l.current][1])}),e(t).bind("resize",function(){return r.update()}),this._setActive(),this.options.play.auto&&this.play(),this.options.callback.loaded(this.options.start)},a.prototype._setActive=function(t){var n,a;return n=e(this.element),this.data=e.data(this),a=t>-1?t:this.data.current,e(".active",n).removeClass("active"),e(".slidesjs-pagination li:eq("+a+") a",n).addClass("active")},a.prototype.update=function(){var t,n,a;return t=e(this.element),this.data=e.data(this),e(".slidesjs-control",t).children(":not(:eq("+this.data.current+"))").css({display:"none",left:0,zIndex:0}),a=t.width(),n=this.options.height/this.options.width*a,this.options.width=a,this.options.height=n,e(".slidesjs-control, .slidesjs-container",t).css({width:a,height:n})},a.prototype.next=function(t){return e(this.element),this.data=e.data(this),e.data(this,"direction","next"),void 0===t&&(t=this.options.navigation.effect),"fade"===t?this._fade():this._slide()},a.prototype.previous=function(t){return e(this.element),this.data=e.data(this),e.data(this,"direction","previous"),void 0===t&&(t=this.options.navigation.effect),"fade"===t?this._fade():this._slide()},a.prototype.gotoNext=function(t){var n;if(e(this.element),this.data=e.data(this),void 0===n&&(n=this.options.pagination.effect),t>this.data.total?t=this.data.total:t<1&&(t=1),"number"==typeof t)return"fade"===n?this._fade(t):this._slide(t);if("string"==typeof t){if("first"===t)return"fade"===n?this._fade(0):this._slide(0);if("last"===t)return"fade"===n?this._fade(this.data.total):this._slide(this.data.total)}},a.prototype._setuptouch=function(){var t,n,a,i;return t=e(this.element),this.data=e.data(this),i=e(".slidesjs-control",t),n=this.data.current+1,(a=this.data.current-1)<0&&(a=this.data.total-1),n>this.data.total-1&&(n=0),i.children(":eq("+n+")").css({display:"block",left:this.options.width}),i.children(":eq("+a+")").css({display:"block",left:0})},a.prototype._touchstart=function(t){var n;return e(this.element),this.data=e.data(this),n=t.originalEvent.touches[0],this._setuptouch(),e.data(this,"touchtimer",Number(new Date)),e.data(this,"touchstartx",n.pageX),e.data(this,"touchstarty",n.pageY),t.stopPropagation()},a.prototype._touchend=function(t){var n,a,i,s,r,o,l=this;return n=e(this.element),this.data=e.data(this),t.originalEvent.touches[0],(s=e(".slidesjs-control",n)).position().left>.5*this.options.width||s.position().left>.1*this.options.width&&Number(new Date)-this.data.touchtimer<250?(e.data(this,"direction","previous"),this._slide()):s.position().left<-.5*this.options.width||s.position().left<-.1*this.options.width&&Number(new Date)-this.data.touchtimer<250?(e.data(this,"direction","next"),this._slide()):(i=this.data.vendorPrefix,o=i+"Transform",a=i+"TransitionDuration",r=i+"TransitionTimingFunction",s[0].style[o]="translateX(0px)",s[0].style[a]=.85*this.options.effect.slide.speed+"ms"),s.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(){return i=l.data.vendorPrefix,o=i+"Transform",a=i+"TransitionDuration",r=i+"TransitionTimingFunction",s[0].style[o]="",s[0].style[a]="",s[0].style[r]=""}),t.stopPropagation()},a.prototype._touchmove=function(t){var n,a,i,s,r;return n=e(this.element),this.data=e.data(this),s=t.originalEvent.touches[0],a=this.data.vendorPrefix,i=e(".slidesjs-control",n),r=a+"Transform",e.data(this,"scrolling",Math.abs(s.pageX-this.data.touchstartx)<Math.abs(s.pageY-this.data.touchstarty)),this.data.animating||this.data.scrolling||(t.preventDefault(),this._setuptouch(),i[0].style[r]="translateX("+(s.pageX-this.data.touchstartx)+"px)"),t.stopPropagation()},a.prototype.play=function(t){var n,a,i=this;if(n=e(this.element),this.data=e.data(this),!this.data.playInterval&&(t&&(this.data.current,this.data.direction="next","fade"===this.options.play.effect?this._fade():this._slide()),e.data(this,"playInterval",setInterval(function(){return i.data.current,i.data.direction="next","fade"===i.options.play.effect?i._fade():i._slide()},this.options.play.interval)),a=e(".slidesjs-container",n),this.options.play.pauseOnHover&&(a.unbind(),a.bind("mouseenter",function(){return i.stop()}),a.bind("mouseleave",function(){return i.options.play.restartDelay?e.data(i,"restartDelay",setTimeout(function(){return i.play(!0)},i.options.play.restartDelay)):i.play()})),e.data(this,"playing",!0),e(".slidesjs-play",n).addClass("slidesjs-playing"),this.options.play.swap))return e(".slidesjs-play",n).hide(),e(".slidesjs-stop",n).show()},a.prototype.stop=function(t){var n;if(n=e(this.element),this.data=e.data(this),clearInterval(this.data.playInterval),this.options.play.pauseOnHover&&t&&e(".slidesjs-container",n).unbind(),e.data(this,"playInterval",null),e.data(this,"playing",!1),e(".slidesjs-play",n).removeClass("slidesjs-playing"),this.options.play.swap)return e(".slidesjs-stop",n).hide(),e(".slidesjs-play",n).show()},a.prototype._slide=function(t){var n,a,i,s,r,o,l,c,u,d=this;if(n=e(this.element),this.data=e.data(this),!this.data.animating&&t!==this.data.current+1)return e.data(this,"animating",!0),a=this.data.current,t>-1?(u=(t-=1)>a?1:-1,i=t>a?-this.options.width:this.options.width,r=t):(u="next"===this.data.direction?1:-1,i="next"===this.data.direction?-this.options.width:this.options.width,r=a+u),-1===r&&(r=this.data.total-1),r===this.data.total&&(r=0),this._setActive(r),l=e(".slidesjs-control",n),t>-1&&l.children(":not(:eq("+a+"))").css({display:"none",left:0,zIndex:0}),l.children(":eq("+r+")").css({display:"block",left:u*this.options.width,zIndex:10}),this.options.callback.start(a+1),this.data.vendorPrefix?(o=this.data.vendorPrefix,c=o+"Transform",s=o+"TransitionDuration",o+"TransitionTimingFunction",l[0].style[c]="translateX("+i+"px)",l[0].style[s]=this.options.effect.slide.speed+"ms",l.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(){return l[0].style[c]="",l[0].style[s]="",l.children(":eq("+r+")").css({left:0}),l.children(":eq("+a+")").css({display:"none",left:0,zIndex:0}),e.data(d,"current",r),e.data(d,"animating",!1),l.unbind("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd"),l.children(":not(:eq("+r+"))").css({display:"none",left:0,zIndex:0}),d.data.touch&&d._setuptouch(),d.options.callback.complete(r+1)})):l.stop().animate({left:i},this.options.effect.slide.speed,function(){return l.css({left:0}),l.children(":eq("+r+")").css({left:0}),l.children(":eq("+a+")").css({display:"none",left:0,zIndex:0},e.data(d,"current",r),e.data(d,"animating",!1),d.options.callback.complete(r+1))})},a.prototype._fade=function(t){var n,a,i,s,r,o=this;if(n=e(this.element),this.data=e.data(this),this.data.current<this.options.data_slide_urls.length&&this.data.total!=this.options.data_slide_urls.length&&(e(".slidesjs-control").append('<img src="'+this.options.data_slide_urls[this.data.current+1][0]+'" class="slidesjs-slide" slidesjs-index="'+(this.data.current+1)+'" style="position: absolute; top: 0px; width: 100%;">'),this.data.total++),!this.data.animating&&t!==this.data.current+1)return e.data(this,"animating",!0),a=this.data.current,t?(r=(t-=1)>a?1:-1,i=t):(r="next"===this.data.direction?1:-1,i=a+r),-1===i&&(i=this.data.total-1),i===this.data.total&&(i=0),this._setActive(i),(s=e(".slidesjs-control",n)).children(":eq("+i+")").css({display:"none",left:0,zIndex:10}),this.options.callback.start(a+1),this.options.effect.fade.crossfade?(s.children(":eq("+this.data.current+")").stop().fadeOut(this.options.effect.fade.speed),s.children(":eq("+i+")").stop().fadeIn(this.options.effect.fade.speed,function(){return s.children(":eq("+i+")").css({zIndex:0}),e.data(o,"animating",!1),e.data(o,"current",i),o.options.callback.complete(i+1)})):s.children(":eq("+a+")").stop().fadeOut(this.options.effect.fade.speed,function(){return s.children(":eq("+i+")").stop().fadeIn(o.options.effect.fade.speed,function(){return s.children(":eq("+i+")").css({zIndex:10})}),e.data(o,"animating",!1),e.data(o,"current",i),o.options.callback.complete(i+1)})},a.prototype._getVendorPrefix=function(){var e,t,a,i;for(t=(n.body||n.documentElement).style,i=["Moz","Webkit","Khtml","O","ms"],a=(a="transition").charAt(0).toUpperCase()+a.substr(1),e=0;e<i.length;){if("string"==typeof t[i[e]+a])return i[e];e++}return!1},e.fn[s]=function(t){return this.each(function(){if(!e.data(this,"plugin_"+s))return e.data(this,"plugin_"+s,new a(this,t))})}}(jQuery,window,document)}.call(this),define("vendor/jquery/jquery.slides-3",function(){}),function(e){"function"==typeof define&&define.amd?define("vendor/jquery/jqueryui.slide",["jquery"],e):e(jQuery)}(function(e){var t,n="ui-effects-",a=e;e.effects={effect:{}},function(e,t){var n,a=/^([\-+])=\s*(\d+\.?\d*)/,i=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],s=e.Color=function(t,n,a,i){return new e.Color.fn.parse(t,n,a,i)},r={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},o={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},l=s.support={},c=e("<p>")[0],u=e.each;function d(e,t,n){var a=o[t.type]||{};return null==e?n||!t.def?null:t.def:(e=a.floor?~~e:parseFloat(e),isNaN(e)?t.def:a.mod?(e+a.mod)%a.mod:0>e?0:a.max<e?a.max:e)}function p(t){var a=s(),o=a._rgba=[];return t=t.toLowerCase(),u(i,function(e,n){var i,s=n.re.exec(t),l=s&&n.parse(s),c=n.space||"rgba";if(l)return i=a[c](l),a[r[c].cache]=i[r[c].cache],o=a._rgba=i._rgba,!1}),o.length?("0,0,0,0"===o.join()&&e.extend(o,n.transparent),a):n[t]}function _(e,t,n){return 6*(n=(n+1)%1)<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}c.style.cssText="background-color:rgba(1,1,1,.5)",l.rgba=c.style.backgroundColor.indexOf("rgba")>-1,u(r,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),s.fn=e.extend(s.prototype,{parse:function(a,i,o,l){if(a===t)return this._rgba=[null,null,null,null],this;(a.jquery||a.nodeType)&&(a=e(a).css(i),i=t);var c=this,_=e.type(a),h=this._rgba=[];return i!==t&&(a=[a,i,o,l],_="array"),"string"===_?this.parse(p(a)||n._default):"array"===_?(u(r.rgba.props,function(e,t){h[t.idx]=d(a[t.idx],t)}),this):"object"===_?(u(r,a instanceof s?function(e,t){a[t.cache]&&(c[t.cache]=a[t.cache].slice())}:function(t,n){var i=n.cache;u(n.props,function(e,t){if(!c[i]&&n.to){if("alpha"===e||null==a[e])return;c[i]=n.to(c._rgba)}c[i][t.idx]=d(a[e],t,!0)}),c[i]&&e.inArray(null,c[i].slice(0,3))<0&&(c[i][3]=1,n.from&&(c._rgba=n.from(c[i])))}),this):void 0},is:function(e){var t=s(e),n=!0,a=this;return u(r,function(e,i){var s,r=t[i.cache];return r&&(s=a[i.cache]||i.to&&i.to(a._rgba)||[],u(i.props,function(e,t){if(null!=r[t.idx])return n=r[t.idx]===s[t.idx]})),n}),n},_space:function(){var e=[],t=this;return u(r,function(n,a){t[a.cache]&&e.push(n)}),e.pop()},transition:function(e,t){var n=s(e),a=n._space(),i=r[a],l=0===this.alpha()?s("transparent"):this,c=l[i.cache]||i.to(l._rgba),p=c.slice();return n=n[i.cache],u(i.props,function(e,a){var i=a.idx,s=c[i],r=n[i],l=o[a.type]||{};null!==r&&(null===s?p[i]=r:(l.mod&&(r-s>l.mod/2?s+=l.mod:s-r>l.mod/2&&(s-=l.mod)),p[i]=d((r-s)*t+s,a)))}),this[a](p)},blend:function(t){if(1===this._rgba[3])return this;var n=this._rgba.slice(),a=n.pop(),i=s(t)._rgba;return s(e.map(n,function(e,t){return(1-a)*i[t]+a*e}))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===n[3]&&(n.pop(),t="rgb("),t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e});return 1===n[3]&&(n.pop(),t="hsl("),t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),a=n.pop();return t&&n.push(~~(255*a)),"#"+e.map(n,function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),s.fn.parse.prototype=s.fn,r.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,a=e[0]/255,i=e[1]/255,s=e[2]/255,r=e[3],o=Math.max(a,i,s),l=Math.min(a,i,s),c=o-l,u=o+l,d=.5*u;return t=l===o?0:a===o?60*(i-s)/c+360:i===o?60*(s-a)/c+120:60*(a-i)/c+240,n=0===c?0:d<=.5?c/u:c/(2-u),[Math.round(t)%360,n,d,null==r?1:r]},r.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],a=e[2],i=e[3],s=a<=.5?a*(1+n):a+n-a*n,r=2*a-s;return[Math.round(255*_(r,s,t+1/3)),Math.round(255*_(r,s,t)),Math.round(255*_(r,s,t-1/3)),i]},u(r,function(n,i){var r=i.props,o=i.cache,l=i.to,c=i.from;s.fn[n]=function(n){if(l&&!this[o]&&(this[o]=l(this._rgba)),n===t)return this[o].slice();var a,i=e.type(n),p="array"===i||"object"===i?n:arguments,_=this[o].slice();return u(r,function(e,t){var n=p["object"===i?e:t.idx];null==n&&(n=_[t.idx]),_[t.idx]=d(n,t)}),c?((a=s(c(_)))[o]=_,a):s(_)},u(r,function(t,i){s.fn[t]||(s.fn[t]=function(s){var r,o=e.type(s),l="alpha"===t?this._hsla?"hsla":"rgba":n,c=this[l](),u=c[i.idx];return"undefined"===o?u:("function"===o&&(s=s.call(this,u),o=e.type(s)),null==s&&i.empty?this:("string"===o&&(r=a.exec(s))&&(s=u+parseFloat(r[2])*("+"===r[1]?1:-1)),c[i.idx]=s,this[l](c)))})})}),s.hook=function(t){var n=t.split(" ");u(n,function(t,n){e.cssHooks[n]={set:function(t,a){var i,r,o="";if("transparent"!==a&&("string"!==e.type(a)||(i=p(a)))){if(a=s(i||a),!l.rgba&&1!==a._rgba[3]){for(r="backgroundColor"===n?t.parentNode:t;(""===o||"transparent"===o)&&r&&r.style;)try{o=e.css(r,"backgroundColor"),r=r.parentNode}catch(e){}a=a.blend(o&&"transparent"!==o?o:"_default")}a=a.toRgbaString()}try{t.style[n]=a}catch(e){}}},e.fx.step[n]=function(t){t.colorInit||(t.start=s(t.elem,n),t.end=s(t.end),t.colorInit=!0),e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}})},s.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),e.cssHooks.borderColor={expand:function(e){var t={};return u(["Top","Right","Bottom","Left"],function(n,a){t["border"+a+"Color"]=e}),t}},n=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(a),function(){var t,n=["add","remove","toggle"],i={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function s(t){var n,a,i=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,s={};if(i&&i.length&&i[0]&&i[i[0]])for(a=i.length;a--;)"string"==typeof i[n=i[a]]&&(s[e.camelCase(n)]=i[n]);else for(n in i)"string"==typeof i[n]&&(s[n]=i[n]);return s}e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,n){e.fx.step[n]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(a.style(e.elem,n,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(t,a,r,o){var l=e.speed(a,r,o);return this.queue(function(){var a,r=e(this),o=r.attr("class")||"",c=l.children?r.find("*").addBack():r;c=c.map(function(){return{el:e(this),start:s(this)}}),(a=function(){e.each(n,function(e,n){t[n]&&r[n+"Class"](t[n])})})(),c=c.map(function(){return this.end=s(this.el[0]),this.diff=function(t,n){var a,s,r={};for(a in n)s=n[a],t[a]!==s&&(i[a]||!e.fx.step[a]&&isNaN(parseFloat(s))||(r[a]=s));return r}(this.start,this.end),this}),r.attr("class",o),c=c.map(function(){var t=this,n=e.Deferred(),a=e.extend({},l,{queue:!1,complete:function(){n.resolve(t)}});return this.el.animate(this.diff,a),n.promise()}),e.when.apply(e,c.get()).done(function(){a(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(r[0])})})},e.fn.extend({addClass:(t=e.fn.addClass,function(n,a,i,s){return a?e.effects.animateClass.call(this,{add:n},a,i,s):t.apply(this,arguments)}),removeClass:function(t){return function(n,a,i,s){return arguments.length>1?e.effects.animateClass.call(this,{remove:n},a,i,s):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(n,a,i,s,r){return"boolean"==typeof a||void 0===a?i?e.effects.animateClass.call(this,a?{add:n}:{remove:n},i,s,r):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:n},a,i,s)}}(e.fn.toggleClass),switchClass:function(t,n,a,i,s){return e.effects.animateClass.call(this,{add:n,remove:t},a,i,s)}})}(),function(){function t(t,n,a,i){return e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},null==n&&(n={}),e.isFunction(n)&&(i=n,a=null,n={}),("number"==typeof n||e.fx.speeds[n])&&(i=a,a=n,n={}),e.isFunction(a)&&(i=a,a=null),n&&e.extend(t,n),a=a||n.duration,t.duration=e.fx.off?0:"number"==typeof a?a:a in e.fx.speeds?e.fx.speeds[a]:e.fx.speeds._default,t.complete=i||n.complete,t}function a(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||("string"==typeof t&&!e.effects.effect[t]||(!!e.isFunction(t)||"object"==typeof t&&!t.effect))}var i;e.extend(e.effects,{version:"1.11.4",save:function(e,t){for(var a=0;a<t.length;a++)null!==t[a]&&e.data(n+t[a],e[0].style[t[a]])},restore:function(e,t){var a,i;for(i=0;i<t.length;i++)null!==t[i]&&(void 0===(a=e.data(n+t[i]))&&(a=""),e.css(t[i],a))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,a;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":a=0;break;case"center":a=.5;break;case"right":a=1;break;default:a=e[1]/t.width}return{x:a,y:n}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},a=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),i={width:t.width(),height:t.height()},s=document.activeElement;try{s.id}catch(e){s=document.body}return t.wrap(a),(t[0]===s||e.contains(t[0],s))&&e(s).focus(),a=t.parent(),"static"===t.css("position")?(a.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,a){n[a]=t.css(a),isNaN(parseInt(n[a],10))&&(n[a]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(i),a.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).focus()),t},setTransition:function(t,n,a,i){return i=i||{},e.each(n,function(e,n){var s=t.cssUnit(n);s[0]>0&&(i[n]=s[0]*a+s[1])}),i}}),e.fn.extend({effect:function(){var n=t.apply(this,arguments),a=n.mode,i=n.queue,s=e.effects.effect[n.effect];if(e.fx.off||!s)return a?this[a](n.duration,n.complete):this.each(function(){n.complete&&n.complete.call(this)});function r(t){var a=e(this),i=n.complete,r=n.mode;function o(){e.isFunction(i)&&i.call(a[0]),e.isFunction(t)&&t()}(a.is(":hidden")?"hide"===r:"show"===r)?(a[r](),o()):s.call(a[0],n,o)}return!1===i?this.each(r):this.queue(i||"fx",r)},show:(i=e.fn.show,function(e){if(a(e))return i.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}),hide:function(e){return function(n){if(a(n))return e.apply(this,arguments);var i=t.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(e.fn.hide),toggle:function(e){return function(n){if(a(n)||"boolean"==typeof n)return e.apply(this,arguments);var i=t.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(e.fn.toggle),cssUnit:function(t){var n=this.css(t),a=[];return e.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(a=[parseFloat(n),t])}),a}})}(),t={},e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,n){t[n]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(e){return 1-n(1-e)},e.easing["easeInOut"+t]=function(e){return e<.5?n(2*e)/2:1-n(-2*e+2)/2}});e.effects,e.effects.effect.slide=function(t,n){var a,i=e(this),s=["position","top","bottom","left","right","width","height"],r=e.effects.setMode(i,t.mode||"show"),o="show"===r,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,d={};e.effects.save(i,s),i.show(),a=t.distance||i["top"===c?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(i).css({overflow:"hidden"}),o&&i.css(c,u?isNaN(a)?"-"+a:-a:a),d[c]=(o?u?"+=":"-=":u?"-=":"+=")+a,i.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&i.hide(),e.effects.restore(i,s),e.effects.removeWrapper(i),n()}})}}),define("components/modalMenu",["jquery"],function(e){"use strict";e("body").on("click",".js-modal-toggler",function(){var t=e(this).siblings(".js-modal-menu");t.toggle(),t.css({top:15,left:10})})}),define("lib/searchheader",["jquery","lodash","components/search/searchHelper","components/search/filtersHelper","components/search/findSimilarControls","page_config","i18n-config","Handlebars","app/constants/cookies","lib/cookie","lib/assetsStore","lib/window","lib/uiEvents","lib/filters","lib/utils","lib/member","lib/analytics","lib/autocomplete","lib/badges","app/actions/filterActions","app/actions/multiImageActions","app/actions/searchActions","app/actions/historyActions","app/client","app/constants/analytics","app/constants/searchFilters","app/constants/ui","app/constants/thumbnailBadges","app/stock-portal","app/utils/search","app/utils/observer","components/search/assetTypeDropdown","hbs!templates/search/recentSearches","lib/analytics/dunamis","app/utils/searchData","vendor/jquery/jquery.slides-3","vendor/jquery/jqueryui.slide","components/modalMenu","vendor/jquery/jquery.minicolors.min","lib/hbsBasicHelpers"],function(e,t,n,a,i,s,r,o,l,c,u,d,p,_,h,f,E,m,g,T,b,v,I,S,A,O,y,C,R,L,N,D,P,w,M){"use strict";var k,x=e("body"),F=e(document.getElementById("filters-toggle")),U=e(document.getElementById("filters-button")),H=e(".js-search-profile-badge"),j=e(".js-search-collection-badge"),Y=e("#search-results"),V=e(".js-search-form"),G=e(".js-sell-nav"),B=1,q=".js-inactive-tooltip",W=".js-search-text-input",K=".js-search-recent-container",z=".js-search-recent-item-selected",Q=-1,Z="clearAll",X=40,$=38,J=13,ee=32,te=9,ne=16,ae=S.getInstance(),ie=t.debounce(oe,450),se=w.constants;function re(t,a){var i,r,o=a||se.USERTYPED,l={},c=e(W),u=c.val();n.validateKeyword(u)?(isNaN(u)||9!==u.length||(o=se.CONTENT_ID),i={search_page:1,search_type:o},l[se.EVENT_PARAMS.STOCK_SEARCH_KEYWORD]=u,w.track(se.SEARCH_BEGIN,o,l,c),n.shouldSearchInLicenseHistory()?(n.performSearchInLicenseHistory(u),m.setAutocompletePanel(V,!1)):s.isUsingAjax?(-1!==(r=m.setAutocompletePanel(V,!1)).selectedIndex&&(i.acp=r.selectedIndex,i.aco=r.originalText),n.renderFindSimilarControlsOnKeywordChange(u),n.togglePreviewThumbs(n.getSimilarContentId(),!0),n.performActionAndSearch(T.updateSearchFilters({}),!1,i,!0)):(V.find("input[name=load_type]").val("search"),V.find("input[name=search_type]").val(o),V.submit())):t.preventDefault()}function oe(){var t,a={filters:{}},i=e(W).val();n.validateKeyword(i)&&(a[O.KEYWORD]=i,t=e.extend({},a),ae.dispatch(T.updateSearchFilters(t)))}function le(){var e=a.toggleShowFilterPanel()===y.FILTER_PANEL_OPEN?se.FILTER_VIEW_PANEL:se.FILTER_HIDE_PANEL;w.track(se.CLICK,e,null,x)}function ce(){ae.getState().view.recentSearches&&ae.dispatch(v.hideRecentSearches())}function ue(t){var n=ae.getState().view.recentSearches,a=L.getRecentSearches(),i=e(W).val().length;t.stopPropagation(),0===i&&oe(),a.length>0&&!n&&0===i&&ae.dispatch(v.showRecentSearches())}function de(e){e.stopPropagation(),L.clearRecentSearches()}function pe(e){return parseInt(e.attr("data-keyword-index"),10)}function _e(e){var t=e.attr("data-action");return t||""}function he(t){var n=e(z),i="",r=Q,o=L.getRecentSearches().length;switch(n.length&&(r=pe(n)),t.keyCode){case X:r+=1;break;case $:r-=1}(r<=Q||r>o)&&(r=0),ge(!0,r),(n=e(z)).length&&(i=n[0].textContent.trim()),_e(n)===Z&&(i=""),s.isUsingAjax?a.updateKeyword(i):t.target.value=i}function fe(){ae.getState().view.recentSearches&&ae.dispatch(v.hideRecentSearches())}function Ee(t){var n=e(z),a=ae.getState().view.recentSearches,i=e(t.target),r=null;if(a)switch(t.keyCode){case X:case $:he(t);break;case J:_e(n)===Z?(de(t),t.preventDefault()):(r=se.RECENT_SEARCHES,fe());break;case ee:fe(),m.queryAutocompleteApi(i);break;case te:case ne:break;default:fe()}if(t.keyCode===y.ENTER_KEY&&s.isUsingAjax)return e(".js-search-autocomplete-panel").find(".active").length>0&&(r=se.AUTO_SUGGEST),re(t,r),!1;be.debouncedKeyPress()}function me(t){return function(i){var r=se.RECENT_SEARCHES,o=i.target.innerText,l={is_recent_search:B,search_type:r},c={},u=e(W);c[se.EVENT_PARAMS.STOCK_SEARCH_KEYWORD]=o,i.preventDefault(),ae.dispatch(v.hideRecentSearches()),e(W).val(o),w.track(se.SEARCH_BEGIN,r,c,u),n.shouldSearchInLicenseHistory()?n.performSearchInLicenseHistory(o):s.isUsingAjax?(a.updateKeyword(o),n.performSearch(!1,l)):(e(".js-is-recent-search").val(B),e(".js-search-type").val(r),t.submit())}}function ge(t,n){var a=L.getRecentSearches();m.setAutocompletePanel(V,!1),e(K).html(P({keywords:a,selected:n,show:t}))}!V[0]||s.isUsingAjax&&void 0!==s.isUsingAjax||V[0].addEventListener("submit",function(n){var a=se.USERTYPED,i=ae.getState(),s=t.get(i,"view.recentSearches"),r=e(".js-search-autocomplete-panel").find(".active").length>0;s?a=se.RECENT_SEARCHES:r&&(a=se.AUTO_SUGGEST),re(n,a)}),e(".js-search-icon").click(function(t){return a.updateKeyword(e(W).val()),re(t),!1}),Y.on("click",".non-js-link",function(e){h.isPhone()?window.location.hash=e.currentTarget.name:e.preventDefault()}),x.on("keypress",".js-pagination-jump-field",function(t){if(t.keyCode===y.ENTER_KEY){var n=e(this),a=e("#pagination-total-page-count");parseInt(n.val())>parseInt(a.val())&&n.val(a.val())}}),F.on("click",le),U.on("click",function(){e(".js-slide-in").addClass(y.FILTER_PANEL_OPEN),a.renderMosaic(),R.renderFiltersPanel(),w.track(se.CLICK,se.FILTER_VIEW_PANEL,null,x)}),e("#panel").on("click","#close-icon-button",le),x.on("click",".js-license-history-close",function(t){var a=c(l.LAST_SELECTED_ASSET_TYPE),i={keywords:e(W).val(),assetType:a},s=n.getSearchUrlWithQueryParams(i);d.setLocation(s)}),x.on("click",".js-search-profile-close",function(e){s.isUsingAjax?d.setLocation(s.base_url+"/Search"):(V.attr("action",s.base_url+"/Search"),H.hide(),V.find(".js-search-text-input").removeClass("profile-search-input"))}),x.on("click",".js-search-collection-close",function(e){var t=c(l.LAST_SELECTED_ASSET_TYPE),a=n.getSearchUrlForAssetType(t);s.isUsingAjax?d.setLocation(a):(V.attr("action",a),j.hide())}),p.on(p.ASSET_LICENSED,function(e){var t=e.transferData||[];e&&e.contentId&&g.badgeLicensedOrTransferred(e.contentId,{license_transfers:t,display_as_unlicensed:e.display_as_unlicensed})}),p.on(p.ASSET_LICENSE_REQUEST_PENDING,function(e){e&&e.contentId&&e.license_request_data&&g.renderThumbnailBadge(C.REQUESTED_BADGE,e.contentId,null,e.license_request_data)}),p.on(p.SEARCH_RESULTS_UPDATED,function(){s.thor_adobe_redirect&&e(".js-thor-adobe-redirect").empty(),s.suggest&&e(".js-suggest").empty()}),e(".js-hide-filters").on("click",function(){a.toggleShowFilterPanel(),F.find("input").removeAttr("checked")}),e(window).on("portal:clearFilters",function(){var e={search_type:se.CLEAR_ALL_FILTERS};w.track(se.CLICK,se.CLEAR_ALL_FILTERS,null,x),w.track(se.SEARCH_BEGIN,se.CLEAR_ALL_FILTERS,null,x),n.clearFilters(e)}),x.on("click",".js-clear-filters",function(e){var t=e.currentTarget.getAttribute("data-ingest-clicktype"),a=ae.getState(),s=M.isOnlyVideoContentTypeFilterEnabled(a),r={search_type:t};L.isVisualSearchActive()&&s&&i.toggleVisualSearchTile(),n.clearFilters(r),w.track(se.SEARCH_BEGIN,t,null,x)}),e(".js-thumbs-container").on("click",".js-thumb-badge-close",n.handleFindSimilarCloseClick),e(".js-thumbs-container").on("click",".js-inactive-thumb-badge-close",function(){ae.getState().view.multiImage.inactive&&(ae.dispatch(b.multiImageRemoveInactive()),n.togglePreviewThumbs(n.getSimilarContentId()))}).on("mouseenter",".js-show-tooltip-on-hover",function(){e(q).attr("data-is-visible",!0)}).on("mouseleave",".js-show-tooltip-on-hover",function(){e(q).attr("data-is-visible",!1)}),e(W).on("keyup",Ee),k=e(".js-search-form"),p.on(p.BODY_CLICKED,ce),x.on("mousedown",function(){p.trigger(p.BODY_CLICKED)}),e(W).on("click",ue),e(W).on("focus",ue),e(".js-filter-view-type, .js-camera-icon").on("focus",function(e){e.stopPropagation(),e.preventDefault(),ae.dispatch(v.hideRecentSearches())}),k.on("click",".js-search-recent-clear",de).on("click",".js-search-recent-item",me(k)),e(K).on("mousedown",function(e){e.stopPropagation()}),N.observe(function(e){return e.view.recentSearches},function(e){ge(e,Q)}),D.init();var Te=function(e,n){var a="filters.k",i=t.get(e,a),s=t.get(n,a);t.isEqual(i,s)||be.updateSearchKeyword(s)};N.listen(Te),G.on("click",function(){w.track(se.CLICK,se.SELL,null,G,!0)});var be={performKeywordSearch:re,hideRecentSearchesOnBodyClick:ce,searchBarClick:ue,recentClear:de,hideRecentSearchesOnTyping:fe,recentClick:me,getIndexOfRecentSearchItem:pe,getClearAllAction:_e,selectNextRecentSearchEntry:he,searchInputOnKeyUp:Ee,updateFiltersKeyword:oe,updateSearchKeyword:function(t){var n=e(W);n.val()!==t&&n.val(t)},updateSearchKeywordObserverHandler:Te,debouncedKeyPress:ie};return be}),require(["jquery","page_config","app/constants/analytics","lib/member","lib/utils","lib/window","lib/modal-window","lib/analytics/promoBanner","app/stock-portal","lib/localStorage","app/constants/localStorage"],function(e,t,n,a,i,s,r,o,l){"use strict";e("body").on("click",".js-start-fmf",function(e){i.preventDefaultHandler(e);var c=this.dataset.contentId?this.dataset.contentId:null,u=this.dataset.productKey?this.dataset.productKey:"/Applications/StockSubSmallAnnual",d=this.dataset.assetType?this.dataset.assetType:null,p=this.dataset.lpregion?this.dataset.lpregion:null,_=!!this.dataset.qcStartSearch&&this.dataset.qcStartSearch,h=this.dataset.analyticsLabel?this.dataset.analyticsLabel:n.BLUE_BANNER_START_NOW;a&&a.getDefaultEntitlement()&&a.getDefaultEntitlement().is_team&&!a.isType2E()?r.showSwitchToPersonalMessage().then(function(){s.setLocation(t.base_url+"/Member/SwitchPersonal")}):l.startCheckout({productKey:u,contentId:c,extras:{options:{start_search:_},credit_pack_asset_type:d}}),o.sendBlueBannerAnalytics("firstmonthfreebanner",u,p,h)})}),define("lib/firstMonthFree",function(){}),define("lib/notification",["jquery","lib/uiEvents","page_config","lib/cookie","lib/susi"],function(e,t,n,a,i){"use strict";var s="js-header-notification",r="js-header-notification-email";function o(e,t){t||(t=l),e&&t(e.email)}function l(t){if(!t)throw new Error("Email must be set");window.document.getElementById(r).innerText=t,window.document.getElementById(s).dataset.state="shown",e(".js-manage-my-adobe-id").hide()}return"interim"===a(n.SUSI.COOKIE_STOCK_ONLY_LOGGED_IN)&&i.ready.then(o),t.on(t.NOTIFICATION_SHOW,l),{filterEmail:o,showNotification:l}}),define("lib/visualSearchDragDrop",["i18n","jquery","lodash","app/client","lib/ajax","page_config","i18n-config","lib/analytics","lib/analytics/dunamis","lib/contentDetails","Handlebars","app/actions/filterActions","app/actions/multiImageActions","app/constants/analytics","app/constants/searchFilters","app/constants/assetTypeFilters","components/search/searchHelper","components/search/assetTypeDropdown","app/utils/search","app/utils/searchData","lib/utils","components/search/findSimilarControls","app/stock-portal","app/constants/ui"],function(e,t,n,a,i,s,r,o,l,c,u,d,p,_,h,f,E,m,g,T,b,v,I,S){"use strict";var A,O,y,C,R,L,N,D,P,w=("draggable"in(A=document.createElement("div"))||"ondragstart"in A&&"ondrop"in A)&&"FormData"in window&&"FileReader"in window,M=a.getInstance(),k=l.constants,x=23e3,F=1e3,U=65496,H=65505,j=1165519206,Y=18761,V=274,G=65280,B="content_id:",q=B.length,W=n.get(s,"isVisualSearchEnabled"),K=t(".visual-search-camera-icon");function z(){var e=E.getVisualSearchModalData(),t={items:e.items,filters:e.filters,details:e.details,page:e.page};I.renderVisualSearchModal(t)}function Q(e,a,i,r){if(e){var o,l=t(".js-search-form"),c={},u={},d=M.getState(),b=d.filters,v=T.isAestheticFilterSet(b),S=n.get(d.view,"multiImage.upload",{}),A=S&&S.id,y=a?E.getSelectedContentData(a):S,C=E.getCollectionId(),R=a?k.VISUAL_SEARCH.DRAG:k.VISUAL_SEARCH.BROWSE,L={};a?_.VISUAL_SEARCH_DRAG:_.VISUAL_SEARCH_BROWSE;if(s.isUsingAjax){if(u=E.getMultiImageMetadata(y),(c=g.resetFindSimilarFilters(c))[h.KEYWORD]="",c[h.SERIE_ID]="",c[h.MODEL_ID]="",o=n.get(y,"content_url")||n.get(u,"thumbnail",""),C&&(c[h.COLLECTION]=""),L={imgUrl:o,imgThumbnailUrl:u?u.thumbnail_240:void 0,hideComposition:E.shouldHideFscComposition(u),cropPositionData:{},title:y&&y.title?y.title:"",objLocations:[]},a)L.similarContentId=a,L.isTransparent=!(!y||!y.is_transparent),L.imgSrcWebp=y.thumbnail_url_webp;else if(L.imageToken=A,s.isObjectArrangementUploadEnabled){var N=r&&r.obj_locations?r.obj_locations:[];L.objLocations=N,L.isObjectArrangementUploadEnabled=!0}I.renderFindSimilarControlsPanel(L)}else l.find("input[name=load_type]").val("visual"),t(".js-clear-before-visual-search").val("");e.forEach(function(e){var n=e.name,a=e.value,i=t("input[name="+n+"]");i.length||(i=t("<input />",{type:"hidden",name:le(n)}),l.append(i)),i.val(a),s.isUsingAjax&&(c[le(e.name)]=e.value)}),s.isUsingAjax&&!E.isInLicenseHistoryContext(window.location.pathname)?(i||E.shouldRemoveFSCTile()?(p.multiImageAdd(a,u,c)(M.dispatch,M.getState),E.isFSCIncompatible3DSet()?E.showIncompatible3DAssetAlert(h.ALERT_ACTION_SEARCH_IMAGES):E.isFSCIncompatibleTemplateSet()&&E.showIncompatibleTemplatesAssetAlert(h.ALERT_ACTION_SEARCH_IMAGES)):E.performActionAndSearch(p.multiImageAdd(a,u,c),!1,{search_page:1,search_type:R}),W?I.hideVisualSearchModal():ne(0,0),E.getSimilarContentId()||O.attr("data-state","shown"),g.logSimilarAnalyticsDunamis(R)):(g.logSimilarAnalyticsDunamis(R),t(".js-search-type").val(R),m.getValue()===f.AUDIO&&m.updateSearchFormAction(f.IMAGES),l.trigger("submit")),!s.is_mobile&&v&&E.showIncompatibleFiltersAlert()}}function Z(e){var n,a=e.files,i=e.getData&&e.getData("text"),o=s.is_mobile;if(i){if(!(i.length>q&&i.substring(0,q)===B))return void y.setVisualSearchErrorText(r.gettext("SEARCH::VISUALSEARCH::Could not process the dropped image. To use visual search please drop one of the search results or an image from your computer."));((n=i.substring(q)).toLowerCase().indexOf("http")>=0||n.length>15)&&(n="")}if(n&&E.idExistsInSimilarContent(n))y.setVisualSearchErrorText(r.gettext("SEARCH::VISUALSEARCH::You're already searching with that image."));else if(R.attr("data-state","shown"),N.attr("data-state","hidden"),n){if(y._isUnsupportedFileType(n))return void y.setVisualSearchErrorText(r.gettext("SEARCH::VISUALSEARCH::Unsupported File Type - please upload a .jpeg or .png."));var l=t(".js-search-text-input").val(),c=[{name:"similar_content_id",value:n},{name:"prevk",value:l},{name:"k",value:l}];o||c.push({name:"find_similar_by",value:"all"}),y.submitVisualSearch(c,n)}else a.length>0?y.downsampleAndFixOrientationImage(a[0],!0):y.setVisualSearchErrorText(r.gettext("SEARCH::VISUALSEARCH::We are unable to process the dropped image."))}function X(e){var t=new FormData;t.append("image",e),i.ajax({url:s.base_url+"/visualsearchsupport",timeout:12e4,type:"POST",data:t,dataType:"json",cache:!1,contentType:!1,processData:!1}).then(J).fail(function(e){ae(r.gettext("SEARCH::VISUALSEARCH::There was a problem with your upload. Please try again."))})}function $(e){if(!e)return null;var n=[{name:"native_visual_search",value:e},{name:"k",value:t(".js-search-text-input").val()}];return s.isUsingAjax||(n.push(oe(h.IMAGE,"1")),n.push(oe(h.PHOTO,"1"))),n}function J(e){var t=e.native_visual_search,n=v.getFSCImageFromLocalStorage();n&&(n.native_visual_search=t,v.addFSCImageToLocalStorage(n),s.isMultiImageFSCEnabled&&v.addImageToFscGroupInLocalStorage(n));var a=$(t);y.submitVisualSearch(a,null,null,e)}function ee(e){var t,n=e.split(",");t=n[0].indexOf("base64")>=0?atob(n[1]):decodeURI(n[1]);for(var a=n[0].split(":")[1].split(";")[0],i=new Uint8Array(t.length),s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return new Blob([i],{type:a})}function te(a,i){var s=document.createElement("img"),o=new FileReader,l=-1;o.onload=function(o){s.onerror=function(e){ae(r.gettext("SEARCH::VISUALSEARCH::Unsupported File Type - please upload a .jpeg or .png."))},s.onload=function(o){s.style.display="none",t(document.body).append(s);var c,d,_,h,f,E,m,g=s.naturalWidth,T=s.naturalHeight,b=0,I=0,S=0,A=0,O=0,y=M.getState();if(Math.max(g,T)>x)throw ae(e.sprintf(r.gettext("SEARCH::VISUALSEARCH::Please use an image which is less than %spx on its longest side."),u.helpers.number(x))),new Error("Image dropped is too large for visual search.");if(c=g/T,g>T?g>F&&(b=F,I=F/c):T>F&&(b=F*c,I=F),0===b&&0===I&&(b=g,I=T),b>0&&I>0){switch(_=(d=document.createElement("canvas")).getContext("2d"),l){case 5:case 6:O=90,A=-1*I;break;case 3:case 4:O=180,S=-1*b,A=-1*I;break;case 7:case 8:O=270,S=-1*b}0===O||180===O?(d.width=b,d.height=I):(d.width=I,d.height=b),[2,4,5,7].indexOf(l)>-1&&(_.translate(I,0),_.scale(-1,1)),O>0&&_.rotate(O*Math.PI/180),_.drawImage(s,S,A,b,I),h=d.toDataURL("image/jpeg"),E=n.get(y,"page.filter_asset_type",null),m=n.get(y,"filters.filters",{}),M.dispatch(p.multiImageUpload(h,m,E)),a=ee(h)}i&&(f={native_visual_search:null,dataUri:h},v.addFSCImageToLocalStorage(f),X(a))},l=function(e){var t,n,a,i=new DataView(e),s=0,r=i.byteLength,o=2;if(i.getUint16(0,!1)!==U)return-2;for(;o<r;)if(s=i.getUint16(o,!1),o+=2,s===H){if(i.getUint32(o+=2,!1)!==j)return-1;for(t=i.getUint16(o+=6,!1)===Y,o+=i.getUint32(o+4,t),n=i.getUint16(o,t),o+=2,a=0;a<n;a++)if(i.getUint16(o+12*a,t)===V)return i.getUint16(o+12*a+8,t)}else{if((s&G)!==G)break;o+=i.getUint16(o,!1)}}(function(e){var t,n,a,i,s=e.split(",");for(n=(t=s[0].indexOf("base64")>=0?atob(s[1]):decodeURI(s[1])).length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=t.charCodeAt(i);return a.buffer}(o.target.result)),s.src=o.target.result},o.readAsDataURL(a)}function ne(e,t){"shown"===C.attr("data-state")&&(R.attr("data-state","hidden"),N.attr("data-state","hidden"),L.text(""),C.attr("data-state","hidden"),"number"==typeof e&&"number"==typeof t&&window.scrollTo(e,t))}function ae(e){L.text(e),R.attr("data-state","hidden"),N.attr("data-state","show")}function ie(){W?z():"hidden"===C.attr("data-state")&&(R.attr("data-state","hidden"),N.attr("data-state","show"),L.text(""),C.attr("data-state","shown"),window.scrollTo(0,0),K=document.activeElement,setTimeout(function(){D.focus()},0))}function se(e){var t=E.getSelectedContentData(e);return!(t&&t.is_similarity_search_allowed&&!t.is_3D&&!t.is_template)}function re(e){var t,a,i,s,r,o=v.getFSCImageFromLocalStorage(),l=n.get(e,"filters.native_visual_search","");o&&l&&(i=o.dataUri)&&o.native_visual_search&&l===o.native_visual_search&&(s=n.get(e,"page.filter_asset_type",null),r=n.get(e,"filters.filters",{}),M.dispatch(p.multiImageUpload(i,r,s)),a=y.dataURItoBlob(i),y.downsampleAndFixOrientationImage(a,!1),t=y.initializeVisualUploadData(l),y.submitVisualSearch(t,!1,!0))}function oe(e,t){return{name:"filters\\[content_type\\:"+e+"\\]",value:t}}function le(e){return e?e.replace(/[\\]/g,""):e}function ce(e){"hidden"!==C.attr("data-state")&&(e.keyCode===S.ESC_KEY&&(C.attr("data-state","hidden"),K.focus()),b.keyboardTabbingHandler(e,D,P))}return t(document).ready(function(){y={handleVisualSearchSupport:J,processDroppedFiles:Z,submitVisualSearch:Q,setVisualSearchErrorText:ae,CONTENT_ID_MARKER:B,dataURItoBlob:ee,sendFileToRedPill:X,uploadSavedFSCImage:re,downsampleAndFixOrientationImage:te,initializeVisualUploadData:$,_isUnsupportedFileType:se,showVisualSearchModal:z,keyboardNavigationHandler:ce,focusedElementBeforeModalOpened:K},D=document.querySelector(".js-visualsearch-alert-close"),P=document.getElementById("js-vsupload-link"),t(document).keydown(ce);var e=!1,n=0,a=0,i=!1,r=!1;O=t(".js-search-visual-badge"),C=t("#js-visual-search-popover"),R=t("#js-visual-search-in-progress"),L=t("#js-vs-error"),N=t("#js-visual-search-drop-zone"),w&&(re(M.getState()),C.on("drop",function(t){e=!0,Z(t.originalEvent.dataTransfer)}),t("#js-visual-search-popover-menu").on("click",function(e){e.stopPropagation(),e.preventDefault()}),t(window).on("portal:processDroppedFiles",function(e,t){Z(t)}),t(window).on("portal:submitVisualSearch",function(e,t,n,a){Q(t,n,a)}),t(document).on("dragstart","#search-results, .js-tab-enterprise-report, .js-library-detail-image",function(e){var i;i=e.target.attributes["data-content-id"]?e.target:e.target.parentElement,r=!0,n=window.scrollX||window.pageXOffset,a=window.scrollY||window.pageYOffset,t(i).attr("data-content-id")&&e.originalEvent.dataTransfer.setData("text",B+t(i).attr("data-content-id"))}).on("dragend",function(t){e&&!i||W||ne(n,a),i=!1,r=!1}),t(document).on("dragenter",function(e){ie()}).on("dragover drop",function(e){e.stopPropagation(),e.preventDefault()}).on("click",function(e){t(e.target).closest("#panel")||W||C.attr("data-state","hidden")}).on("mouseleave",function(e){r&&(i=!0)}),t(window).on("portal:findSimilarNullStateBoxClicked",function(){ie()}),t(".js-camera-icon").on("click",function(e){e.stopPropagation(),e.preventDefault(),ie()}),t(".js-search-text-input").on("drop",function(e){e.stopPropagation(),e.preventDefault(),Z(e.originalEvent.dataTransfer)})),t(".js-visualsearch-alert-close").on("click",function(e){e.stopPropagation(),e.preventDefault(),C.attr("data-state","hidden"),K.focus()}).on("keydown",function(e){e.keyCode!==S.ENTER_KEY&&e.keyCode!==S.SPACE_KEY||(e.stopPropagation(),e.preventDefault(),setTimeout(function(){C.attr("data-state","hidden"),K.focus()},0))}),t(".js-search-visual-close").on("click",function(){var e={};t(".js-clear-after-visual-search").val(""),O.attr("data-state","hidden"),s.isUsingAjax&&(e=g.resetFindSimilarFilters(e),E.performActionAndSearch(d.updateSearchFilters(e)),I.onlyClearFindSimilarControls())}),t(".js-vsupload-link").on("click",function(e){e.stopPropagation(),e.preventDefault(),t("#js-vsupload:hidden").trigger("click")}),t(".js-vsupload-link").on("keydown",function(e){e.keyCode!==S.ENTER_KEY&&e.keyCode!==S.SPACE_KEY||(e.stopPropagation(),e.preventDefault(),t("#js-vsupload:hidden").trigger("click"))}),t(".js-vsupload").on("change",function(e){e.stopPropagation(),e.preventDefault(),Z(e.currentTarget)}).on("click",function(e){e.stopPropagation(),this.value=""})}),y}),define("lib/promoBanner",["page_config","lib/member","lib/utils","lib/window","lib/modal-window","lib/promoBannerManager","lib/analytics/promoBanner","app/constants/analytics","lib/analytics","app/stock-portal","lib/ajax"],function(e,t,n,a,i,s,r,o,l,c,u){"use strict";var d,p,_;function h(s){var u=s.currentTarget.dataset,d=u.assetType,p=u.productKey,h=u.handler;s.currentTarget.href;if(_=u.qcStartSearch||!1,{start_search:_,finding_method:l.determineFindingMethod(),selection_method:o.SELECTION_DIRECT},h)switch(n.preventDefaultHandler(s),h){case"credit-pack":!function(n,s){t&&t.isTeam()?i.showSwitchToPersonalMessage().then(function(){a.setLocation(e.base_url+"/Member/SwitchPersonal")}):c.startCheckout({productKey:s,extras:{options:{start_search:_},credit_pack_asset_type:n}});r.sendBlueBannerAnalytics("creditbanner",s,null,"blue-banner-buy-now")}(d,p);break;case"free-banner":E(p),r.sendBlueBannerAnalytics("freebanner",p,null,"blue-banner-buy-now");break;case"first-month-free":E(p),r.sendBlueBannerAnalytics("firstmonthfree",p,null,o.BLUE_BANNER_START_NOW);break;case"video-subscription":f(d,p,!1);break;case"video-subscription-upgrade":f(d,p,!0);break;case"cce-pro":c.openWelcomeScreenModal("cce_pro"),r.sendBlueBannerAnalytics(null,p,null,"blue-banner-cce-pro");break;case"cct-pro":c.openWelcomeScreenModal("cct_pro"),r.sendBlueBannerAnalytics(null,p,null,"blue-banner-cct-pro")}}function f(e,t,n){c.startCheckout({productKey:t,extras:{options:{start_search:_},credit_pack_asset_type:e,is_ind_universal_plan_upgrade:n}}),r.sendBlueBannerAnalytics("videosubscriptionbanner",t,null,"blue-banner-buy-now")}function E(e){c.startCheckout({productKey:e,extras:{options:{start_search:_}}})}if(d=document.querySelectorAll(".js-promo-banner-cta"))for(p=0;p<d.length;p++)d[p].addEventListener("click",h);s.updateUI()}),define("components/plansPage/analyticsPlansService",["app/constants/analytics","lib/analytics","lib/analytics/dunamis"],function(e,t,n){"use strict";return{setAnalyticsForBuyButton:function(e){var t={},a=n.constants,i=a.STOCK_PLANS_PAGE_BUY_BUTTON,s=a.STOCK_PLANS_PAGE;document.body.dataset.ingestSubcategory===a.STOCK_TEAMS_PAGE&&(i=a.STOCK_TEAMS_PAGE_BUY_BUTTON,s=document.body.dataset.ingestSubcategory),t[a.EVENT_WORKFLOW_PROPERTY]=a.STOCK_CHECKOUT,t[a.EVENT_SUBCATEGORY_PROPERTY]=s,t[a.PROPERTIES.CHECKOUT.SELECTED_PURCHASE_OPTION]=e,n.track(a.CLICK,i,t)}}}),require(["page_config","lib/member","lib/window","lib/modal-window","lib/utils","components/plansPage/analyticsPlansService","app/constants/analytics","lib/analytics","app/stock-portal"],function(e,t,n,a,i,s,r,o,l){"use strict";var c=".js-plans-page-credit-packs ",u=c+".js-list-item",d=c+".js-select-list-item-btn",p=u+'[data-active="true"]',_="active",h="data-active",f="plans-checkout-loading-",E=".js-plans-page-cta",m="cp-checkout-loading";function g(e){e.stopPropagation(),e.preventDefault(),i.removeClass(document.querySelector(p),_),i.updateAttribute(document.querySelector(p),h,!1),i.updateAttribute(e.currentTarget,h,!0),i.addClass(e.currentTarget,_)}function T(e){var t=document.querySelector(p);S(function(){return v(e,t)},e.currentTarget,document.getElementById(m))}function b(e){var t=document.getElementById(f+e.currentTarget.dataset.productKey);S(function(){return v(e,e.currentTarget)},e.currentTarget,t)}function v(i,r){var o,c;return i.stopPropagation(),i.preventDefault(),r&&(c=r.dataset.productArrangementCode,t.isCheckoutEligible(c)?(i.target.innerHTML.trim(),o=r.dataset.productKey?r.dataset.productKey:c,l.startCheckout({productKey:o,paCode:c,extras:{options:{start_search:!0},is_checkout_from_plans_page:!0}}),s.setAnalyticsForBuyButton(o)):a.showSwitchToPersonalMessage().then(function(){n.setLocation(e.base_url+"/Member/SwitchPersonal")})),null}function I(e,t,n){e&&t&&(i.updateAttribute(e,"data-is-hidden",n),i.updateAttribute(t,"data-is-hidden",!n))}function S(e,t,n){var a;I(t,n,!0),(a=e())?a.then(function(){I(t,n,!1)}):I(t,n,!1)}i.bindElementsToListener(document.querySelectorAll(u),"click",g),i.addEventListener(document.querySelector(d),"click",T),i.bindElementsToListener(document.querySelectorAll(E),"click",b)}),define("lib/plansPageV3",function(){}),require(["jquery","page_config","lib/susi","lib/globalnav","lib/member","lib/modal-window","components/motMotModal","components/librariesDropdown","hbs!templates/motMotModal/partials/dpcUsersRetentionMessage","hbs!templates/motMotModal/partials/modalWithHeaderFooterAndButton","lib/analytics","app/utils/dunamis/dunamisBannedCountry","lib/utils","lib/keepAlive","app/observers/globalObservers","components/modalCantBuyTeams","quickerCheckout/adobestock/trackingPixels","app/init","app/stock-portal","lib/featureFlag","lib/autocomplete","lib/footer","lib/searchheader","lib/polyfill","lib/firstMonthFree","lib/notification","lib/visualSearchDragDrop","lib/promoBanner","lib/plansPageV3"],function(e,t,n,a,i,s,r,o,l,c,u,d,p,_,h,f,E,m,g){"use strict";const T="start_checkout";var b,v,I,S,A,O,y;function C(){v.removeEventListener("click",C),d.send("ok",!0)}function R(){var e=p.getQueryParam(T);e&&function(e){i.isAdmin()?g.startCheckout({paCode:e,extras:{options:{start_search:!0}}}):i.isLoggedIn()?f.show({}):n.login(null,null,!0,{})}(e)}e.ajaxPrefilter(function(e,n,a){a.setRequestHeader("X-Request-Id",function(e){var n=t.x_request_id;e.url&&-1!==e.url.toLowerCase().indexOf("/ajax/search")&&(n=n+"-"+Date.now());return n}(e)),p.shouldAddCsrfToken(e)&&a.setRequestHeader(t.csrf_token.id,t.csrf_token.value)}),i.setStockProfile(t.member),n.configure(t.SUSI),a.initGlobalNav(),n.initPage(),_.scheduleProbe(),h.init(),function(){var e=window.newrelic;if(e){var n=i&&i.getGuid(),a=i&&i.getDefaultEntitlementGuid(),s=i&&i.getOmnitureMemberType(),r=t&&t.x_request_id;e.setCustomAttribute("member_guid",n),e.setCustomAttribute("entitlement_guid",a),e.setCustomAttribute("member_account_type",s),e.setCustomAttribute("x_request_id",r)}}(),t.isStorageTokenEnabled&&!i.isLoggedIn()&&i.clearCachedStorageAccessData(),p.getQueryParam(t.SUSI.QS_IMS_SIGNIN_ATTEMPT)?e.when(n.ready,n.onReady).always(R):R(),t.isIMSAuthCodeWorkflowEnabled||n.loadPageIMS(),t.flash_messages&&e.each(t.flash_messages,function(t,n){e.each(n,function(e,n){s.show(t,n),function(e){e&&"banned_country"===e.message_type&&((v=document.getElementById("modal-ok-button")).addEventListener("click",C),d.send("page-view",!1))}(n)})}),t.DPC_USER_RETENTION_DATA&&(b={templateParams:{usingDefault:!1,width:"medium"},partial:l,additionalPartials:{modalWithHeaderFooterAndButton:c},partialProperties:t.DPC_USER_RETENTION_DATA},r.show("usingPartial",b)),t.hide_search_bar||t.static_navbar||(I=document.getElementById("search-toolbar"),S=document.getElementById("search-toolbar-placeholder"),A=document.getElementById("adobe-stock-logo-container"),O=e(".js-slide-in"),y=48,window.addEventListener("scroll",function(){(void 0===window.scrollY?window.pageYOffset:window.scrollY)>y?(I.setAttribute("data-sticky","true"),S.setAttribute("data-is-hidden","false"),O.addClass("fixed"),A.setAttribute("data-is-hidden","false")):(I.setAttribute("data-sticky","false"),S.setAttribute("data-is-hidden","true"),O.removeClass("fixed"),A.setAttribute("data-is-hidden","true"))},!1)),E.fireTrackingPixelsForPageLoad(),e(document).ready(function(){m.initializeStockWebPortalListeners()}),e("body").on("click",".close-too-many-requests-alert",function(){e("#too-many-requests-alert").remove()}),e("body").on("click",".close-informative-maintenance-alert",function(){e("#informative-maintenance-alert").remove()})}),define("adobestock",function(){});