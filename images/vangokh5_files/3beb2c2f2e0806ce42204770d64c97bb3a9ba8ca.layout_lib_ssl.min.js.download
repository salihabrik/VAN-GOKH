-1!==window.location.hash.indexOf("access_token")&&(window.location.hash=window.location.hash.replace(/access_token[^&]*&?/,"")),window.NREUM||(NREUM={}),NREUM.init={privacy:{cookies_enabled:!1}},window.NREUM||(NREUM={}),__nr_require=function(t,e,n){function i(n){if(!e[n]){var r=e[n]={exports:{}};t[n][0].call(r.exports,function(e){return i(t[n][1][e]||e)},r,r.exports)}return e[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var r=0;r<n.length;r++)i(n[r]);return i}({1:[function(t,e,n){function i(t){try{s.console}catch(t){}}var r,o=t("ee"),a=t(26),s={};try{r=localStorage.getItem("__nr_flags").split(","),console&&"function"==typeof console.log&&(s.console=!0,-1!==r.indexOf("dev")&&(s.dev=!0),-1!==r.indexOf("nr_dev")&&(s.nrDev=!0))}catch(t){}s.nrDev&&o.on("internal-error",function(t){i(t.stack)}),s.dev&&o.on("fn-err",function(t,e,n){i(n.stack)}),s.dev&&(i(),i(a(s,function(t,e){return t}).join(", ")))},{}],2:[function(t,e,n){function i(t,e,n){this.message=t||"Uncaught error with no additional information",this.sourceURL=e,this.line=n}function r(t,e){var n=e?null:c.now();o("err",[t,n])}var o=t("handle"),a=t(27),s=t("ee"),c=t("loader"),d=t("gos"),u=window.onerror,f=!1,l="nr@seenError",h=0;c.features.err=!0,t(1),window.onerror=function(t,e,n,s,d){try{h?h-=1:r(d||new i(t,e,n),!0)}catch(t){try{o("ierr",[t,c.now(),!0])}catch(t){}}return"function"==typeof u&&u.apply(this,a(arguments))};try{throw new Error}catch(e){"stack"in e&&(t(13),t(12),"addEventListener"in window&&t(6),c.xhrWrappable&&t(14),f=!0)}s.on("fn-start",function(t,e,n){f&&(h+=1)}),s.on("fn-err",function(t,e,n){f&&!n[l]&&(d(n,l,function(){return!0}),this.thrown=!0,r(n))}),s.on("fn-end",function(){f&&!this.thrown&&h>0&&(h-=1)}),s.on("internal-error",function(t){o("ierr",[t,c.now(),!0])})},{}],3:[function(t,e,n){t("loader").features.ins=!0},{}],4:[function(t,e,n){function i(){P++,T=v.hash,this[u]=y.now()}function r(){P--,v.hash!==T&&o(0,!0);var t=y.now();this[p]=~~this[p]+t-this[u],this[f]=t}function o(t,e){E.emit("newURL",[""+v,e])}function a(t,e){t.on(e,function(){this[e]=y.now()})}var s="-start",c="-end",d="-body",u="fn"+s,f="fn"+c,l="cb"+s,h="cb"+c,p="jsTime",m="fetch",g="addEventListener",w=window,v=w.location,y=t("loader");if(w[g]&&y.xhrWrappable){var b=t(10),x=t(11),E=t(8),_=t(6),R=t(13),C=t(7),M=t(14),O=t(9),L=t("ee"),N=L.get("tracer");t(16),y.features.spa=!0;var T,P=0;L.on(u,i),L.on(l,i),L.on(f,r),L.on(h,r),L.buffer([u,f,"xhr-done","xhr-resolved"]),_.buffer([u]),R.buffer(["setTimeout"+c,"clearTimeout"+s,u]),M.buffer([u,"new-xhr","send-xhr"+s]),C.buffer([m+s,m+"-done",m+d+s,m+d+c]),E.buffer(["newURL"]),b.buffer([u]),x.buffer(["propagate",l,h,"executor-err","resolve"+s]),N.buffer([u,"no-"+u]),O.buffer(["new-jsonp","cb-start","jsonp-error","jsonp-end"]),a(M,"send-xhr"+s),a(L,"xhr-resolved"),a(L,"xhr-done"),a(C,m+s),a(C,m+"-done"),a(O,"new-jsonp"),a(O,"jsonp-end"),a(O,"cb-start"),E.on("pushState-end",o),E.on("replaceState-end",o),w[g]("hashchange",o,!0),w[g]("load",o,!0),w[g]("popstate",function(){o(0,P>1)},!0)}},{}],5:[function(t,e,n){function i(t){}if(window.performance&&window.performance.timing&&window.performance.getEntriesByType){var r=t("ee"),o=t("handle"),a=t(13),s=t(12),c="learResourceTimings",d="addEventListener",u="resourcetimingbufferfull",f="bstResource",l="resource",h="-start",p="-end",m="fn"+h,g="fn"+p,w="bstTimer",v="pushState",y=t("loader");y.features.stn=!0,t(8),"addEventListener"in window&&t(6);var b=NREUM.o.EV;r.on(m,function(t,e){t[0]instanceof b&&(this.bstStart=y.now())}),r.on(g,function(t,e){var n=t[0];n instanceof b&&o("bst",[n,e,this.bstStart,y.now()])}),a.on(m,function(t,e,n){this.bstStart=y.now(),this.bstType=n}),a.on(g,function(t,e){o(w,[e,this.bstStart,y.now(),this.bstType])}),s.on(m,function(){this.bstStart=y.now()}),s.on(g,function(t,e){o(w,[e,this.bstStart,y.now(),"requestAnimationFrame"])}),r.on(v+h,function(t){this.time=y.now(),this.startPath=location.pathname+location.hash}),r.on(v+p,function(t){o("bstHist",[location.pathname+location.hash,this.startPath,this.time])}),d in window.performance&&(window.performance["c"+c]?window.performance[d](u,function(t){o(f,[window.performance.getEntriesByType(l)]),window.performance["c"+c]()},!1):window.performance[d]("webkit"+u,function(t){o(f,[window.performance.getEntriesByType(l)]),window.performance["webkitC"+c]()},!1)),document[d]("scroll",i,{passive:!0}),document[d]("keypress",i,!1),document[d]("click",i,!1)}},{}],6:[function(t,e,n){function i(t){for(var e=t;e&&!e.hasOwnProperty(u);)e=Object.getPrototypeOf(e);e&&r(e)}function r(t){s.inPlace(t,[u,f],"-",o)}function o(t,e){return t[1]}var a=t("ee").get("events"),s=t("wrap-function")(a,!0),c=t("gos"),d=XMLHttpRequest,u="addEventListener",f="removeEventListener";e.exports=a,"getPrototypeOf"in Object?(i(document),i(window),i(d.prototype)):d.prototype.hasOwnProperty(u)&&(r(window),r(d.prototype)),a.on(u+"-start",function(t,e){var n=t[1],i=c(n,"nr@wrapped",function(){var t={object:function(){if("function"==typeof n.handleEvent)return n.handleEvent.apply(n,arguments)},function:n}[typeof n];return t?s(t,"fn-",null,t.name||"anonymous"):n});this.wrapped=t[1]=i}),a.on(f+"-start",function(t){t[1]=this.wrapped||t[1]})},{}],7:[function(t,e,n){function i(t,e,n){var i=t[e];"function"==typeof i&&(t[e]=function(){var t,e=o(arguments),a={};r.emit(n+"before-start",[e],a),a[p]&&a[p].dt&&(t=a[p].dt);var s=i.apply(this,e);return r.emit(n+"start",[e,t],s),s.then(function(t){return r.emit(n+"end",[null,t],s),t},function(t){throw r.emit(n+"end",[t],s),t})})}var r=t("ee").get("fetch"),o=t(27),a=t(26);e.exports=r;var s=window,c="fetch-",d=c+"body-",u=s.Request,f=s.Response,l=s.fetch,h="prototype",p="nr@context";u&&f&&l&&(a(["arrayBuffer","blob","json","text","formData"],function(t,e){i(u[h],e,d),i(f[h],e,d)}),i(s,"fetch",c),r.on(c+"end",function(t,e){var n=this;if(e){var i=e.headers.get("content-length");null!==i&&(n.rxSize=i),r.emit(c+"done",[null,e],n)}else r.emit(c+"done",[t],n)}))},{}],8:[function(t,e,n){var i=t("ee").get("history"),r=t("wrap-function")(i);e.exports=i;var o=window.history&&window.history.constructor&&window.history.constructor.prototype,a=window.history;o&&o.pushState&&o.replaceState&&(a=o),r.inPlace(a,["pushState","replaceState"],"-")},{}],9:[function(t,e,n){function i(t){var e=t.match(c);return e?e[1]:null}function r(t,e){var n=t.match(u),i=n[1],o=n[3];return o?r(o,e[i]):e[i]}function o(t){var e=t.match(d);return e&&e.length>=3?{key:e[2],parent:r(e[1],window)}:{key:t,parent:window}}var a=t("ee").get("jsonp"),s=t("wrap-function")(a);if(e.exports=a,"addEventListener"in window){var c=/[?&](?:callback|cb)=([^&#]+)/,d=/(.*)\.([^.]+)/,u=/^(\w+)(\.|$)(.*)$/,f=["appendChild","insertBefore","replaceChild"];Node&&Node.prototype&&Node.prototype.appendChild?s.inPlace(Node.prototype,f,"dom-"):(s.inPlace(HTMLElement.prototype,f,"dom-"),s.inPlace(HTMLHeadElement.prototype,f,"dom-"),s.inPlace(HTMLBodyElement.prototype,f,"dom-")),a.on("dom-start",function(t){!function(t){function e(){a.emit("jsonp-end",[],d),t.removeEventListener("load",e,!1),t.removeEventListener("error",n,!1)}function n(){a.emit("jsonp-error",[],d),a.emit("jsonp-end",[],d),t.removeEventListener("load",e,!1),t.removeEventListener("error",n,!1)}if(t&&"string"==typeof t.nodeName&&"script"===t.nodeName.toLowerCase()&&"function"==typeof t.addEventListener){var r=i(t.src);if(r){var c=o(r);if("function"==typeof c.parent[c.key]){var d={};s.inPlace(c.parent,[c.key],"cb-",d),t.addEventListener("load",e,!1),t.addEventListener("error",n,!1),a.emit("new-jsonp",[t.src],d)}}}}(t[0])})}},{}],10:[function(t,e,n){var i=t("ee").get("mutation"),r=t("wrap-function")(i),o=NREUM.o.MO;e.exports=i,o&&(window.MutationObserver=function(t){return this instanceof o?new o(r(t,"fn-")):o.apply(this,arguments)},MutationObserver.prototype=o.prototype)},{}],11:[function(t,e,n){function i(t){var e=o.context(),n=a(t,"executor-",e),i=new c(n);return o.context(i).getCtx=function(){return e},o.emit("new-promise",[i,e],e),i}var r=t("wrap-function"),o=t("ee").get("promise"),a=r(o),s=t(26),c=NREUM.o.PR;e.exports=o,c&&(window.Promise=i,["all","race"].forEach(function(t){var e=c[t];c[t]=function(n){function i(t){return function(){o.emit("propagate",[null,!r],a),r=r||!t}}var r=!1;s(n,function(e,n){Promise.resolve(n).then(i("all"===t),i(!1))});var a=e.apply(c,arguments);return c.resolve(a)}}),["resolve","reject"].forEach(function(t){var e=c[t];c[t]=function(t){var n=e.apply(c,arguments);return t!==n&&o.emit("propagate",[t,!0],n),n}}),c.prototype.catch=function(t){return this.then(null,t)},c.prototype=Object.create(c.prototype,{constructor:{value:i}}),s(Object.getOwnPropertyNames(c),function(t,e){try{i[e]=c[e]}catch(t){}}),o.on("executor-start",function(t){t[0]=a(t[0],"resolve-",this),t[1]=a(t[1],"resolve-",this)}),o.on("executor-err",function(t,e,n){t[1](n)}),a.inPlace(c.prototype,["then"],"then-",function(t,e){return e}),o.on("then-start",function(t,e){this.promise=e,t[0]=a(t[0],"cb-",this),t[1]=a(t[1],"cb-",this)}),o.on("then-end",function(t,e,n){this.nextPromise=n;var i=this.promise;o.emit("propagate",[i,!0],n)}),o.on("cb-end",function(t,e,n){o.emit("propagate",[n,!0],this.nextPromise)}),o.on("propagate",function(t,e,n){this.getCtx&&!e||(this.getCtx=function(){if(t instanceof Promise)var e=o.context(t);return e&&e.getCtx?e.getCtx():this})}),i.toString=function(){return""+c})},{}],12:[function(t,e,n){var i=t("ee").get("raf"),r=t("wrap-function")(i),o="equestAnimationFrame";e.exports=i,r.inPlace(window,["r"+o,"mozR"+o,"webkitR"+o,"msR"+o],"raf-"),i.on("raf-start",function(t){t[0]=r(t[0],"fn-")})},{}],13:[function(t,e,n){var i=t("ee").get("timer"),r=t("wrap-function")(i),o="setTimeout",a="setInterval",s="clearTimeout",c="-start";e.exports=i,r.inPlace(window,[o,"setImmediate"],o+"-"),r.inPlace(window,[a],a+"-"),r.inPlace(window,[s,"clearImmediate"],s+"-"),i.on(a+c,function(t,e,n){t[0]=r(t[0],"fn-",null,n)}),i.on(o+c,function(t,e,n){this.method=n,this.timerDuration=isNaN(t[1])?0:+t[1],t[0]=r(t[0],"fn-",this,n)})},{}],14:[function(t,e,n){function i(t,e){d.inPlace(e,["onreadystatechange"],"fn-",a)}function r(){var t=this,e=c.context(t);t.readyState>3&&!e.resolved&&(e.resolved=!0,c.emit("xhr-resolved",[],t)),d.inPlace(t,g,"fn-",a)}function o(){for(var t=0;t<w.length;t++)i(0,w[t]);w.length&&(w=[])}function a(t,e){return e}t(6);var s=t("ee"),c=s.get("xhr"),d=t("wrap-function")(c),u=NREUM.o,f=u.XHR,l=u.MO,h=u.PR,p=u.SI,m="readystatechange",g=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"],w=[];e.exports=c;var v=window.XMLHttpRequest=function(t){var e=new f(t);try{c.emit("new-xhr",[e],e),e.addEventListener(m,r,!1)}catch(t){try{c.emit("internal-error",[t])}catch(t){}}return e};if(function(t,e){for(var n in t)e[n]=t[n]}(f,v),v.prototype=f.prototype,d.inPlace(v.prototype,["open","send"],"-xhr-",a),c.on("send-xhr-start",function(t,e){i(0,e),function(t){w.push(t),l&&(y?y.then(o):p?p(o):(b=-b,x.data=b))}(e)}),c.on("open-xhr-start",i),l){var y=h&&h.resolve();if(!p&&!h){var b=1,x=document.createTextNode(b);new l(o).observe(x,{characterData:!0})}}else s.on("fn-end",function(t){t[0]&&t[0].type===m||o()})},{}],15:[function(t,e,n){function i(t){return"init"in NREUM&&"distributed_tracing"in NREUM.init&&!!NREUM.init.distributed_tracing.enabled&&r(t)}function r(t){var e=!1,n={};if("init"in NREUM&&"distributed_tracing"in NREUM.init&&(n=NREUM.init.distributed_tracing),t.sameOrigin)e=!0;else if(n.allowed_origins instanceof Array)for(var i=0;i<n.allowed_origins.length;i++){var r=a(n.allowed_origins[i]);if(t.hostname===r.hostname&&t.protocol===r.protocol&&t.port===r.port){e=!0;break}}return e}var o=t(23),a=t(17);e.exports={generateTracePayload:function(t){if(!i(t))return null;var e=window.NREUM;if(!e.loader_config)return null;var n=(e.loader_config.accountID||"").toString()||null,a=(e.loader_config.agentID||"").toString()||null,s=(e.loader_config.trustKey||"").toString()||null;if(!n||!a)return null;var c=o.generateSpanId(),d=o.generateTraceId(),u=Date.now(),f={spanId:c,traceId:d,timestamp:u};return(t.sameOrigin||r(t)&&"init"in NREUM&&"distributed_tracing"in NREUM.init&&!!NREUM.init.distributed_tracing.cors_use_tracecontext_headers)&&(f.traceContextParentHeader=function(t,e){return"00-"+e+"-"+t+"-01"}(c,d),f.traceContextStateHeader=function(t,e,n,i,r){var o=0,a="",s=1,c="",d="";return r+"@nr="+o+"-"+s+"-"+n+"-"+i+"-"+t+"-"+a+"-"+c+"-"+d+"-"+e}(c,u,n,a,s)),(t.sameOrigin&&!("init"in NREUM&&"distributed_tracing"in NREUM.init&&NREUM.init.distributed_tracing.exclude_newrelic_header)||!t.sameOrigin&&r(t)&&"init"in NREUM&&"distributed_tracing"in NREUM.init&&!1!==NREUM.init.distributed_tracing.cors_use_newrelic_header)&&(f.newrelicHeader=function(t,e,n,i,r,o){var a="btoa"in window&&"function"==typeof window.btoa;if(!a)return null;var s={v:[0,1],d:{ty:"Browser",ac:i,ap:r,id:t,tr:e,ti:n}};return o&&i!==o&&(s.d.tk=o),btoa(JSON.stringify(s))}(c,d,u,n,a,s)),f},shouldGenerateTrace:i}},{}],16:[function(t,e,n){function i(t){var e=this.params,n=this.metrics;if(!this.ended){this.ended=!0;for(var i=0;i<f;i++)t.removeEventListener(u[i],this.listener,!1);e.aborted||(n.duration=o.now()-this.startTime,this.loadCaptureCalled||4!==t.readyState?null==e.status&&(e.status=0):r(this,t),n.cbTime=this.cbTime,d.emit("xhr-done",[t],t),a("xhr",[e,n,this.startTime]))}}function r(t,e){t.params.status=e.status;var n=m(e,t.lastSize);if(n&&(t.metrics.rxSize=n),t.sameOrigin){var i=e.getResponseHeader("X-NewRelic-App-Data");i&&(t.params.cat=i.split(", ").pop())}t.loadCaptureCalled=!0}var o=t("loader");if(o.xhrWrappable){var a=t("handle"),s=t(17),c=t(15).generateTracePayload,d=t("ee"),u=["load","error","abort","timeout"],f=u.length,l=t("id"),h=t(21),p=t(20),m=t(18),g=window.XMLHttpRequest;o.features.xhr=!0,t(14),t(7),d.on("new-xhr",function(t){var e=this;e.totalCbs=0,e.called=0,e.cbTime=0,e.end=i,e.ended=!1,e.xhrGuids={},e.lastSize=null,e.loadCaptureCalled=!1,t.addEventListener("load",function(n){r(e,t)},!1),h&&(h>34||h<10)||window.opera||t.addEventListener("progress",function(t){e.lastSize=t.loaded},!1)}),d.on("open-xhr-start",function(t){this.params={method:t[0]},function(t,e){var n=s(e),i=t.params;i.host=n.hostname+":"+n.port,i.pathname=n.pathname,t.parsedOrigin=s(e),t.sameOrigin=t.parsedOrigin.sameOrigin}(this,t[1]),this.metrics={}}),d.on("open-xhr-end",function(t,e){"loader_config"in NREUM&&"xpid"in NREUM.loader_config&&this.sameOrigin&&e.setRequestHeader("X-NewRelic-ID",NREUM.loader_config.xpid);var n=c(this.parsedOrigin);if(n){var i=!1;n.newrelicHeader&&(e.setRequestHeader("newrelic",n.newrelicHeader),i=!0),n.traceContextParentHeader&&(e.setRequestHeader("traceparent",n.traceContextParentHeader),n.traceContextStateHeader&&e.setRequestHeader("tracestate",n.traceContextStateHeader),i=!0),i&&(this.dt=n)}}),d.on("send-xhr-start",function(t,e){var n=this.metrics,i=t[0],r=this;if(n&&i){var a=p(i);a&&(n.txSize=a)}this.startTime=o.now(),this.listener=function(t){try{"abort"!==t.type||r.loadCaptureCalled||(r.params.aborted=!0),("load"!==t.type||r.called===r.totalCbs&&(r.onloadCalled||"function"!=typeof e.onload))&&r.end(e)}catch(t){try{d.emit("internal-error",[t])}catch(t){}}};for(var s=0;s<f;s++)e.addEventListener(u[s],this.listener,!1)}),d.on("xhr-cb-time",function(t,e,n){this.cbTime+=t,e?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof n.onload||this.end(n)}),d.on("xhr-load-added",function(t,e){var n=""+l(t)+!!e;this.xhrGuids&&!this.xhrGuids[n]&&(this.xhrGuids[n]=!0,this.totalCbs+=1)}),d.on("xhr-load-removed",function(t,e){var n=""+l(t)+!!e;this.xhrGuids&&this.xhrGuids[n]&&(delete this.xhrGuids[n],this.totalCbs-=1)}),d.on("addEventListener-end",function(t,e){e instanceof g&&"load"===t[0]&&d.emit("xhr-load-added",[t[1],t[2]],e)}),d.on("removeEventListener-end",function(t,e){e instanceof g&&"load"===t[0]&&d.emit("xhr-load-removed",[t[1],t[2]],e)}),d.on("fn-start",function(t,e,n){e instanceof g&&("onload"===n&&(this.onload=!0),("load"===(t[0]&&t[0].type)||this.onload)&&(this.xhrCbStart=o.now()))}),d.on("fn-end",function(t,e){this.xhrCbStart&&d.emit("xhr-cb-time",[o.now()-this.xhrCbStart,this.onload,e],e)}),d.on("fetch-before-start",function(t){function e(t,e){var n=!1;return e.newrelicHeader&&(t.set("newrelic",e.newrelicHeader),n=!0),e.traceContextParentHeader&&(t.set("traceparent",e.traceContextParentHeader),e.traceContextStateHeader&&t.set("tracestate",e.traceContextStateHeader),n=!0),n}var n,i=t[1]||{};"string"==typeof t[0]?n=t[0]:t[0]&&t[0].url&&(n=t[0].url),n&&(this.parsedOrigin=s(n),this.sameOrigin=this.parsedOrigin.sameOrigin);var r=c(this.parsedOrigin);if(r&&(r.newrelicHeader||r.traceContextParentHeader))if("string"==typeof t[0]){var o={};for(var a in i)o[a]=i[a];o.headers=new Headers(i.headers||{}),e(o.headers,r)&&(this.dt=r),t.length>1?t[1]=o:t.push(o)}else t[0]&&t[0].headers&&e(t[0].headers,r)&&(this.dt=r)})}},{}],17:[function(t,e,n){var i={};e.exports=function(t){if(t in i)return i[t];var e=document.createElement("a"),n=window.location,r={};e.href=t,r.port=e.port;var o=e.href.split("://");!r.port&&o[1]&&(r.port=o[1].split("/")[0].split("@").pop().split(":")[1]),r.port&&"0"!==r.port||(r.port="https"===o[0]?"443":"80"),r.hostname=e.hostname||n.hostname,r.pathname=e.pathname,r.protocol=o[0],"/"!==r.pathname.charAt(0)&&(r.pathname="/"+r.pathname);var a=!e.protocol||":"===e.protocol||e.protocol===n.protocol,s=e.hostname===document.domain&&e.port===n.port;return r.sameOrigin=a&&(!e.hostname||s),"/"===r.pathname&&(i[t]=r),r}},{}],18:[function(t,e,n){var i=t(20);e.exports=function(t,e){var n=t.responseType;return"json"===n&&null!==e?e:"arraybuffer"===n||"blob"===n||"json"===n?i(t.response):"text"===n||""===n||void 0===n?i(t.responseText):void 0}},{}],19:[function(t,e,n){function i(){}function r(t,e,n){return function(){return o(t,[d.now()].concat(s(arguments)),e?null:this,n),e?void 0:this}}var o=t("handle"),a=t(26),s=t(27),c=t("ee").get("tracer"),d=t("loader"),u=NREUM;void 0===window.newrelic&&(newrelic=u);var f="api-",l=f+"ixn-";a(["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],function(t,e){u[e]=r(f+e,!0,"api")}),u.addPageAction=r(f+"addPageAction",!0),u.setCurrentRouteName=r(f+"routeName",!0),e.exports=newrelic,u.interaction=function(){return(new i).get()};var h=i.prototype={createTracer:function(t,e){var n={},i=this,r="function"==typeof e;return o(l+"tracer",[d.now(),t,n],i),function(){if(c.emit((r?"":"no-")+"fn-start",[d.now(),i,r],n),r)try{return e.apply(this,arguments)}catch(t){throw c.emit("fn-err",[arguments,this,t],n),t}finally{c.emit("fn-end",[d.now()],n)}}}};a("actionText,setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(t,e){h[e]=r(l+e)}),newrelic.noticeError=function(t,e){"string"==typeof t&&(t=new Error(t)),o("err",[t,d.now(),!1,e])}},{}],20:[function(t,e,n){e.exports=function(t){if("string"==typeof t&&t.length)return t.length;if("object"==typeof t){if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer&&t.byteLength)return t.byteLength;if("undefined"!=typeof Blob&&t instanceof Blob&&t.size)return t.size;if(!("undefined"!=typeof FormData&&t instanceof FormData))try{return JSON.stringify(t).length}catch(t){return}}}},{}],21:[function(t,e,n){var i=0,r=navigator.userAgent.match(/Firefox[\/\s](\d+\.\d+)/);r&&(i=+r[1]),e.exports=i},{}],22:[function(t,e,n){function i(t){if(t instanceof u&&!f){var e=Math.round(t.timeStamp),n={type:t.type};e<=c.now()?n.fid=c.now()-e:e>c.offset&&e<=Date.now()?(e-=c.offset,n.fid=c.now()-e):e=c.now(),f=!0,s("timing",["fi",e,n])}}if(!("init"in NREUM&&"page_view_timing"in NREUM.init&&"enabled"in NREUM.init.page_view_timing&&!1===NREUM.init.page_view_timing.enabled)){var r,o,a,s=t("handle"),c=t("loader"),d=t(25),u=NREUM.o.EV;if("PerformanceObserver"in window&&"function"==typeof window.PerformanceObserver){r=new PerformanceObserver(function(t,e){t.getEntries().forEach(function(t){"first-paint"===t.name?s("timing",["fp",Math.floor(t.startTime)]):"first-contentful-paint"===t.name&&s("timing",["fcp",Math.floor(t.startTime)])})});try{r.observe({entryTypes:["paint"]})}catch(t){}o=new PerformanceObserver(function(t,e){var n=t.getEntries();n.length>0&&s("lcp",[n[n.length-1]])});try{o.observe({entryTypes:["largest-contentful-paint"]})}catch(t){}a=new PerformanceObserver(function(t){t.getEntries().forEach(function(t){t.hadRecentInput||s("cls",[t])})});try{a.observe({type:"layout-shift",buffered:!0})}catch(t){}}if("addEventListener"in document){var f=!1;["click","keydown","mousedown","pointerdown","touchstart"].forEach(function(t){document.addEventListener(t,i,!1)})}d(function(t){s("pageHide",[c.now(),t])})}},{}],23:[function(t,e,n){function i(t){var e=null,n=0,i=window.crypto||window.msCrypto;i&&i.getRandomValues&&Uint8Array&&(e=i.getRandomValues(new Uint8Array(31)));for(var r=[],o=0;o<t;o++)r.push((e?15&e[n++]:16*Math.random()|0).toString(16));return r.join("")}e.exports={generateUuid:function(){function t(){return e?15&e[n++]:16*Math.random()|0}var e=null,n=0,i=window.crypto||window.msCrypto;i&&i.getRandomValues&&(e=i.getRandomValues(new Uint8Array(31)));for(var r,o="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",a="",s=0;s<o.length;s++)"x"===(r=o[s])?a+=t().toString(16):"y"===r?a+=(r=3&t()|8).toString(16):a+=r;return a},generateSpanId:function(){return i(16)},generateTraceId:function(){return i(32)}}},{}],24:[function(t,e,n){var i=null,r=null;if(navigator.userAgent){var o=navigator.userAgent,a=o.match(/Version\/(\S+)\s+Safari/);a&&-1===o.indexOf("Chrome")&&-1===o.indexOf("Chromium")&&(i="Safari",r=a[1])}e.exports={agent:i,version:r,match:function(t,e){if(!i)return!1;if(t!==i)return!1;if(!e)return!0;if(!r)return!1;for(var n=r.split("."),o=e.split("."),a=0;a<o.length;a++)if(o[a]!==n[a])return!1;return!0}}},{}],25:[function(t,e,n){var i,r,o;e.exports=function(t){"addEventListener"in document&&r&&document.addEventListener(r,function(){t(o&&document[o]?document[o]:document[i]?"hidden":"visible")},!1)},void 0!==document.hidden?(i="hidden",r="visibilitychange",o="visibilityState"):void 0!==document.msHidden?(i="msHidden",r="msvisibilitychange"):void 0!==document.webkitHidden&&(i="webkitHidden",r="webkitvisibilitychange",o="webkitVisibilityState")},{}],26:[function(t,e,n){var i=Object.prototype.hasOwnProperty;e.exports=function(t,e){var n=[],r="",o=0;for(r in t)i.call(t,r)&&(n[o]=e(r,t[r]),o+=1);return n}},{}],27:[function(t,e,n){e.exports=function(t,e,n){e||(e=0),void 0===n&&(n=t?t.length:0);for(var i=-1,r=n-e||0,o=Array(r<0?0:r);++i<r;)o[i]=t[e+i];return o}},{}],28:[function(t,e,n){e.exports={exists:void 0!==window.performance&&window.performance.timing&&void 0!==window.performance.timing.navigationStart}},{}],ee:[function(t,e,n){function i(){}function r(){return new i}function o(){(d.api||d.feature)&&(f.aborted=!0,d=f.backlog={})}var a="nr@context",s=t("gos"),c=t(26),d={},u={},f=e.exports=function t(e){function n(t){return t&&t instanceof i?t:t?s(t,a,r):r()}function l(t,i,r,o){if(!f.aborted||o){e&&e(t,i,r);for(var a=n(r),s=p(t),c=s.length,u=0;u<c;u++)s[u].apply(a,i);var l=d[g[t]];return l&&l.push([w,t,i,a]),a}}function h(t,e){m[t]=p(t).concat(e)}function p(t){return m[t]||[]}var m={},g={},w={on:h,addEventListener:h,removeEventListener:function(t,e){var n=m[t];if(n)for(var i=0;i<n.length;i++)n[i]===e&&n.splice(i,1)},emit:l,get:function(e){return u[e]=u[e]||t(l)},listeners:p,context:n,buffer:function(t,e){c(t,function(t,n){e=e||"feature",g[n]=e,e in d||(d[e]=[])})},abort:o,aborted:!1};return w}();f.backlog=d},{}],gos:[function(t,e,n){var i=Object.prototype.hasOwnProperty;e.exports=function(t,e,n){if(i.call(t,e))return t[e];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!1}),r}catch(t){}return t[e]=r,r}},{}],handle:[function(t,e,n){function i(t,e,n,i){r.buffer([t],i),r.emit(t,e,n)}var r=t("ee").get("handle");e.exports=i,i.ee=r},{}],id:[function(t,e,n){var i=1,r="nr@id",o=t("gos");e.exports=function(t){var e=typeof t;return!t||"object"!==e&&"function"!==e?-1:t===window?0:o(t,r,function(){return i++})}},{}],loader:[function(t,e,n){function i(){if(!x++){var t=b.info=NREUM.info,e=l.getElementsByTagName("script")[0];if(setTimeout(d.abort,3e4),!(t&&t.licenseKey&&t.applicationID&&e))return d.abort();c(v,function(e,n){t[e]||(t[e]=n)});var n=o();s("mark",["onload",n+b.offset],null,"api"),s("timing",["load",n]);var i=l.createElement("script");i.src="https://"+t.agent,e.parentNode.insertBefore(i,e)}}function r(){s("mark",["domContent",o()+b.offset],null,"api")}function o(){return E.exists&&performance.now?Math.round(performance.now()):(a=Math.max((new Date).getTime(),a))-b.offset}var a=(new Date).getTime(),s=t("handle"),c=t(26),d=t("ee"),u=t(24),f=window,l=f.document,h="addEventListener",p="attachEvent",m=f.XMLHttpRequest,g=m&&m.prototype;NREUM.o={ST:setTimeout,SI:f.setImmediate,CT:clearTimeout,XHR:m,REQ:f.Request,EV:f.Event,PR:f.Promise,MO:f.MutationObserver};var w=""+location,v={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-spa-1177.min.js"},y=m&&g&&g[h]&&!/CriOS/.test(navigator.userAgent),b=e.exports={offset:a,now:o,origin:w,features:{},xhrWrappable:y,userAgent:u};t(19),t(22),l[h]?(l[h]("DOMContentLoaded",r,!1),f[h]("load",i,!1)):(l[p]("onreadystatechange",function(){"complete"===l.readyState&&r()}),f[p]("onload",i)),s("mark",["firstbyte",a],null,"api");var x=0,E=t(28)},{}],"wrap-function":[function(t,e,n){function i(t){return!(t&&t instanceof Function&&t.apply&&!t[a])}var r=t("ee"),o=t(27),a="nr@original",s=Object.prototype.hasOwnProperty,c=!1;e.exports=function(t,e){function n(t,e,n,r){function c(){var i,a,s,c;try{a=this,i=o(arguments),s="function"==typeof n?n(i,a):n||{}}catch(t){u([t,"",[i,a,r],s])}d(e+"start",[i,a,r],s);try{return c=t.apply(a,i)}catch(t){throw d(e+"err",[i,a,t],s),t}finally{d(e+"end",[i,a,c],s)}}return i(t)?t:(e||(e=""),c[a]=t,function(t,e){if(Object.defineProperty&&Object.keys)try{return Object.keys(t).forEach(function(n){Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){return t[n]=e,e}})}),e}catch(t){u([t])}for(var n in t)s.call(t,n)&&(e[n]=t[n])}(t,c),c)}function d(n,i,r){if(!c||e){var o=c;c=!0;try{t.emit(n,i,r,e)}catch(t){u([t,n,i,r])}c=o}}function u(e){try{t.emit("internal-error",e)}catch(t){}}return t||(t=r),n.inPlace=function(t,e,r,o){r||(r="");var a,s,c,d="-"===r.charAt(0);for(c=0;c<e.length;c++)i(a=t[s=e[c]])||(t[s]=n(a,d?s+r:r,o,s))},n.flag=a,n}},{}]},{},["loader",2,16,5,3,4]),NREUM.loader_config={accountID:"936322",trustKey:"1322840",agentID:"8805631",licenseKey:"22b47b558b",applicationID:"8803923"},NREUM.info={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",licenseKey:"22b47b558b",applicationID:"8803923",sa:1},function(t,e,n){"use strict";var i,r={is_mobile:!1,target_height:240,selector:".thumb-frame",parent_class:"ftl-thumb-mosaic",indicator:".video-chin",spacing:8,oneRow:!1,renderLargeThumbnails:!0,featureFlags:{}};function o(t,e){var n;if(t&&!t.dataset.mosaicInitialized){for(n in t.dataset.mosaicInitialized="true",this.container=t,this.settings={},this.assetType=e&&e.assetType||null,r)e&&e.hasOwnProperty(n)?this.settings[n]=e[n]:r.hasOwnProperty(n)&&(this.settings[n]=r[n]);this._initialize()}}"function"!=typeof e.CustomEvent&&(e.CustomEvent=function(e,n){n=n||{bubbles:!1,cancelable:!1,detail:null};var i=t.createEvent("CustomEvent");return i.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),i},e.CustomEvent.prototype=e.Event.prototype),i=new CustomEvent("mosaicLayoutChanged",{detail:{message:"Mosaic Layout Changed",time:new Date},bubbles:!0,cancelable:!0}),o.prototype._initialize=function(){this.images=this.container.querySelectorAll(this.settings.selector),this.indicator=this.container.querySelector(this.settings.indicator),this.images_sizes=[],this.images_parents=[],this.sidebar=t.getElementById("sidebar-container"),this.panel=t.getElementById("slide-in-panel"),this.mosaicContainer=t.getElementById("mosaic-container"),this.images.length&&this._scaleLibrary(!1),this.event_handlers_set||(this.event_handlers_set=!0,this.settings.is_mobile?e.addEventListener("orientationchange",this._onReloadMosaic.bind(this)):e.addEventListener("resize",this._onWindowResize.bind(this)),e.addEventListener("reload.adobestock_mosaic",this._onReloadMosaic.bind(this)))},o.prototype.getTargetHeight=function(){if("templates"===this.assetType&&!this.settings.is_mobile)return 320;return!this.settings.is_mobile&&this.assetType&&-1===["3d","3D","templates","videos"].indexOf(this.assetType)?360:240},o.prototype.getContainerWidth=function(){var n,i=0,r=0,o=0,a=t.body.getBoundingClientRect().width,s=this.sidebar?this.sidebar.offsetWidth:0,c=this.panel?this.panel.offsetWidth:0;return this.mosaicContainer&&(n=e.getComputedStyle(this.mosaicContainer,null),i=parseInt(n.getPropertyValue("padding-left"),10)||0,r=parseInt(n.getPropertyValue("padding-right"),10)||0,o=this.mosaicContainer.style.width),(o?parseInt(o,10):a)-s-c-i-r},o.prototype._scaleLibrary=function(e){var r=this,o=0,a=0,s=0,c=0,d=this.settings.renderLargeThumbnails?this.getTargetHeight():this.settings.target_height;if(!0!==e&&(this.resize_waiting=!0,this.container.style.width="100%",this.container_width=this.getContainerWidth()),this.rows=[],this.rows_widths=[],Array.prototype.forEach.call(this.images,function(t,e){var i,u=r._getImageSizesById(e),f=u[0],l=u[1],h=f/l*d,p=d;l>c&&(c=l),r.rows[o]===n&&(r.rows[o]=[]),s+=h+r.settings.spacing,i={id:e,element:t,new_image_width:h,new_image_height:p,row:o+1,column:a+1},r.rows[o].push(i),a++,s>r.container_width-r.settings.spacing?(r.rows_widths[o]=s-r.settings.spacing,o++,a=0,s=0):e===r.images.length-1&&(r.rows_widths[o]=s)}),this.settings.target_height>c)this.settings.target_height=c,this._scaleLibrary(!0);else{for(o in this.rows)this._resizeRow(o);this.resize_waiting=!1}if(t.dispatchEvent(i),this.settings.oneRow){var u=this.container.querySelector(this.settings.selector);u&&(this.container.style.height=u.style.height)}},o.prototype._resizeRow=function(t){var e,n=this,i=this.rows[t],r=this.settings.spacing*(i.length-1),o=(this.container_width-r)/(this.rows_widths[t]-r),a=!(this.rows.length-t!=1);i.forEach(function(r,s){e=!(i.length-s!=1),n._resizeImage(i[s],[e,a,o,t])})},o.prototype._resizeImage=function(t,e){var n,i=e[0],r=e[1],o=e[2],a=e[3],s=Math.floor(t.new_image_width*o),c=Math.floor(t.new_image_height*o);if(r&&this.container_width>this.rows_widths[a]&&(s=t.new_image_width,c=t.new_image_height),t.element.style.width=s+"px",t.element.style.height=c+"px",t.element.setAttribute("data-row",t.row),t.element.setAttribute("data-column",t.column),this.indicator&&s&&c&&this.indicator.classList.remove("hidden"),n=this._getImageParentElm(t.id,t.element)){n.setAttribute("data-ingest-position",t.row+","+t.column),n.style.marginRight=i?"0px":this.settings.spacing+"px";var d=n.getAttribute("data-content-type");if(d&&-1!==d.indexOf("audio")&&this._resizeAudioElement(t),320===this.getTargetHeight()){const t="hide-chin-title";s<202?n.classList.add(t):n.classList.contains(t)&&n.classList.remove(t)}}},o.prototype._onWindowResize=function(t){var n=this;return n.resize_waiting||(n.resize_waiting=!0,e.setTimeout(function(){n._scaleLibrary(!1)},100)),t.preventDefault(),!1},o.prototype._onReloadMosaic=function(t){t&&t.detail&&t.detail.assetType&&(this.assetType=t.detail.assetType),this._initialize()},o.prototype._getImageSizesById=function(t){if(this.images[t]===n)this.images_sizes[t]=[0,0];else if(this.images_sizes[t]===n){var e=this.images[t],i=e.dataset.width||e.outerWidth,r=e.dataset.height||e.outerHeight;"true"===e.dataset.isChinBelow&&(i*=.85),this.images_sizes[t]=[parseInt(i,10),parseInt(r,10)]}return this.images_sizes[t]},o.prototype._getImageParentElm=function(t,e){if(this.images_parents[t]===n)for(;null!==(e=e.parentElement);)if(e.nodeType===Node.ELEMENT_NODE&&e.classList.contains(this.settings.parent_class)){this.images_parents[t]=e;break}return this.images_parents[t]},o.prototype._resizeAudioElement=function(t){var e=t.element.querySelector(".audio-card-container");if(e){var n=Number.parseInt(t.element.style.height),i=Number.parseInt(t.element.style.width);e.classList.remove("big","small","x-small"),n<124||i<220?e.classList.add("x-small"):n<240||i<427?e.classList.add("small"):(n<360||i<640)&&e.classList.add("big")}},e.adobestock_mosaic=o}(document,window);
